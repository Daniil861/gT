window.__require=function t(e,o,n){function i(s,c){if(!o[s]){if(!e[s]){var a=s.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!c&&l)return l(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+s+"'")}s=a}var u=o[s]={exports:{}};e[s][0].call(u.exports,function(t){return i(e[s][1][t]||t)},u,u.exports,t,e,o,n)}return o[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<n.length;s++)i(n[s]);return i}({Adapt:[function(t,e,o){"use strict";cc._RF.push(e,"39fbftpSltGaazzqzDowktW","Adapt"),Object.defineProperty(o,"__esModule",{value:!0}),o.Adapt=void 0;var n=function(){function t(){}return t.setGameSizePC=function(){cc.view.setDesignResolutionSize(this.SCREEN_WIDTH_PC,this.SCREEN_HEIGHT_PC,cc.ResolutionPolicy.FIXED_HEIGHT)},t.setGameSizeMobile=function(){cc.view.setDesignResolutionSize(this.SCREEN_WIDTH_MOB,this.SCREEN_HEIGHT_MOB,cc.ResolutionPolicy.FIXED_WIDTH)},t.setHeightDesignResolution=function(){cc.view.setResolutionPolicy(cc.ResolutionPolicy.FIXED_HEIGHT)},t.setWidthDesignResolution=function(){cc.view.setResolutionPolicy(cc.ResolutionPolicy.FIXED_WIDTH)},t.setHeighthDesignResolutionMob=function(){cc.view.setDesignResolutionSize(this.SCREEN_WIDTH_MOB,this.SCREEN_HEIGHT_MOB,cc.ResolutionPolicy.FIXED_HEIGHT)},t.getRatio=function(){return cc.view.getViewportRect().height/cc.view.getViewportRect().width},t.checkAspectRatioGame=function(t){var e=cc.view.getFrameSize().height/cc.view.getFrameSize().width,o=null==t?void 0:t.getComponent(cc.Widget);if(e<1.6){if(cc.view.setDesignResolutionSize(720,1120,cc.ResolutionPolicy.FIXED_HEIGHT),!o)return;this.setWidgetPolitic(o,!1)}else if(e<1.7){if(cc.view.setDesignResolutionSize(720,1180,cc.ResolutionPolicy.FIXED_HEIGHT),!o)return;this.setWidgetPolitic(o,!1)}else{if(cc.view.setDesignResolutionSize(720,1280,cc.ResolutionPolicy.FIXED_WIDTH),!o)return;this.setWidgetPolitic(o,!0)}},t.setWidgetPolitic=function(t,e){t.isAlignLeft=e,t.isAlignRight=e,t.isAlignBottom=e,t.isAlignTop=e},t}();o.Adapt=n,cc._RF.pop()},{}],AdsController:[function(t,e,o){"use strict";cc._RF.push(e,"fb155T7f+RBpo05qZVoCYuZ","AdsController");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function s(t){try{a(n.next(t))}catch(e){r(e)}}function c(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(s,c)}a((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function t(){}return t.init=function(){return n(this,void 0,void 0,function(){return i(this,function(){return[2,new Promise(function(e,o){gamePushInstance&&!t._gamePushInstance?(t._gamePushInstance=gamePushInstance,t._debounceData=t.debounce(function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];t._gamePushInstance.player.set(e[0],e[1]),t._gamePushInstance.player.sync()},250),e(!0)):o("Load failed")})]})})},t.getPlatform=function(){return t._gamePushInstance.platform.type},t.showStickyBanner=function(){t._gamePushInstance.ads.showSticky(),t._gamePushInstance.ads.on("sticky:start",function(){console.log("------------------\x3e sticky:start")}),t._gamePushInstance.ads.on("sticky:render",function(){console.log("------------------\x3e sticky:render")}),t._gamePushInstance.ads.on("sticky:refresh",function(){console.log("------------------\x3e sticky:refresh")})},t.showInterstitial=function(){t._gamePushInstance.ads.isFullscreenAvailable&&(t._gamePushInstance.ads.showFullscreen(),t._gamePushInstance.ads.on("fullscreen:start",function(){cc.game.pause()}),t._gamePushInstance.ads.on("fullscreen:close",function(){cc.game.resume()}))},t.showRewarded=function(){t._gamePushInstance.ads.isRewardedAvailable&&(t._gamePushInstance.ads.showRewardedVideo(),t._gamePushInstance.ads.on("rewarded:start",function(){cc.game.pause()}),t._gamePushInstance.ads.on("rewarded:close",function(){cc.game.resume()}))},t.inviteFriends=function(){t._gamePushInstance.socials&&t._gamePushInstance.socials.invite()},t.isAdsActive=function(){return!!t._gamePushInstance&&(t._gamePushInstance.ads.isFullscreenPlaying||t._gamePushInstance.ads.isRewardedPlaying)},Object.defineProperty(t,"instance",{get:function(){return t._gamePushInstance},enumerable:!1,configurable:!0}),t.loadPlayerData=function(){return n(this,void 0,void 0,function(){return i(this,function(){return t._gamePushInstance?[2,new Promise(function(e,o){t._gamePushInstance.player.load(),t._gamePushInstance.player.on("load",function(t){t?e(!0):o("Load failed")})})]:[2,!1]})})},t.getPlayerData=function(e){return!!t._gamePushInstance&&(t._gamePushInstance.player.get(e)||null)},t.setPlayerData=function(e,o){if(!t._gamePushInstance)return!1;t._debounceData(e,o)},t.debounce=function(t,e){var o;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];function r(){t.apply(this,n)}clearTimeout(o),o=setTimeout(r,e)}},t._gamePushInstance=null,t}();o.default=r,cc._RF.pop()},{}],Astar:[function(t,e,o){"use strict";cc._RF.push(e,"a352eGlZzhH0ZhnS/WNagCB","Astar"),Object.defineProperty(o,"__esModule",{value:!0}),o.MapDataVO=o.MapGrid=o.Link=o.Point=o.GridNode=o.BinaryHeap=void 0;var n=function(){function t(){this._straightCost=1,this._diagCost=Math.SQRT2,this.nowversion=1,this._smoothPath=!1}return Object.defineProperty(t,"ins",{get:function(){return null==t._instance&&(t._instance=new t),t._instance},enumerable:!1,configurable:!0}),t.prototype.init=function(t){this._grid=t,this.heuristic=this.euclidian},t.prototype.justMin=function(t,e){return t.f<e.f},t.prototype.findPath=function(t,e,o){return void 0===o&&(o=!1),this._smoothPath=o,this._startNode=this._grid.getNode(t.x,t.y),this._endNode=this.checkNode(e,20),null==this._startNode||null==this._endNode?null:(this.nowversion++,this._open=new i(this.justMin),this._startNode.g=0,this.search()?this.path:null)},t.prototype.floyd=function(t){if(null!=t){var e=t.concat(),o=e.length;if(o>2){var n=new r(0,0),i=new r(0,0);this.floydVector(n,e[o-1],e[o-2]);for(var s=e.length-3;s>=0;s--)this.floydVector(i,e[s+1],e[s]),n.x==i.x&&n.y==i.y?e.splice(s+1,1):(n.x=i.x,n.y=i.y)}for(s=(o=e.length)-1;s>=0;s--)for(var c=0;c<=s-2;c++)if(this.floydCrossAble(e[s],e[c])){for(var a=s-1;a>c;a--)e.splice(a,1);s=c,o=e.length;break}return e}},t.prototype.floydCrossAble=function(t,e){for(var o=this.bresenhamNodes(new r(t.x,t.y),new r(e.x,e.y)),n=o.length-2;n>0;n--)if(!this._grid.getNode(o[n].x,o[n].y).walkable)return!1;return!0},t.prototype.bresenhamNodes=function(t,e){var o=Math.abs(e.y-t.y)>Math.abs(e.x-t.x);if(o){var n=t.x;t.x=t.y,t.y=n,n=e.x,e.x=e.y,e.y=n}var i=e.x>t.x?1:e.x<t.x?-1:0,s=(e.y>t.y||(e.y,t.y),(e.y-t.y)/Math.abs(e.x-t.x)),c=[],a=t.x+i,l=t.y+s;for(o?c.push(new r(t.y,t.x)):c.push(new r(t.x,t.y));a!=e.x;){var u=Math.floor(l),h=Math.ceil(l);o?c.push(new r(u,a)):c.push(new r(a,u)),u!=h&&(o?c.push(new r(h,a)):c.push(new r(a,h))),a+=i,l+=s}return o?c.push(new r(e.y,e.x)):c.push(new r(e.x,e.y)),c},t.prototype.floydVector=function(t,e,o){t.x=e.x-o.x,t.y=e.y-o.y},t.prototype.search=function(){var t=this._startNode;for(this._grid.initNodeLink(this._startNode),t.version=this.nowversion;t!=this._endNode;){for(var e=t.links.length,o=0;o<e;o++){var n=t.links[o].node;if(!(0==n.walkable&&n!=this._endNode&&Math.abs(n.x-this._startNode.x)<4&&Math.abs(n.y-this._startNode.y)<4)){this._grid.initNodeLink(n);var i=t.links[o].cost,r=t.g+i,s=this.heuristic(n),c=r+s;n.version==this.nowversion?n.f>c&&(n.f=c,n.g=r,n.h=s,n.parent=t):(n.f=c,n.g=r,n.h=s,n.parent=t,this._open.ins(n),n.version=this.nowversion)}}if(1==this._open.a.length)return!1;t=this._open.pop()}return this.buildPath(),!0},t.prototype.buildPath=function(){this._path=[];var t=this._endNode;for(this._path.push(t.pt);t!=this._startNode;)t=t.parent,this._path.unshift(t.pt);this._smoothPath&&(this._path=this.floyd(this._path))},Object.defineProperty(t.prototype,"path",{get:function(){return this._path},enumerable:!1,configurable:!0}),t.prototype.checkNode=function(t,e){var o=this._grid.getNode(t.x,t.y);if(o&&o.walkable)return o;for(var n=1;n<=e;n++){var i=this.getOutLine(t,n);if(i.length>0)return i[0]}return null},t.prototype.getOutLine=function(t,e){void 0===e&&(e=1);for(var o=[],n=t.x-e;n<=t.x+e;n++)for(var i=t.y-e;i<=t.y+e;i++){var r=this._grid.getNode(n,i);if(r&&r.walkable){var s=Math.abs(r.x-t.x),c=Math.abs(r.y-t.y);s!=e&&c!=e||o.push(r)}}return o},t.prototype.manhattan=function(t){return Math.max(Math.abs(t.x-this._endNode.x)+Math.abs(t.y-this._endNode.y))},t.prototype.manhattan2=function(t){var e=Math.abs(t.x-this._endNode.x),o=Math.abs(t.y-this._endNode.y);return e+o+Math.abs(e-o)/1e3},t.prototype.euclidian=function(t){var e=t.x-this._endNode.x,o=t.y-this._endNode.y;return Math.sqrt(e*e+o*o)},t.prototype.chineseCheckersEuclidian2=function(e){var o=e.y/t.TwoOneTwoZero,n=e.x+e.y/2-this._endNode.x-this._endNode.y/2,i=o-this._endNode.y/t.TwoOneTwoZero;return Math.sqrt(n*n+i*i)},t.prototype.sqrt=function(t){return Math.sqrt(t)},t.prototype.euclidian2=function(t){var e=t.x-this._endNode.x,o=t.y-this._endNode.y;return e*e+o*o},t.prototype.diagonal=function(t){var e=Math.abs(t.x-this._endNode.x),o=Math.abs(t.y-this._endNode.y),n=Math.min(e,o),i=e+o;return this._diagCost*n+this._straightCost*(i-2*n)},t.TwoOneTwoZero=2*Math.cos(Math.PI/3),t}();o.default=n;var i=function(){function t(t){void 0===t&&(t=null),this.a=[],this.justMinFun=function(t,e){return t<e},this.a.push(-1),null!=t&&(this.justMinFun=t)}return t.prototype.ins=function(t){var e=this.a.length;this.a[e]=t;for(var o=e>>1;e>1&&this.justMinFun(this.a[e],this.a[o]);){var n=this.a[e];this.a[e]=this.a[o],this.a[o]=n,o=(e=o)>>1}},t.prototype.pop=function(){var t=this.a[1];this.a[1]=this.a[this.a.length-1],this.a.pop();for(var e=1,o=this.a.length,n=e<<1,i=n+1;n<o;){if(i<o)var r=this.justMinFun(this.a[i],this.a[n])?i:n;else r=n;if(!this.justMinFun(this.a[r],this.a[e]))break;var s=this.a[e];this.a[e]=this.a[r],this.a[r]=s,i=1+(n=(e=r)<<1)}return t},t}();o.BinaryHeap=i;o.GridNode=function(t,e){this.walkable=!0,this.version=1,this.initLink=!1,this.x=t,this.y=e,this.pt=new r(t,e)};var r=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e,this._key=t+"|"+e}return Object.defineProperty(t.prototype,"key",{get:function(){return this.x+"|"+this.y},set:function(t){this._key=t},enumerable:!1,configurable:!0}),t}();o.Point=r;var s=function(t,e){this.node=t,this.cost=e};o.Link=s;var c=function(){function t(t){this._straightCost=1,this._diagCost=Math.SQRT2,this._nodes=this.copy(t.tiles),this._numRows=t.rowNum,this._numCols=t.colNum}return t.prototype.copy=function(t){var e=Object.create(t);return Object.assign(e,t),e},t.prototype.calculateLinks=function(t){void 0===t&&(t=0),this.type=t;for(var e=0;e<this._numCols;e++)for(var o=0;o<this._numRows;o++)this.initNodeLink(this._nodes[e][o])},t.prototype.getType=function(){return this.type},t.prototype.initNodeLink=function(t){if(!t.initLink){var e=t.x-1,o=t.x+1,n=t.y-1,i=t.y+1;t.links=[];for(var r=e;r<=o;r++)for(var c=n;c<=i;c++){var a=this.getNode(r,c);if(null!=a&&a!=t&&a.walkable){var l=this._straightCost;t.x-a.x==1&&t.y-a.y==1||t.x-a.x==-1&&t.y-a.y==-1?l=this._diagCost:(t.x-a.x==-1&&t.y-a.y==1||t.x-a.x==1&&t.y-a.y==-1)&&(l=this._diagCost),t.links.push(new s(a,l))}}t.initLink=!0}},t.prototype.getNode=function(t,e){return t<0||t>=this._numRows||e<0||e>this._numCols?null:this._nodes[t][e]},t.prototype.isValid=function(t,e){return!!this.getNode(t,e)},t.prototype.setEndNode=function(t,e){this._endNode=this._nodes[t][e]},t.prototype.setStartNode=function(t,e){this._startNode=this._nodes[t][e]},t.prototype.setWalkable=function(t,e,o){this.getNode(t,e)&&(this._nodes[t][e].walkable=o)},t.prototype.getWalkable=function(t,e){return!!this.getNode(t,e)&&this.getNode(t,e).walkable},Object.defineProperty(t.prototype,"endNode",{get:function(){return this._endNode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numCols",{get:function(){return this._numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numRows",{get:function(){return this._numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startNode",{get:function(){return this._startNode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nodes",{get:function(){return this._nodes},enumerable:!1,configurable:!0}),t}();o.MapGrid=c;o.MapDataVO=function(){this.wanderPoint=[]},cc._RF.pop()},{}],AudioMgr:[function(t,e,o){"use strict";cc._RF.push(e,"1f0c2AyMRlI06uT5MNJhZks","AudioMgr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function s(t){try{a(n.next(t))}catch(e){r(e)}}function c(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(s,c)}a((n=n.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../manager/Singleton"),a=t("./Utils"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgmVolume=1,e.sfxVolume=1,e.vibrate=1,e.bgmAudioID=-1,e.audioId=-1,e.musicIndex=a.default.getRandomInt(0,4),e.bgm_url="music1",e.lastplaysfxtime={},e}return i(e,t),e.prototype.loadSounds=function(){var t=cc.sys.localStorage.getItem("bgmVolume"),o=cc.sys.localStorage.getItem("sfxVolume"),n=cc.sys.localStorage.getItem("vibrate");this.bgmVolume=0==t?Number(t):e.DEFAULT_VOLUME,this.sfxVolume=0==o?Number(o):e.DEFAULT_VOLUME,this.vibrate=0==n?Number(n):1,console.log("loadSounds",this.bgmVolume,this.sfxVolume)},e.prototype.playBgSeq=function(){var t=this.musicIndex%4+1;this.playBGM("music"+t),this.musicIndex++},e.prototype.playBGM=function(t){return r(this,void 0,void 0,function(){var e=this;return s(this,function(){return this.bgm_url=t,a.default.loadRes(""+t,"sounds",cc.AudioClip,function(t,o){e.bgmAudioID>=0&&cc.audioEngine.stop(e.bgmAudioID),e.bgmVolume>0&&(e.bgmAudioID=cc.audioEngine.play(o,!0,e.bgmVolume))}),[2]})})},e.prototype.stopSFX=function(t){return cc.audioEngine.stop(t)},e.prototype.playSFX=function(t,e){return void 0===e&&(e=20),r(this,void 0,void 0,function(){var o=this;return s(this,function(){return this.lastplaysfxtime[t]&&a.default.getServerTime()-this.lastplaysfxtime[t]<e?[2]:(this.lastplaysfxtime[t]=a.default.getServerTime(),a.default.loadRes(""+t,"sounds",cc.AudioClip,function(t,e){if(o.sfxVolume>0)return o.audioId=cc.audioEngine.play(e,!1,o.sfxVolume),o.audioId}),[2])})})},e.prototype.pauseBGM=function(){this.bgmAudioID>=0&&cc.audioEngine.pause(this.bgmAudioID)},e.prototype.resumBGM=function(){this.bgmAudioID>=0&&cc.audioEngine.resume(this.bgmAudioID)},e.prototype.setBGMVolume=function(t,e){void 0===e&&(e=!1),(this.bgmVolume!=t||e)&&(cc.sys.localStorage.setItem("bgmVolume",t),this.bgmVolume=t,cc.audioEngine.setVolume(this.bgmAudioID,t)),this.bgmAudioID>=0?t>0?cc.audioEngine.resume(this.bgmAudioID):cc.audioEngine.pause(this.bgmAudioID):this.playBGM(this.bgm_url)},e.prototype.setSFXVolume=function(t,e){void 0===e&&(e=!1),(this.sfxVolume!=t||e)&&(cc.sys.localStorage.setItem("sfxVolume",t),this.sfxVolume=t)},e.prototype.setVibrate=function(t){this.vibrate!=t&&(cc.sys.localStorage.setItem("vibrate",t),this.vibrate=t)},e.DEFAULT_VOLUME=1,e}(c.default);o.default=l,cc._RF.pop()},{"../manager/Singleton":"Singleton","./Utils":"Utils"}],AwardWin:[function(t,e,o){"use strict";cc._RF.push(e,"106f9XBWSRNmYRgjo9APzyI","AwardWin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/component/BasePanel"),c=t("../../ccstudio/Core"),a=t("../../ccstudio/data/Model"),l=cc._decorator,u=l.ccclass,h=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){this.node_ui.scale=.6,this.node_ui.opacity=0,cc.tween(this.node_ui).to(.25,{scale:1,opacity:255},{easing:"sineOut"}).start()},e.prototype.onBtnClicked=function(t,e){switch(c.Core.soundManager.playSFX("clickbtn"),e){case"btn_get":a.default.game.itemHint+=1,a.default.game.itemAdd+=1,a.default.game.itemUndo+=1,a.default.save()}this.data.callback&&this.data.callback(),this.close()},r([u],e)}(s.default));o.default=h,cc._RF.pop()},{"../../ccstudio/Core":"Core","../../ccstudio/component/BasePanel":"BasePanel","../../ccstudio/data/Model":"Model"}],Ball:[function(t,e,o){"use strict";cc._RF.push(e,"3f8e2SGX2RIWbgnRiUpgWuV","Ball");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/common/GameConst"),c=t("../../ccstudio/component/BaseUI"),a=t("../../ccstudio/data/Model"),l=t("../../ccstudio/utils/Utils"),u=cc._decorator,h=u.ccclass,p=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playEff=!1,e._type=-1,e}return i(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t,this.changeBall(),this.getComponent(cc.MotionStreak).color=s.default.TUBE_COLOR[this.type]},enumerable:!1,configurable:!0}),e.prototype.start=function(){cc.director.on(s.default.EventType.ChangeBall,this.changeBall,this)},e.prototype.onDestroy=function(){cc.director.targetOff(this)},e.prototype.changeBall=function(){var t=a.default.game.curBallType,e="fieldssets/set_"+(1==t?"default":t-1)+"/field_";l.default.setSpriteFrame(this.sp_icon,e+this._type,"texture")},r([h],e)}(c.default));o.default=p,cc._RF.pop()},{"../../ccstudio/common/GameConst":"GameConst","../../ccstudio/component/BaseUI":"BaseUI","../../ccstudio/data/Model":"Model","../../ccstudio/utils/Utils":"Utils"}],Base64:[function(t,e,o){(function(t){"use strict";cc._RF.push(e,"44024sKnxdLu7oB47cEsm7b","Base64");var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],s=0,c=r.length;s<c;s++,i++)n[i]=r[s];return n};Object.defineProperty(o,"__esModule",{value:!0}),o.Base64=o.extendBuiltins=o.extendUint8Array=o.extendString=o.toUint8Array=o.fromUint8Array=o.isValid=o.decode=o.btou=o.encodeURL=o.encodeURI=o.encode=o.utob=o.toBase64=o.fromBase64=o.btoaPolyfill=o.btoa=o.atobPolyfill=o.atob=o.VERSION=o.version=void 0,o.version="3.6.0",o.VERSION="3.6.0";var i,r="function"==typeof atob,s="function"==typeof btoa,c="function"==typeof t,a="function"==typeof TextDecoder?new TextDecoder:void 0,l="function"==typeof TextEncoder?new TextEncoder:void 0,u=n("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),h=(i={},u.forEach(function(t,e){return i[t]=e}),i),p=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,d=String.fromCharCode.bind(String),f="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(t,e){return void 0===e&&(e=function(t){return t}),new Uint8Array(Array.prototype.slice.call(t,0).map(e))},y=function(t){return t.replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=+$/m,"")},m=function(t){return t.replace(/[^A-Za-z0-9\+\/]/g,"")},_=function(t){for(var e,o,n,i,r="",s=t.length%3,c=0;c<t.length;){if((o=t.charCodeAt(c++))>255||(n=t.charCodeAt(c++))>255||(i=t.charCodeAt(c++))>255)throw new TypeError("invalid character found");r+=u[(e=o<<16|n<<8|i)>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}return s?r.slice(0,s-3)+"===".substring(s):r};o.btoaPolyfill=_;var g=s?function(t){return btoa(t)}:c?function(e){return t.from(e,"binary").toString("base64")}:_;o.btoa=g;var v=c?function(e){return t.from(e).toString("base64")}:function(t){for(var e=[],o=0,n=t.length;o<n;o+=4096)e.push(d.apply(null,t.subarray(o,o+4096)));return g(e.join(""))},b=function(t,e){return void 0===e&&(e=!1),e?y(v(t)):v(t)};o.fromUint8Array=b;var w=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?d(192|e>>>6)+d(128|63&e):d(224|e>>>12&15)+d(128|e>>>6&63)+d(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return d(240|e>>>18&7)+d(128|e>>>12&63)+d(128|e>>>6&63)+d(128|63&e)},C=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,T=function(t){return t.replace(C,w)};o.utob=T;var O=c?function(e){return t.from(e,"utf8").toString("base64")}:l?function(t){return v(l.encode(t))}:function(t){return g(T(t))},P=function(t,e){return void 0===e&&(e=!1),e?y(O(t)):O(t)};o.toBase64=P,o.encode=P;var I=function(t){return P(t,!0)};o.encodeURI=I,o.encodeURL=I;var R=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,M=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return d(55296+(e>>>10))+d(56320+(1023&e));case 3:return d((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return d((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},L=function(t){return t.replace(R,M)};o.btou=L;var A=function(t){if(t=t.replace(/\s+/g,""),!p.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));for(var e,o,n,i="",r=0;r<t.length;)e=h[t.charAt(r++)]<<18|h[t.charAt(r++)]<<12|(o=h[t.charAt(r++)])<<6|(n=h[t.charAt(r++)]),i+=64===o?d(e>>16&255):64===n?d(e>>16&255,e>>8&255):d(e>>16&255,e>>8&255,255&e);return i};o.atobPolyfill=A;var x=r?function(t){return atob(m(t))}:c?function(e){return t.from(e,"base64").toString("binary")}:A;o.atob=x;var S=c?function(e){return f(t.from(e,"base64"))}:function(t){return f(x(t),function(t){return t.charCodeAt(0)})},B=function(t){return S(E(t))};o.toUint8Array=B;var k=c?function(e){return t.from(e,"base64").toString("utf8")}:a?function(t){return a.decode(S(t))}:function(t){return L(x(t))},E=function(t){return m(t.replace(/[-_]/g,function(t){return"-"==t?"+":"/"}))},j=function(t){return k(E(t))};o.fromBase64=j,o.decode=j;var D=function(t){if("string"!=typeof t)return!1;var e=t.replace(/\s+/g,"").replace(/=+$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)};o.isValid=D;var F=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}},N=function(){var t=function(t,e){return Object.defineProperty(String.prototype,t,F(e))};t("fromBase64",function(){return j(this)}),t("toBase64",function(t){return P(this,t)}),t("toBase64URI",function(){return P(this,!0)}),t("toBase64URL",function(){return P(this,!0)}),t("toUint8Array",function(){return B(this)})};o.extendString=N;var U=function(){var t=function(t,e){return Object.defineProperty(Uint8Array.prototype,t,F(e))};t("toBase64",function(t){return b(this,t)}),t("toBase64URI",function(){return b(this,!0)}),t("toBase64URL",function(){return b(this,!0)})};o.extendUint8Array=U;var G=function(){N(),U()};o.extendBuiltins=G;var V={version:"3.6.0",VERSION:"3.6.0",atob:x,atobPolyfill:A,btoa:g,btoaPolyfill:_,fromBase64:j,toBase64:P,encode:P,encodeURI:I,encodeURL:I,utob:T,btou:L,decode:j,isValid:D,fromUint8Array:b,toUint8Array:B,extendString:N,extendUint8Array:U,extendBuiltins:G};o.Base64=V,cc._RF.pop()}).call(this,t("buffer").Buffer)},{buffer:2}],BasePanel:[function(t,e,o){"use strict";cc._RF.push(e,"0ed2epyN9JJHqmDqK3fNubI","BasePanel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../Core"),c=t("./BaseUI"),a=cc._decorator,l=a.ccclass,u=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.show=function(t){this.data=t},e.prototype.panelDataUpdate=function(){},e.prototype.close=function(){s.Core.win.removeWindow(this.node.name)},e.prototype.recycle=function(){},r([l],e)}(c.default));o.default=u,cc._RF.pop()},{"../Core":"Core","./BaseUI":"BaseUI"}],BaseScene:[function(t,e,o){"use strict";cc._RF.push(e,"09531mc8FBNgrFVVtXUsepp","BaseScene");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../Core"),c=t("./BaseUI"),a=cc._decorator,l=a.ccclass,u=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.show=function(){},e.prototype.panelDataUpdate=function(){},e.prototype.close=function(){s.Core.scene.removeWindow(this.node.name)},r([l],e)}(c.default));o.default=u,cc._RF.pop()},{"../Core":"Core","./BaseUI":"BaseUI"}],BaseUI:[function(t,e,o){"use strict";cc._RF.push(e,"0bbb9Z9AFBGj7go9HVxh0y0","BaseUI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./FrameAnimation"),c=t("./LinkPrefab"),a=t("./ListView"),l=cc._decorator,u=l.ccclass,h=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_objects=new Map,e}return i(e,t),e.prototype.onLoad=function(){this.autoMapping(this.node)},e.prototype.autoMapping=function(t){var e=t.name.split("_");if(e.length>1){var o=t.name;switch(e[0]){case"node":this[o]=t;break;case"btn":this[o]=t.getComponent(cc.Button),this[o]&&((n=new cc.Component.EventHandler).target=this.node,n.component=cc.js.getClassName(this),n.handler="onBtnClicked",n.customEventData=o,t.getComponent(cc.Button).clickEvents.push(n));break;case"progress":this[o]=t.getComponent(cc.ProgressBar);break;case"txt":case"lbl":this[o]=t.getComponent(cc.Label);break;case"sp":this[o]=t.getComponent(cc.Sprite);break;case"spine":this[o]=t.getComponent(sp.Skeleton);break;case"link":this[o]=t.getComponent(c.default);break;case"toggle":case"tog":var n;this[o]=t.getComponent(cc.Toggle),this[o]&&((n=new cc.Component.EventHandler).target=this.node,n.component=cc.js.getClassName(this),n.handler="onBtnClicked",n.customEventData=o,t.getComponent(cc.Toggle).clickEvents.push(n));break;case"toc":this[o]=t.getComponent(cc.ToggleContainer);break;case"page":this[o]=t.getComponent(cc.PageView);break;case"clip":this[o]=t.getComponent(s.FrameAnimation);break;case"list":this[o]=t.getComponent(a.default)}}for(var i=0,r=t.children;i<r.length;i++){var l=r[i];this.autoMapping(l)}},e.prototype.onBtnClicked=function(){},e.prototype._findInChildren=function(t,e){var o=t.getChildByName(e);if(o)return o;if(0==t.childrenCount)return null;for(var n=0;n<t.childrenCount;++n){var i=this._findInChildren(t.children[n],e);if(i)return i}return null},e.prototype.SetSpriteUrl=function(t,e){if(window.wx||window.tt||window.qq)if(e&&""!=e){var o=this.GetGameObject(t);o&&cc.loader.load({url:e,type:"jpg"},function(t,e){if(!t){if(!cc.isValid(o))return;o.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e)}})}else this.GetSprite(t)&&(this.GetSprite(t).spriteFrame=null)},e.prototype.GetGameObject=function(t,e,o){if(void 0===e&&(e=null),void 0===o&&(o=!1),e||(e=this.node),!cc.isValid(e))return null;if(!o){if(this.m_objects&&this.m_objects.has(t))return this.m_objects[t];if(t==e.name)return e}var n;return-1!=t.indexOf("/")?((n=cc.find(t,e))&&(this.m_objects[t]=n),n):((n=this._findInChildren(e,t))&&(this.m_objects[t]=n),n)},e.prototype.GetSkeleton=function(t){if(this.m_objects&&this.m_objects.has(t))return this.m_objects[t].getComponent(sp.Skeleton);var e=this.GetGameObject(t);return e?e.getComponent(sp.Skeleton):null},e.prototype.GetSprite=function(t){if(this.m_objects&&this.m_objects.has(t))return this.m_objects[t].getComponent(cc.Sprite);var e=this.GetGameObject(t);return e?e.getComponent(cc.Sprite):null},e.prototype.GetText=function(t){if(this.m_objects&&this.m_objects.has(t))return this.m_objects[t].getComponent(cc.Label);var e=this.GetGameObject(t);return e?e.getComponent(cc.Label):null},e.prototype.GetProgressBar=function(t){if(this.m_objects&&this.m_objects.has(t))return this.m_objects[t].getComponent(cc.ProgressBar);var e=this.GetGameObject(t);return e?e.getComponent(cc.ProgressBar):null},e.prototype.GetButton=function(t){if(this.m_objects&&this.m_objects.has(t))return this.m_objects[t].getComponent(cc.Button);var e=this.GetGameObject(t);return e?e.getComponent(cc.Button):null},e.prototype.GetInputField=function(t){if(this.m_objects&&this.m_objects.has(t))return this.m_objects[t].getComponent(cc.EditBox);var e=this.GetGameObject(t);return e?e.getComponent(cc.EditBox):null},e.prototype.GetSlider=function(t){if(this.m_objects&&this.m_objects.has(t))return this.m_objects[t].getComponent(cc.Slider);var e=this.GetGameObject(t);return e?e.getComponent(cc.Slider):null},e.prototype.SetText=function(t,e){this.GetText(t)&&(this.GetText(t).string=e)},e.prototype.SetInputText=function(t,e){this.GetInputField(t)&&(this.GetInputField(t).string=e)},e.prototype.SetProgressBar=function(t,e){this.GetProgressBar(t)&&(this.GetProgressBar(t).progress=e)},e.prototype.getChildByName=function(t,e){return cc.find(t,e||this.node)},r([u],e)}(cc.Component));o.default=h,cc._RF.pop()},{"./FrameAnimation":"FrameAnimation","./LinkPrefab":"LinkPrefab","./ListView":"ListView"}],BezierUtil:[function(t,e,o){"use strict";cc._RF.push(e,"1633ewp23pOU6pYdnxOhl6N","BezierUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.s=function(e){return Math.sqrt(t.A*e*e+t.B*e+t.C)},t.L=function(e){var o=Math.sqrt(t.C+e*(t.B+t.A*e)),n=2*t.A*e*o+t.B*(o-Math.sqrt(t.C)),i=Math.log(t.B+2*Math.sqrt(t.A)*Math.sqrt(t.C)),r=Math.log(t.B+2*t.A*e+2*Math.sqrt(t.A)*o);return(2*Math.sqrt(t.A)*n+(t.B*t.B-4*t.A*t.C)*(i-r))/(8*Math.pow(t.A,1.5))},t.InvertL=function(e,o){for(var n,i=e;n=i-(t.L(i)-o)/t.s(i),!(Math.abs(i-n)<1e-6);)i=n;return n},t.init=function(e,o,n,i){return t.p0=e,t.p1=o,t.p2=n,t.ax=t.p0.x-2*t.p1.x+t.p2.x,t.ay=t.p0.y-2*t.p1.y+t.p2.y,t.bx=2*t.p1.x-2*t.p0.x,t.by=2*t.p1.y-2*t.p0.y,t.A=4*(t.ax*t.ax+t.ay*t.ay),t.B=4*(t.ax*t.bx+t.ay*t.by),t.C=t.bx*t.bx+t.by*t.by,t.total_length=t.L(1),t.step=Math.floor(t.total_length/i),t.total_length%i>i/2&&t.step++,t.step},t.getAnchorPoint=function(e){if(e>=0&&e<=t.step){var o=e/t.step,n=o*t.total_length,i=(1-(o=t.InvertL(o,n)))*(1-o)*t.p0.x+2*(1-o)*o*t.p1.x+o*o*t.p2.x,r=(1-o)*(1-o)*t.p0.y+2*(1-o)*o*t.p1.y+o*o*t.p2.y,s=new cc.Vec2((1-o)*t.p0.x+o*t.p1.x,(1-o)*t.p0.y+o*t.p1.y),c=new cc.Vec2((1-o)*t.p1.x+o*t.p2.x,(1-o)*t.p1.y+o*t.p2.y),a=c.x-s.x,l=c.y-s.y,u=180*Math.atan2(l,a)/Math.PI;return new Array(i,r,u)}return[]},t}();o.default=n,cc._RF.pop()},{}],BgLight:[function(t,e,o){"use strict";cc._RF.push(e,"f728dVbk65LHaJIXlC7m8Fh","BgLight");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/common/GameConst"),c=t("../../ccstudio/data/Model"),a=cc._decorator,l=a.ccclass,u=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._bol=!1,e._bg=!1,e}return i(e,t),Object.defineProperty(e.prototype,"bol",{get:function(){return this._bol},set:function(t){this._bol=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bg",{get:function(){return this._bg},set:function(t){this._bg=t},enumerable:!1,configurable:!0}),e.prototype.start=function(){cc.director.on(s.default.EventType.ChangeTheme,this.onChange,this),this.onChange()},e.prototype.onChange=function(){if(this.node){var t=c.default.game.curThemeType;this.bol?this.node.color=s.default.THEME_COLOR2[t-1]:this._bg?this.node.color=s.default.THEME_COLOR3[t-1]:this.node.color=s.default.THEME_COLOR[t-1]}},e.prototype.onDestroy=function(){cc.director.targetOff(this)},r([u({type:cc.Boolean})],e.prototype,"_bol",void 0),r([u({type:cc.Boolean})],e.prototype,"bol",null),r([u({type:cc.Boolean})],e.prototype,"_bg",void 0),r([u({type:cc.Boolean})],e.prototype,"bg",null),r([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../ccstudio/common/GameConst":"GameConst","../../ccstudio/data/Model":"Model"}],BigNumber:[function(t,e,o){"use strict";cc._RF.push(e,"54e77vDtqxBzobog1OBgJmv","BigNumber");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=(i.property,function(){function t(){}var e;return e=t,t.genLetters=function(){if(!this.aLetters){for(var t=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e=["K",3,"M",6,"B",9,"T",12],o=0,n=15;n<400;n+=3){for(var i=Math.floor(o/26)+2,r="",s=0;s<i;++s)r+=t[o%26];e.push(r,n),o++}this.aLetters=e}},t.getN=function(t){this.genLetters();for(var o=0;o<e.aLetters.length;){if(e.aLetters[o]==t)return Math.pow(10,e.aLetters[o+1]);o+=2}return 0},t.getLargeString=function(t,o,n){if(void 0===o&&(o="K"),void 0===n&&(n=!0),this.genLetters(),0==t)return t+"";for(var i=NaN,r=Math.round(t/Math.abs(t)),s=t=Math.abs(t),c=0,a=0,l=0,u=0;u<e.aLetters.length;){if(e.aLetters[u]==o){a=u;break}u+=2}if(t<Math.pow(10,e.aLetters[a+1]))c=-1;else{for(i=Math.pow(10,e.aLetters[a+1]),c=a/2;s/1e3>=i;)s/=1e3,c++;for(;s/1e3>=1e3;)s/=1e3}return-1==c?e.addSeparators(Math.round((t-.5)*r).toString()):(s/1e3<10?l=2:s/1e3<100&&(l=1),s/=Math.pow(10,3-l),s=parseInt(s),s/=Math.pow(10,l),n?(s*r).toFixed(1)+""+e.aLetters[2*c]:(s*r).toString()+""+e.aLetters[2*c])},t.addSeparators=function(t,e){void 0===e&&(e=",");var o="-"==t.charAt(0);o&&(t=t.substr(1));for(var n="",i=0,r=t.length-1;r>0;)n=t.charAt(r)+n,++i%3==0&&(n=e+n),r-=1;return n=t.charAt(0)+n,o&&(n="-"+n),n},t.convertToLargeString=function(t){return e.getStringOfNumber(t)},t.getStringOfNumber=function(t,e,o,n){void 0===e&&(e=!1),void 0===o&&(o=!1),void 0===n&&(n=!1);var i=1;n&&(i=10);var r=Math.round(t);if(Math.round(t)>=1e6&&r<1e9&&e)return(Math.round(r/1e3/i)/(1e3/i)).toString()+" M";if(r>=1e9&&r<1e12)return(Math.round(r/1e6/i)/(1e3/i)).toString()+" B";if(r>=1e12&&r<1e15)return(Math.round(r/1e9/i)/(1e3/i)).toString()+" T";if(r>=1e15&&r<1e18)return(Math.round(r/1e12/i)/(1e3/i)).toString()+" q";if(r>=1e18&&r<1e21)return(Math.round(r/1e15/i)/(1e3/i)).toString()+" Qq";if(r>=1e21&&r<1e24)return(Math.round(r/1e18/i)/(1e3/i)).toString()+" s";if(r>=1e24&&r<1e27)return(Math.round(r/1e21/i)/(1e3/i)).toString()+" Ss";if(r>=1e27&&r<1e30)return(Math.round(r/1e24/i)/(1e3/i)).toString()+" O";if(r>=1e30&&r<1e33)return(Math.round(r/1e27/i)/(1e3/i)).toString()+" N";if(r>=1e33&&r<1e26)return(Math.round(r/1e30/i)/(1e3/i)).toString()+" d";if(r>=1e26&&r<1e29)return(Math.round(r/1e33/i)/(1e3/i)).toString()+" U";if(r>=1e29&&r<1e32)return(Math.round(r/1e26/i)/(1e3/i)).toString()+" Dd";var s=" ";o&&(s=",");for(var c="",a=String(Math.round(t)),l=String(Math.round(t)).length-1;l>=0;)3==(c=a.charAt(l)+c).length&&0!=l&&(c=s+c),7==c.length&&0!=l&&(c=s+c),l-=1;return c},t.aLetters=null,e=n([r],t)}());o.default=s,cc._RF.pop()},{}],BusyLoadingManager:[function(t,e,o){"use strict";cc._RF.push(e,"12c2cVzRyxCUJXLkf/ktf0p","BusyLoadingManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.BUSY_TYPE=void 0;var n=t("../Core"),i=t("../utils/Utils");(function(t){t[t.NET=0]="NET",t[t.RES=1]="RES"})(o.BUSY_TYPE||(o.BUSY_TYPE={}));var r=function(){function t(){this.busyMap=new Map,this.timerID=null,this.delay=300}return Object.defineProperty(t,"ins",{get:function(){return null==t.instance&&(t.instance=new t),t.instance},enumerable:!1,configurable:!0}),t.prototype.init=function(){var t=this;i.default.loadRes("common/BusyLoading","prefabs",cc.Prefab,function(e,o){t.loadingUI=cc.instantiate(o),t.loadingUI.zIndex=999})},t.prototype.addBusy=function(t){if(null!=this.loadingUI){var e=this.busyMap.get(t);e?this.busyMap.set(t,e+1):this.busyMap.set(t,1),this.checkBusy()}else this.init()},t.prototype.removeBusy=function(t){var e=this.busyMap.get(t);e?this.busyMap.set(t,e-1):cc.warn("remove busy error",t),this.checkBusy()},t.prototype.checkBusy=function(){var t=this;if(null!=this.loadingUI&&cc.isValid(this.loadingUI))if(this.getBusyCount()>0){var e=this,o=function(){t.getBusyCount()>0?(e.loadingUI.opacity=255,e.updateTips()):cc.warn("timeout end waitcnt is 0"),t.timerID=null};this.timerID?(clearTimeout(this.timerID),this.timerID=setTimeout(o,this.delay)):this.loadingUI.parent?this.updateTips():(this.loadingUI.opacity=0,this.loadingUI.parent=n.Core.layer.container,this.timerID=setTimeout(o,this.delay))}else this.timerID&&(clearTimeout(this.timerID),this.timerID=0),this.loadingUI.parent&&this.loadingUI.removeFromParent();else this.init()},t.prototype.updateTips=function(){},t.prototype.getBusyCount=function(){var t=0;return this.busyMap.forEach(function(e){t+=e}),t},t.instance=null,t}();o.default=r,cc._RF.pop()},{"../Core":"Core","../utils/Utils":"Utils"}],BusyLoading:[function(t,e,o){"use strict";cc._RF.push(e,"c1854C3vLJI+qixohh/HfGf","BusyLoading");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/component/BaseUI"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){cc.Tween.stopAllByTarget(this.node_circle),cc.tween(this.node_circle).by(1,{angle:-360}).repeatForever().start()},r([a],e)}(s.default));o.default=l,cc._RF.pop()},{"../../ccstudio/component/BaseUI":"BaseUI"}],1:[function(t,e,o){"use strict";o.byteLength=function(t){var e=l(t),o=e[0],n=e[1];return 3*(o+n)/4-n},o.toByteArray=function(t){var e,o,n=l(t),s=n[0],c=n[1],a=new r(u(0,s,c)),h=0,p=c>0?s-4:s;for(o=0;o<p;o+=4)e=i[t.charCodeAt(o)]<<18|i[t.charCodeAt(o+1)]<<12|i[t.charCodeAt(o+2)]<<6|i[t.charCodeAt(o+3)],a[h++]=e>>16&255,a[h++]=e>>8&255,a[h++]=255&e;return 2===c&&(e=i[t.charCodeAt(o)]<<2|i[t.charCodeAt(o+1)]>>4,a[h++]=255&e),1===c&&(e=i[t.charCodeAt(o)]<<10|i[t.charCodeAt(o+1)]<<4|i[t.charCodeAt(o+2)]>>2,a[h++]=e>>8&255,a[h++]=255&e),a},o.fromByteArray=function(t){for(var e,o=t.length,i=o%3,r=[],s=0,c=o-i;s<c;s+=16383)r.push(h(t,s,s+16383>c?c:s+16383));return 1===i?(e=t[o-1],r.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[o-2]<<8)+t[o-1],r.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),r.join("")};for(var n=[],i=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,a=s.length;c<a;++c)n[c]=s[c],i[s.charCodeAt(c)]=c;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=t.indexOf("=");return-1===o&&(o=e),[o,o===e?0:4-o%4]}function u(t,e,o){return 3*(e+o)/4-o}function h(t,e,o){for(var i,r,s=[],c=e;c<o;c+=3)i=(t[c]<<16&16711680)+(t[c+1]<<8&65280)+(255&t[c+2]),s.push(n[(r=i)>>18&63]+n[r>>12&63]+n[r>>6&63]+n[63&r]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(t,e,o){(function(e){"use strict";var n=t("base64-js"),i=t("ieee754"),r=t("isarray");function s(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=a.prototype:(null===t&&(t=new a(e)),t.length=e),t}function a(t,e,o){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(t,e,o);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return p(this,t)}return l(this,t,e,o)}function l(t,e,o,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?y(t,e,o,n):"string"==typeof e?d(t,e,o):m(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e,o,n){return u(e),e<=0?c(t,e):void 0!==o?"string"==typeof n?c(t,e).fill(o,n):c(t,e).fill(o):c(t,e)}function p(t,e){if(u(e),t=c(t,e<0?0:0|_(e)),!a.TYPED_ARRAY_SUPPORT)for(var o=0;o<e;++o)t[o]=0;return t}function d(t,e,o){if("string"==typeof o&&""!==o||(o="utf8"),!a.isEncoding(o))throw new TypeError('"encoding" must be a valid string encoding');var n=0|g(e,o),i=(t=c(t,n)).write(e,o);return i!==n&&(t=t.slice(0,i)),t}function f(t,e){var o=e.length<0?0:0|_(e.length);t=c(t,o);for(var n=0;n<o;n+=1)t[n]=255&e[n];return t}function y(t,e,o,n){if(e.byteLength,o<0||e.byteLength<o)throw new RangeError("'offset' is out of bounds");if(e.byteLength<o+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===o&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,o):new Uint8Array(e,o,n),a.TYPED_ARRAY_SUPPORT?(t=e).__proto__=a.prototype:t=f(t,e),t}function m(t,e){if(a.isBuffer(e)){var o=0|_(e.length);return 0===(t=c(t,o)).length?t:(e.copy(t,0,0,o),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?c(t,0):f(t,e);if("Buffer"===e.type&&r(e.data))return f(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function _(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function g(t,e){if(a.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var o=t.length;if(0===o)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":case void 0:return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*o;case"hex":return o>>>1;case"base64":return J(t).length;default:if(n)return Y(t).length;e=(""+e).toLowerCase(),n=!0}}function v(t,e,o){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===o||o>this.length)&&(o=this.length),o<=0)return"";if((o>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return E(this,e,o);case"utf8":case"utf-8":return A(this,e,o);case"ascii":return B(this,e,o);case"latin1":case"binary":return k(this,e,o);case"base64":return L(this,e,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,e,o);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,e,o){var n=t[e];t[e]=t[o],t[o]=n}function w(t,e,o,n,i){if(0===t.length)return-1;if("string"==typeof o?(n=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,isNaN(o)&&(o=i?0:t.length-1),o<0&&(o=t.length+o),o>=t.length){if(i)return-1;o=t.length-1}else if(o<0){if(!i)return-1;o=0}if("string"==typeof e&&(e=a.from(e,n)),a.isBuffer(e))return 0===e.length?-1:C(t,e,o,n,i);if("number"==typeof e)return e&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,o):Uint8Array.prototype.lastIndexOf.call(t,e,o):C(t,[e],o,n,i);throw new TypeError("val must be string, number or Buffer")}function C(t,e,o,n,i){var r,s=1,c=t.length,a=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,c/=2,a/=2,o/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var u=-1;for(r=o;r<c;r++)if(l(t,r)===l(e,-1===u?0:r-u)){if(-1===u&&(u=r),r-u+1===a)return u*s}else-1!==u&&(r-=r-u),u=-1}else for(o+a>c&&(o=c-a),r=o;r>=0;r--){for(var h=!0,p=0;p<a;p++)if(l(t,r+p)!==l(e,p)){h=!1;break}if(h)return r}return-1}function T(t,e,o,n){o=Number(o)||0;var i=t.length-o;n?(n=Number(n))>i&&(n=i):n=i;var r=e.length;if(r%2!=0)throw new TypeError("Invalid hex string");n>r/2&&(n=r/2);for(var s=0;s<n;++s){var c=parseInt(e.substr(2*s,2),16);if(isNaN(c))return s;t[o+s]=c}return s}function O(t,e,o,n){return K(Y(e,t.length-o),t,o,n)}function P(t,e,o,n){return K(q(e),t,o,n)}function I(t,e,o,n){return P(t,e,o,n)}function R(t,e,o,n){return K(J(e),t,o,n)}function M(t,e,o,n){return K(Z(e,t.length-o),t,o,n)}function L(t,e,o){return 0===e&&o===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,o))}function A(t,e,o){o=Math.min(t.length,o);for(var n=[],i=e;i<o;){var r,s,c,a,l=t[i],u=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=o)switch(h){case 1:l<128&&(u=l);break;case 2:128==(192&(r=t[i+1]))&&(a=(31&l)<<6|63&r)>127&&(u=a);break;case 3:r=t[i+1],s=t[i+2],128==(192&r)&&128==(192&s)&&(a=(15&l)<<12|(63&r)<<6|63&s)>2047&&(a<55296||a>57343)&&(u=a);break;case 4:r=t[i+1],s=t[i+2],c=t[i+3],128==(192&r)&&128==(192&s)&&128==(192&c)&&(a=(15&l)<<18|(63&r)<<12|(63&s)<<6|63&c)>65535&&a<1114112&&(u=a)}null===u?(u=65533,h=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=h}return S(n)}o.Buffer=a,o.SlowBuffer=function(t){return+t!=t&&(t=0),a.alloc(+t)},o.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),o.kMaxLength=s(),a.poolSize=8192,a._augment=function(t){return t.__proto__=a.prototype,t},a.from=function(t,e,o){return l(null,t,e,o)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(t,e,o){return h(null,t,e,o)},a.allocUnsafe=function(t){return p(null,t)},a.allocUnsafeSlow=function(t){return p(null,t)},a.isBuffer=function(t){return!(null==t||!t._isBuffer)},a.compare=function(t,e){if(!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var o=t.length,n=e.length,i=0,r=Math.min(o,n);i<r;++i)if(t[i]!==e[i]){o=t[i],n=e[i];break}return o<n?-1:n<o?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!r(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var o;if(void 0===e)for(e=0,o=0;o<t.length;++o)e+=t[o].length;var n=a.allocUnsafe(e),i=0;for(o=0;o<t.length;++o){var s=t[o];if(!a.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},a.byteLength=g,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)b(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},a.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):v.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",e=o.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,e,o,n,i){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===o&&(o=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||o>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=o)return 0;if(n>=i)return-1;if(e>=o)return 1;if(this===t)return 0;for(var r=(i>>>=0)-(n>>>=0),s=(o>>>=0)-(e>>>=0),c=Math.min(r,s),l=this.slice(n,i),u=t.slice(e,o),h=0;h<c;++h)if(l[h]!==u[h]){r=l[h],s=u[h];break}return r<s?-1:s<r?1:0},a.prototype.includes=function(t,e,o){return-1!==this.indexOf(t,e,o)},a.prototype.indexOf=function(t,e,o){return w(this,t,e,o,!0)},a.prototype.lastIndexOf=function(t,e,o){return w(this,t,e,o,!1)},a.prototype.write=function(t,e,o,n){if(void 0===e)n="utf8",o=this.length,e=0;else if(void 0===o&&"string"==typeof e)n=e,o=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(o)?(o|=0,void 0===n&&(n="utf8")):(n=o,o=void 0)}var i=this.length-e;if((void 0===o||o>i)&&(o=i),t.length>0&&(o<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var r=!1;;)switch(n){case"hex":return T(this,t,e,o);case"utf8":case"utf-8":return O(this,t,e,o);case"ascii":return P(this,t,e,o);case"latin1":case"binary":return I(this,t,e,o);case"base64":return R(this,t,e,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,e,o);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),r=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function S(t){var e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);for(var o="",n=0;n<e;)o+=String.fromCharCode.apply(String,t.slice(n,n+=x));return o}function B(t,e,o){var n="";o=Math.min(t.length,o);for(var i=e;i<o;++i)n+=String.fromCharCode(127&t[i]);return n}function k(t,e,o){var n="";o=Math.min(t.length,o);for(var i=e;i<o;++i)n+=String.fromCharCode(t[i]);return n}function E(t,e,o){var n,i=t.length;(!e||e<0)&&(e=0),(!o||o<0||o>i)&&(o=i);for(var r="",s=e;s<o;++s)r+=(n=t[s])<16?"0"+n.toString(16):n.toString(16);return r}function j(t,e,o){for(var n=t.slice(e,o),i="",r=0;r<n.length;r+=2)i+=String.fromCharCode(n[r]+256*n[r+1]);return i}function D(t,e,o){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>o)throw new RangeError("Trying to access beyond buffer length")}function F(t,e,o,n,i,r){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<r)throw new RangeError('"value" argument is out of bounds');if(o+n>t.length)throw new RangeError("Index out of range")}function N(t,e,o,n){e<0&&(e=65535+e+1);for(var i=0,r=Math.min(t.length-o,2);i<r;++i)t[o+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function U(t,e,o,n){e<0&&(e=4294967295+e+1);for(var i=0,r=Math.min(t.length-o,4);i<r;++i)t[o+i]=e>>>8*(n?i:3-i)&255}function G(t,e,o,n){if(o+n>t.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function V(t,e,o,n,r){return r||G(t,0,o,4),i.write(t,e,o,n,23,4),o+4}function W(t,e,o,n,r){return r||G(t,0,o,8),i.write(t,e,o,n,52,8),o+8}a.prototype.slice=function(t,e){var o,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),a.TYPED_ARRAY_SUPPORT)(o=this.subarray(t,e)).__proto__=a.prototype;else{var i=e-t;o=new a(i,void 0);for(var r=0;r<i;++r)o[r]=this[r+t]}return o},a.prototype.readUIntLE=function(t,e,o){t|=0,e|=0,o||D(t,e,this.length);for(var n=this[t],i=1,r=0;++r<e&&(i*=256);)n+=this[t+r]*i;return n},a.prototype.readUIntBE=function(t,e,o){t|=0,e|=0,o||D(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},a.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,o){t|=0,e|=0,o||D(t,e,this.length);for(var n=this[t],i=1,r=0;++r<e&&(i*=256);)n+=this[t+r]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},a.prototype.readIntBE=function(t,e,o){t|=0,e|=0,o||D(t,e,this.length);for(var n=e,i=1,r=this[t+--n];n>0&&(i*=256);)r+=this[t+--n]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},a.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var o=this[t]|this[t+1]<<8;return 32768&o?4294901760|o:o},a.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var o=this[t+1]|this[t]<<8;return 32768&o?4294901760|o:o},a.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),i.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),i.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),i.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),i.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,o,n){t=+t,e|=0,o|=0,n||F(this,t,e,o,Math.pow(2,8*o)-1,0);var i=1,r=0;for(this[e]=255&t;++r<o&&(i*=256);)this[e+r]=t/i&255;return e+o},a.prototype.writeUIntBE=function(t,e,o,n){t=+t,e|=0,o|=0,n||F(this,t,e,o,Math.pow(2,8*o)-1,0);var i=o-1,r=1;for(this[e+i]=255&t;--i>=0&&(r*=256);)this[e+i]=t/r&255;return e+o},a.prototype.writeUInt8=function(t,e,o){return t=+t,e|=0,o||F(this,t,e,1,255,0),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,o){return t=+t,e|=0,o||F(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},a.prototype.writeUInt16BE=function(t,e,o){return t=+t,e|=0,o||F(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},a.prototype.writeUInt32LE=function(t,e,o){return t=+t,e|=0,o||F(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):U(this,t,e,!0),e+4},a.prototype.writeUInt32BE=function(t,e,o){return t=+t,e|=0,o||F(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},a.prototype.writeIntLE=function(t,e,o,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*o-1);F(this,t,e,o,i-1,-i)}var r=0,s=1,c=0;for(this[e]=255&t;++r<o&&(s*=256);)t<0&&0===c&&0!==this[e+r-1]&&(c=1),this[e+r]=(t/s>>0)-c&255;return e+o},a.prototype.writeIntBE=function(t,e,o,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*o-1);F(this,t,e,o,i-1,-i)}var r=o-1,s=1,c=0;for(this[e+r]=255&t;--r>=0&&(s*=256);)t<0&&0===c&&0!==this[e+r+1]&&(c=1),this[e+r]=(t/s>>0)-c&255;return e+o},a.prototype.writeInt8=function(t,e,o){return t=+t,e|=0,o||F(this,t,e,1,127,-128),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,o){return t=+t,e|=0,o||F(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},a.prototype.writeInt16BE=function(t,e,o){return t=+t,e|=0,o||F(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},a.prototype.writeInt32LE=function(t,e,o){return t=+t,e|=0,o||F(this,t,e,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):U(this,t,e,!0),e+4},a.prototype.writeInt32BE=function(t,e,o){return t=+t,e|=0,o||F(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},a.prototype.writeFloatLE=function(t,e,o){return V(this,t,e,!0,o)},a.prototype.writeFloatBE=function(t,e,o){return V(this,t,e,!1,o)},a.prototype.writeDoubleLE=function(t,e,o){return W(this,t,e,!0,o)},a.prototype.writeDoubleBE=function(t,e,o){return W(this,t,e,!1,o)},a.prototype.copy=function(t,e,o,n){if(o||(o=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<o&&(n=o),n===o)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(o<0||o>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-o&&(n=t.length-e+o);var i,r=n-o;if(this===t&&o<e&&e<n)for(i=r-1;i>=0;--i)t[i+e]=this[i+o];else if(r<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<r;++i)t[i+e]=this[i+o];else Uint8Array.prototype.set.call(t,this.subarray(o,o+r),e);return r},a.prototype.fill=function(t,e,o,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,o=this.length):"string"==typeof o&&(n=o,o=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<o)throw new RangeError("Out of range index");if(o<=e)return this;var r;if(e>>>=0,o=void 0===o?this.length:o>>>0,t||(t=0),"number"==typeof t)for(r=e;r<o;++r)this[r]=t;else{var s=a.isBuffer(t)?t:Y(new a(t,n).toString()),c=s.length;for(r=0;r<o-e;++r)this[r+e]=s[r%c]}return this};var H=/[^+\/0-9A-Za-z-_]/g;function z(t){if((t=X(t).replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function X(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Y(t,e){var o;e=e||1/0;for(var n=t.length,i=null,r=[],s=0;s<n;++s){if((o=t.charCodeAt(s))>55295&&o<57344){if(!i){if(o>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&r.push(239,191,189);continue}i=o;continue}if(o<56320){(e-=3)>-1&&r.push(239,191,189),i=o;continue}o=65536+(i-55296<<10|o-56320)}else i&&(e-=3)>-1&&r.push(239,191,189);if(i=null,o<128){if((e-=1)<0)break;r.push(o)}else if(o<2048){if((e-=2)<0)break;r.push(o>>6|192,63&o|128)}else if(o<65536){if((e-=3)<0)break;r.push(o>>12|224,o>>6&63|128,63&o|128)}else{if(!(o<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}}return r}function q(t){for(var e=[],o=0;o<t.length;++o)e.push(255&t.charCodeAt(o));return e}function Z(t,e){for(var o,n,i,r=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(o=t.charCodeAt(s))>>8,i=o%256,r.push(i),r.push(n);return r}function J(t){return n.toByteArray(z(t))}function K(t,e,o,n){for(var i=0;i<n&&!(i+o>=e.length||i>=t.length);++i)e[i+o]=t[i];return i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:4,isarray:3}],3:[function(t,e){var o={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==o.call(t)}},{}],4:[function(t,e,o){o.read=function(t,e,o,n,i){var r,s,c=8*i-n-1,a=(1<<c)-1,l=a>>1,u=-7,h=o?i-1:0,p=o?-1:1,d=t[e+h];for(h+=p,r=d&(1<<-u)-1,d>>=-u,u+=c;u>0;r=256*r+t[e+h],h+=p,u-=8);for(s=r&(1<<-u)-1,r>>=-u,u+=n;u>0;s=256*s+t[e+h],h+=p,u-=8);if(0===r)r=1-l;else{if(r===a)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),r-=l}return(d?-1:1)*s*Math.pow(2,r-n)},o.write=function(t,e,o,n,i,r){var s,c,a,l=8*r-i-1,u=(1<<l)-1,h=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:r-1,f=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-s))<1&&(s--,a*=2),(e+=s+h>=1?p/a:p*Math.pow(2,1-h))*a>=2&&(s++,a/=2),s+h>=u?(c=0,s=u):s+h>=1?(c=(e*a-1)*Math.pow(2,i),s+=h):(c=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[o+d]=255&c,d+=f,c/=256,i-=8);for(s=s<<i|c,l+=i;l>0;t[o+d]=255&s,d+=f,s/=256,l-=8);t[o+d-f]|=128*y}},{}],CollectionCfgParser:[function(t,e,o){"use strict";cc._RF.push(e,"5d2e3t++bBN8IcaB2kxWWDF","CollectionCfgParser"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this.cfg=[]}return t.prototype.setup=function(){this.cfg=[],this.cfg[0]={name:"\u7f8e\u98df",open:1,sub:[{name:"\u751c\u98df",tile:"sweets",start:1,end:6,icon:"",des:"\u611f\u53d7\u751c\u871c\u7684\u6ecb\u5473"},{name:"\u7cd6\u679c",tile:"candy",start:7,end:12,icon:"",des:"\u611f\u53d7\u751c\u871c\u7684\u6ecb\u5473"},{name:"\u676f\u5b50",tile:"cups",start:13,end:18,icon:"",des:"\u611f\u53d7\u751c\u871c\u7684\u6ecb\u5473"},{name:"\u98df\u7269",tile:"food",start:19,end:24,icon:"",des:"\u611f\u53d7\u751c\u871c\u7684\u6ecb\u5473"}]},this.cfg[1]={name:"\u5927\u81ea\u7136",open:25,sub:[{name:"\u82b1\u6735",tile:"flowers",start:25,end:36,icon:"",des:"\u611f\u53d7\u751c\u871c\u7684\u6ecb\u5473"},{name:"\u52a8\u7269",tile:"animals",start:37,end:48,icon:"",des:"\u611f\u53d7\u751c\u871c\u7684\u6ecb\u5473"},{name:"\u5927\u81ea\u7136",tile:"nature",start:49,end:60,icon:"",des:"\u611f\u53d7\u751c\u871c\u7684\u6ecb\u5473"},{name:"\u8774\u8776",tile:"butterflies",start:61,end:72,icon:"",des:"\u611f\u53d7\u751c\u871c\u7684\u6ecb\u5473"},{name:"\u68ee\u6797",tile:"forest",start:73,end:84,icon:"",des:"\u611f\u53d7\u751c\u871c\u7684\u6ecb\u5473"}]},this.cfg[2]={name:"\u590f\u5929",open:85,sub:[{name:"\u6c34\u679c",tile:"fruits",start:85,end:96,icon:"",des:"\u611f\u53d7\u751c\u871c\u7684\u6ecb\u5473"},{name:"\u6d3b\u52a8",tile:"activities",start:97,end:108,icon:"",des:"\u611f\u53d7\u751c\u871c\u7684\u6ecb\u5473"},{name:"\u914d\u9970",tile:"accessories",start:109,end:120,icon:"",des:"\u611f\u53d7\u751c\u871c\u7684\u6ecb\u5473"},{name:"\u8fd0\u52a8",tile:"sports",start:121,end:132,icon:"",des:"\u611f\u53d7\u751c\u871c\u7684\u6ecb\u5473"},{name:"\u8863\u670d",tile:"garments",start:133,end:144,icon:"",des:"\u611f\u53d7\u751c\u871c\u7684\u6ecb\u5473"}]},this.cfg[3]={name:"\u5192\u9669",open:145,sub:[{name:"\u65e5\u672c",tile:"japan",start:145,end:156,icon:"",des:"\u611f\u53d7\u751c\u871c\u7684\u6ecb\u5473"},{name:"\u96e8\u4f1e",tile:"umbrellas",start:157,end:168,icon:"",des:"\u611f\u53d7\u751c\u871c\u7684\u6ecb\u5473"},{name:"\u7b26\u53f7",tile:"symbols",start:169,end:180,icon:"",des:"\u611f\u53d7\u751c\u871c\u7684\u6ecb\u5473"},{name:"\u6c7d\u8f66",tile:"cars",start:181,end:192,icon:"",des:"\u611f\u53d7\u751c\u871c\u7684\u6ecb\u5473"},{name:"\u592a\u7a7a",tile:"space",start:193,end:204,icon:"",des:"\u611f\u53d7\u751c\u871c\u7684\u6ecb\u5473"}]}},t.prototype.checkNewTheme=function(t){for(var e=0;e<this.cfg.length;e++)for(var o=0,n=0,i=this.cfg[e].sub;n<i.length;n++){var r=i[n];if(r.start==t)return{tile:r.tile,name:r.name,main:e,sub:o};o++}return null},t.prototype.checkSelectInfo=function(t){for(var e=0;e<this.cfg.length;e++)for(var o=0,n=0,i=this.cfg[e].sub;n<i.length;n++){var r=i[n];if(t>=r.start&&t<=r.end)return{tile:r.tile,name:r.name,main:e,sub:o};o++}return null},t}();o.default=n,cc._RF.pop()},{}],CollectionListItem:[function(t,e,o){"use strict";cc._RF.push(e,"b236bhNLVBEB6uIWIy99g7i","CollectionListItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/common/GameConst"),c=t("../../ccstudio/component/BaseUI"),a=t("../../ccstudio/Core"),l=t("../../ccstudio/data/Model"),u=cc._decorator,h=u.ccclass,p=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.updateView=function(t){this.data=t,this.txt_title.string=t+"",this.node_lock.active=l.default.game.level<t},e.prototype.click_item=function(){l.default.game.level<this.data||(l.default.game.selectedLevel=this.data,a.Core.win.open(s.default.winPath.GameWin,null,!0))},r([h],e)}(c.default));o.default=p,cc._RF.pop()},{"../../ccstudio/Core":"Core","../../ccstudio/common/GameConst":"GameConst","../../ccstudio/component/BaseUI":"BaseUI","../../ccstudio/data/Model":"Model"}],CollectionListWin:[function(t,e,o){"use strict";cc._RF.push(e,"a36b1EkF65Ol4Xrm6xbM6bZ","CollectionListWin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/common/GameConst"),c=t("../../ccstudio/component/BasePanel"),a=t("../../ccstudio/config/Config"),l=t("../../ccstudio/Core"),u=t("../../ccstudio/data/Model"),h=cc._decorator,p=h.ccclass,d=(h.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){for(var t=[],e=a.default.collection.cfg[u.default.game.selectedTheme].sub[u.default.game.selectedThemeSub],o=e.start;o<=e.end;o++)t.push(o);this.list_item.setData(t),this.txt_title.string=e.name,this.txt_desc.string=e.des},e.prototype.onBtnClicked=function(t,e){switch(l.Core.soundManager.playSFX("clickbtn"),e){case"btn_back":l.Core.win.open(s.default.winPath.CollectionSubWin,null,!0);break;case"btn_set":l.Core.win.open(s.default.winPath.SettingWin)}},r([p],e)}(c.default));o.default=d,cc._RF.pop()},{"../../ccstudio/Core":"Core","../../ccstudio/common/GameConst":"GameConst","../../ccstudio/component/BasePanel":"BasePanel","../../ccstudio/config/Config":"Config","../../ccstudio/data/Model":"Model"}],CollectionMainItem:[function(t,e,o){"use strict";cc._RF.push(e,"4431b8SMDRBj63aDHWuBI2e","CollectionMainItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/common/GameConst"),c=t("../../ccstudio/component/BaseUI"),a=t("../../ccstudio/Core"),l=t("../../ccstudio/data/Model"),u=t("../../ccstudio/utils/Utils"),h=cc._decorator,p=h.ccclass,d=(h.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.updateView=function(t){this.data=t,this.txt_title.string=t.name,u.default.setSpriteFrame(this.sp_bg,"bg/"+(this.itemIndex+1),"texture"),this.node_lock.active=l.default.game.level<t.open,u.default.setGray(this.sp_bg,l.default.game.level<t.open)},e.prototype.click_item=function(){l.default.game.level<this.data.open||(l.default.game.selectedTheme=this.itemIndex,a.Core.win.open(s.default.winPath.CollectionSubWin,null,!0))},r([p],e)}(c.default));o.default=d,cc._RF.pop()},{"../../ccstudio/Core":"Core","../../ccstudio/common/GameConst":"GameConst","../../ccstudio/component/BaseUI":"BaseUI","../../ccstudio/data/Model":"Model","../../ccstudio/utils/Utils":"Utils"}],CollectionMainWin:[function(t,e,o){"use strict";cc._RF.push(e,"16120rCQLdBkYBBwgqa8YB1","CollectionMainWin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/common/GameConst"),c=t("../../ccstudio/component/BasePanel"),a=t("../../ccstudio/config/Config"),l=t("../../ccstudio/Core"),u=cc._decorator,h=u.ccclass,p=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){this.list_item.setData(a.default.collection.cfg),l.Core.soundManager.playBGM("main_theme")},e.prototype.onBtnClicked=function(t,e){switch(l.Core.soundManager.playSFX("clickbtn"),e){case"btn_set":l.Core.win.open(s.default.winPath.SettingWin)}},r([h],e)}(c.default));o.default=p,cc._RF.pop()},{"../../ccstudio/Core":"Core","../../ccstudio/common/GameConst":"GameConst","../../ccstudio/component/BasePanel":"BasePanel","../../ccstudio/config/Config":"Config"}],CollectionSubItem:[function(t,e,o){"use strict";cc._RF.push(e,"aa555NRkRNFCYpbMPJ8d3pt","CollectionSubItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/common/GameConst"),c=t("../../ccstudio/component/BaseUI"),a=t("../../ccstudio/config/Config"),l=t("../../ccstudio/Core"),u=t("../../ccstudio/data/Model"),h=t("../../ccstudio/utils/Utils"),p=cc._decorator,d=p.ccclass,f=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.updateView=function(t){this.data=t,this.txt_title.string=t.name;var e=a.default.collection.cfg[u.default.game.selectedTheme].sub[this.itemIndex],o=e.tile;h.default.setSpriteFrame(this.sp_bg,"bg/"+o+"_theme_cover","texture"),this.node_lock.active=u.default.game.level<e.start,h.default.setGray(this.sp_bg,u.default.game.level<e.start)},e.prototype.click_item=function(){var t=a.default.collection.cfg[u.default.game.selectedTheme].sub[this.itemIndex];u.default.game.level<t.start||(u.default.game.selectedThemeSub=this.itemIndex,l.Core.win.open(s.default.winPath.CollectionListWin,null,!0))},r([d],e)}(c.default));o.default=f,cc._RF.pop()},{"../../ccstudio/Core":"Core","../../ccstudio/common/GameConst":"GameConst","../../ccstudio/component/BaseUI":"BaseUI","../../ccstudio/config/Config":"Config","../../ccstudio/data/Model":"Model","../../ccstudio/utils/Utils":"Utils"}],CollectionSubWin:[function(t,e,o){"use strict";cc._RF.push(e,"6c3fcM6NtdENaIX4lnfQnac","CollectionSubWin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/common/GameConst"),c=t("../../ccstudio/component/BasePanel"),a=t("../../ccstudio/config/Config"),l=t("../../ccstudio/Core"),u=t("../../ccstudio/data/Model"),h=cc._decorator,p=h.ccclass,d=(h.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){var t=a.default.collection.cfg[u.default.game.selectedTheme];this.txt_title.string=t.name,this.list_item.setData(t.sub)},e.prototype.onBtnClicked=function(t,e){switch(l.Core.soundManager.playSFX("clickbtn"),e){case"btn_back":l.Core.win.open(s.default.winPath.CollectionMainWin,null,!0);break;case"btn_set":l.Core.win.open(s.default.winPath.SettingWin)}},r([p],e)}(c.default));o.default=d,cc._RF.pop()},{"../../ccstudio/Core":"Core","../../ccstudio/common/GameConst":"GameConst","../../ccstudio/component/BasePanel":"BasePanel","../../ccstudio/config/Config":"Config","../../ccstudio/data/Model":"Model"}],ConfigManager:[function(t,e,o){"use strict";cc._RF.push(e,"a331aNg0jBHMpcvlzmFBK3N","ConfigManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this)||this;return console.log("\u914d\u7f6e\u5168\u90e8\u653eGameData\u4e86  \u770b\u8fd9\u4e2a\u662f\u5426\u5220\u4e86"),e}return i(e,t),e}(t("./Singleton").default);o.default=r,cc._RF.pop()},{"./Singleton":"Singleton"}],Config:[function(t,e,o){"use strict";cc._RF.push(e,"36365j+JkNCNI1A16SLip0j","Config"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./CollectionCfgParser"),i=t("./LevelCfgParser"),r=function(){function t(){}return t.load=function(e){cc.assetManager.loadBundle("configs",function(o,n){n.load("level",function(o,n){t.level.setup(n.json),e&&e()})})},t.level=new i.default,t.collection=new n.default,t}();o.default=r,cc._RF.pop()},{"./CollectionCfgParser":"CollectionCfgParser","./LevelCfgParser":"LevelCfgParser"}],Core:[function(t,e,o){"use strict";cc._RF.push(e,"271279MayFFrZSe3RaEAM39","Core"),Object.defineProperty(o,"__esModule",{value:!0}),o.Core=void 0;var n=t("./manager/Dispatcher"),i=t("./manager/LayerManager"),r=t("./manager/PoolManager"),s=t("./manager/WindowManager"),c=t("./utils/AudioMgr"),a=t("./utils/Timer"),l=function(){function t(){}return t.init=function(e){t.timer.initSchedule(e.addComponent(cc.Sprite)),t.layer.init(e),t.win.register(t.layer.windowLayer),t.scene.register(t.layer.sceneLayer)},t.timer=new a.default,t.dispather=new n.default,t.win=new s.default,t.scene=new s.default,t.soundManager=new c.default,t.pool=new r.default,t.layer=new i.default,t}();o.Core=l,cc._RF.pop()},{"./manager/Dispatcher":"Dispatcher","./manager/LayerManager":"LayerManager","./manager/PoolManager":"PoolManager","./manager/WindowManager":"WindowManager","./utils/AudioMgr":"AudioMgr","./utils/Timer":"Timer"}],DailyChallengeWin:[function(t,e,o){"use strict";cc._RF.push(e,"fc99cA5a/tOwrEBGXs9LQE6","DailyChallengeWin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/component/BasePanel"),c=cc._decorator,a=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.DayC=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},e.prototype.cc_clickNext=function(){},e.prototype.cc_clickPrev=function(){},r([l(cc.Prefab)],e.prototype,"DayC",void 0),r([l],e.prototype,"text",void 0),r([a],e)}(s.default);o.default=u,cc._RF.pop()},{"../../ccstudio/component/BasePanel":"BasePanel"}],DebugTools:[function(t,e,o){"use strict";cc._RF.push(e,"05f8e9AJ8RIdq5++xuoRNw9","DebugTools");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../common/GameConst"),c=t("../Core"),a=t("../data/Model"),l=cc._decorator,u=l.ccclass,h=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){cc.sys.platform==cc.sys.DESKTOP_BROWSER&&(this.addBtn("\u6a21\u62df\u8fc7\u5173",function(){a.default.game.level++,a.default.game.selectedLevel=a.default.game.level,a.default.save(),c.Core.win.open(s.default.winPath.GameWin,null,!0)}),this.addBtn("\u6e05\u7406\u6570\u636e",function(){a.default.game.level=16,a.default.save()}),this.addBtn("2\u500d\u6570",function(){cc.kSpeed(2)}))},e.prototype.addBtn=function(t,e){var o=document.getElementsByClassName("toolbar")[0];if(o){var n=document.createElement("div");n.className="item",n.innerHTML="<button id='"+t+"'>"+t+"</button>",o.appendChild(n),document.getElementById(t).onclick=function(){e()}}},r([u],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../Core":"Core","../common/GameConst":"GameConst","../data/Model":"Model"}],Dispatcher:[function(t,e,o){"use strict";cc._RF.push(e,"c80e6J4WuZJYpzEfrHoixJT","Dispatcher");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=(i.property,function(){function t(){this.dict=new Object}return t.prototype.on=function(t,e,o){var n=this.dict[t];if(n){if(-1!=this.getIndex(n,e,o))return}else n=new Array,this.dict[t]=n;n.push({callback:e,thisObj:o})},t.prototype.getIndex=function(t,e,o){for(var n=0;n<t.length;n++){var i=t[n];if(i.callback==e&&i.thisObj==o)return n}return-1},t.prototype.off=function(t,e,o){if(this.dict[t]){var n=this.dict[t];if(n){var i=this.getIndex(n,e,o);-1!=i&&n.splice(i,1),n.length<=0&&delete this.dict[t]}}},t.prototype.offByTarget=function(t){for(var e in this.dict)for(var o=this.dict[e],n=0;n<o.length;n++)o[n].thisObj==t&&(o.splice(n,1),n--)},t.prototype.execute=function(t,e){void 0===e&&(e=null);var o=this.dict[t];if(null!=o)for(var n=0;n<o.length;n++){var i=o[n],r=i.callback,s=i.thisObj;r.apply(s,e)}},n([r],t)}());o.default=s,cc._RF.pop()},{}],FitUI:[function(t,e,o){"use strict";cc._RF.push(e,"b8ab4ecXMtJmaHqS2zhnRk1","FitUI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.FitUIOrientation=o.FitUIPlatform=void 0;var s,c,a=cc._decorator,l=a.ccclass,u=a.property,h=a.executeInEditMode,p=a.menu,d=a.requireComponent;(function(t){t[t.ANDROID=0]="ANDROID",t[t.IOS=1]="IOS",t[t.OTHER=2]="OTHER"})(s=o.FitUIPlatform||(o.FitUIPlatform={})),function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL"}(c=o.FitUIOrientation||(o.FitUIOrientation={}));var f=function(){return this.orientation==c.HORIZONTAL},y=function(){return this.orientation==c.VERTICAL},m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.orientation=c.VERTICAL,e.left=!1,e.right=!1,e.top=!1,e.bottom=!1,e.iLeft=!1,e.iRight=!1,e.iTop=!1,e.iBottom=!1,e.oLeft=!1,e.oRight=!1,e.oTop=!1,e.oBottom=!1,e}return i(e,t),Object.defineProperty(e.prototype,"a",{get:function(){return s.ANDROID},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"i",{get:function(){return s.IOS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"o",{get:function(){return s.OTHER},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.applySettings()},e.prototype.applySettings=function(){var t=cc.view.getVisibleSize(),e=cc.sys.platform,o=t.width/t.height;if((o=this.orientation==c.VERTICAL?o:1/o)>=.5)this.updateFitStrategy(!0,!0);else{this.orientation==c.VERTICAL&&this.updateFitStrategy(!0,!1),this.orientation==c.HORIZONTAL&&this.updateFitStrategy(!1,!0);var n={top:this.top,left:this.left,right:this.right,bottom:this.bottom},i={top:this.iTop,left:this.iLeft,right:this.iRight,bottom:this.iBottom},r={top:this.oTop,left:this.oLeft,right:this.oRight,bottom:this.oBottom};switch(e){case cc.sys.ANDROID:this.fitPhone(n);break;case cc.sys.IPHONE:this.fitPhone(i);break;default:switch(cc.sys.os){case cc.sys.OS_IOS:this.fitPhone(i);break;case cc.sys.OS_ANDROID:this.fitPhone(n);break;default:this.fitPhone(r)}}}},e.prototype.fitPhone=function(t){var e=cc.view.getVisibleSize(),o=this.orientation==c.VERTICAL?e.height:e.width,n=44*o/812,i=34*o/812;switch(this.orientation){case c.VERTICAL:t.top&&this.updateWidget("top",n),t.bottom&&this.updateWidget("bottom",i);break;case c.HORIZONTAL:t.left&&this.updateWidget("left",i),t.right&&this.updateWidget("right",n)}},e.prototype.updateWidget=function(t,e){var o=this.getComponent(cc.Widget);o&&(o["default_"+t]||(o["default_"+t]=o[""+t]),o[""+t]=o["default_"+t]+e)},e.prototype.updateFitStrategy=function(t,e){var o=this.node.getComponent(cc.Canvas);o&&(o.fitWidth=t,o.fitHeight=e,o.applySettings())},r([u({displayName:"\u9002\u914d\u65b9\u5411",type:cc.Enum(c)})],e.prototype,"orientation",void 0),r([u({displayName:"\u5b89\u5353\u8bbe\u5907",type:cc.Enum(s)})],e.prototype,"a",null),r([u({displayName:"left",visible:f})],e.prototype,"left",void 0),r([u({displayName:"right",visible:f})],e.prototype,"right",void 0),r([u({displayName:"top",visible:y})],e.prototype,"top",void 0),r([u({displayName:"bottom",visible:y})],e.prototype,"bottom",void 0),r([u({displayName:"\u82f9\u679c\u8bbe\u5907",type:cc.Enum(s)})],e.prototype,"i",null),r([u({displayName:"left",visible:f})],e.prototype,"iLeft",void 0),r([u({displayName:"right",visible:f})],e.prototype,"iRight",void 0),r([u({displayName:"top",visible:y})],e.prototype,"iTop",void 0),r([u({displayName:"bottom",visible:y})],e.prototype,"iBottom",void 0),r([u({displayName:"\u5176\u5b83\u8bbe\u5907",type:cc.Enum(s)})],e.prototype,"o",null),r([u({displayName:"left",visible:f})],e.prototype,"oLeft",void 0),r([u({displayName:"right",visible:f})],e.prototype,"oRight",void 0),r([u({displayName:"top",visible:y})],e.prototype,"oTop",void 0),r([u({displayName:"bottom",visible:y})],e.prototype,"oBottom",void 0),r([l,p("\u516c\u7528\u7ec4\u4ef6/FitUI"),h,d(cc.Widget)],e)}(cc.Component);o.default=m,cc._RF.pop()},{}],FrameAnimation:[function(t,e,o){"use strict";cc._RF.push(e,"80764dP3CtLo56an15Ha6g8","FrameAnimation");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.FrameAnimation=o.FrameInfo=void 0;o.FrameInfo=function(){this.offsetX=0,this.offsetY=0};var s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._frameRate=10,e._cacheAnimations={},e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){this.image=this.node.getComponent(cc.Sprite)},e.prototype.createAnimation=function(t,e){this._cacheAnimations[e]=t},e.prototype.setAnimations=function(t){this._cacheAnimations=t},e.prototype.play=function(t,e,o){void 0===o&&(o=-1),this._isPlaying=!0,this.frames=this._cacheAnimations[e],null!=this.frames?(this._currentFrame=this._startFrame=t,this._totalFrames=this.frames.length,this._loops=o,this._loopCount=0,this.animate(),this.unscheduleAllCallbacks(),this.schedule(this.onTimer.bind(this),1/this._frameRate)):this._isPlaying=!1},e.prototype.stop=function(){this._isPlaying&&(this._isPlaying=!1,this.unscheduleAllCallbacks(),this._loopCount=0)},e.prototype.gotoAndStop=function(t){this.goto(t),this.stop()},e.prototype.goto=function(t){t<this._startFrame?t=this._startFrame:t>this._endFrame&&(t=this._endFrame),this._currentFrame=t,this.animate()},e.prototype.animate=function(){this.frames&&this.image&&this.image.spriteFrame!=this.frames[this._currentFrame-1].frame&&(this.image.spriteFrame=this.frames[this._currentFrame-1].frame,this.image.node.x=this.frames[this._currentFrame-1].offsetX,this.image.node.y=this.frames[this._currentFrame-1].offsetY,this.node.emit(o.UPDATE))},e.prototype.nextFrame=function(){this.stop(),this.goto(this._currentFrame+1)},e.prototype.prevFrame=function(){this.stop(),this.goto(this._currentFrame-1)},e.prototype.onTimer=function(){if(this._currentFrame++,this._currentFrame>this._totalFrames){if(this._loopCount++,this._loopCount==this._loops&&this._loops>0)return this.node.emit(o.COMPLETE),void this.stop();this._currentFrame=this._startFrame}this.animate()},e.prototype.isPlaying=function(){return this._isPlaying},Object.defineProperty(e.prototype,"frameRate",{get:function(){return this._frameRate},set:function(t){t>0&&(this._frameRate=t)},enumerable:!1,configurable:!0}),e.UPDATE="update",e.COMPLETE="complete",r([a()],e.prototype,"frameRate",null),o=r([c],e)}(cc.Component);o.FrameAnimation=l,cc._RF.pop()},{}],GameConst:[function(t,e,o){"use strict";cc._RF.push(e,"9829fJYoDRHV7s5Fl8wsYNp","GameConst"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.localDataKey="cc-studio-doll",t.winPath={LoadingWin:{name:"LoadingWin",path:"loading/",bundle:"prefabs"},MenuWin:{name:"MenuWin",path:"menu/",bundle:"prefabs"},GameWin:{name:"GameWin",path:"game/",bundle:"prefabs"},LoseWin:{name:"LoseWin",path:"game/",bundle:"prefabs"},PassWin:{name:"PassWin",path:"game/",bundle:"prefabs"},HelpWin:{name:"HelpWin",path:"game/",bundle:"prefabs"},PauseWin:{name:"PauseWin",path:"game/",bundle:"prefabs"},SettingWin:{name:"SettingWin",path:"game/",bundle:"prefabs"},DailyChallengeWin:{name:"DailyChallengeWin",path:"daily/",bundle:"prefabs"},LevelWin:{name:"LevelWin",path:"level/",bundle:"prefabs"},AwardWin:{name:"AwardWin",path:"game/",bundle:"prefabs"},CollectionMainWin:{name:"CollectionMainWin",path:"collection/",bundle:"prefabs"},CollectionSubWin:{name:"CollectionSubWin",path:"collection/",bundle:"prefabs"},CollectionListWin:{name:"CollectionListWin",path:"collection/",bundle:"prefabs"},ThemeLockWin:{name:"ThemeLockWin",path:"game/",bundle:"prefabs"},TutorialCompleteWin:{name:"TutorialCompleteWin",path:"game/",bundle:"prefabs"},GameDailyWin:{name:"GameDailyWin",path:"game/",bundle:"prefabs"},ShopWin:{name:"ShopWin",path:"shop/",bundle:"prefabs"}},t.TUBE_STATE={Normal:0,Select:1,Complete:2},t.TUBE_COLOR=[cc.color(255,230,73),cc.color(28,139,253),cc.color(252,47,44),cc.color(53,183,5),cc.color(255,255,255),cc.color(157,14,252),cc.color(147,74,0),cc.color(188,225,16),cc.color(104,104,104),cc.color(255,168,26),cc.color(21,142,127),cc.color(120,255,182),cc.color(102,238,246),cc.color(254,249,175),cc.color(56,53,62),cc.color(253,72,252),cc.color(79,80,227),cc.color(184,22,0),cc.color(246,144,150)],t.EventType={ChangeTube:"ChangeTube",ChangeBall:"ChangeBall",ChangeTheme:"ChangeTheme"},t.THEME_COLOR=[cc.color(57,57,57),cc.color(95,57,108),cc.color(223,192,138)],t.THEME_COLOR2=[cc.color(105,99,99),cc.color(227,186,244),cc.color(254,238,186)],t.THEME_COLOR3=[cc.color(25,25,25),cc.color(55,17,68),cc.color(153,122,68)],t.THEME_NAME=["\u0427\u0435\u0440\u043d\u044b\u0439","\u0424\u0438\u043e\u043b\u0435\u0442\u043e\u0432\u044b\u0439","\u0416\u0435\u043b\u0442\u044b\u0439"],t}();o.default=n,cc._RF.pop()},{}],GameDailyWin:[function(t,e,o){"use strict";cc._RF.push(e,"ef168o7uTRKfp5jID1UnVkq","GameDailyWin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/common/GameConst"),c=t("../../ccstudio/component/BasePanel"),a=t("../../ccstudio/component/MsgHints"),l=t("../../ccstudio/config/Config"),u=t("../../ccstudio/Core"),h=t("../../ccstudio/data/Model"),p=t("../../ccstudio/manager/WXTTUtils"),d=t("../../ccstudio/utils/Utils"),f=t("./Tile"),y=cc._decorator,m=y.ccclass,_=y.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tileContainer=null,e.targetNode=null,e.tilePrefab=null,e.tileList=[],e.matchList=[],e.recordList=[],e.lock=!1,e.zoom=1.25,e.usedCounts=[0,0,0],e.removeList=[],e}return i(e,t),e.prototype.start=function(){this.replay(),p.default.showBanner()},e.prototype.replay=function(){var t=this;this.recycle(),this.node_warning.active=!1,this.unscheduleAllCallbacks(),this.tileList=[],this.matchList=[],this.recordList=[],this.lvData=null,this.lock=!1,this.usedCounts=[0,0,0],cc.assetManager.getBundle("configs").load("challenge_layout_2",cc.JsonAsset,function(e,o){console.log(o.json),t.createTiles(o.json)})},e.prototype.loadLevels=function(){this.lvData=l.default.level.getLevelData(h.default.game.selectedLevel),this.txt_title.string="\u0423\u0440."+h.default.game.selectedLevel,this.updateItemView()},e.prototype.recycle=function(){for(var t=0,e=this.tileList;t<e.length;t++)e[t].recycle();for(var o=0,n=this.matchList;o<n.length;o++)n[o].recycle()},e.prototype.createTiles=function(t){var e=this;this.tileContainer.destroyAllChildren(),cc.v2(0,1200),cc.v2(700,0),cc.v2(0,-1200),cc.v2(-700,0);var o=l.default.level.getTypes(345,20);o=d.default.randomArray(o);var n=0,i=999999,r=999999,s=-99990,c=-99990;this.zoom=1;for(var h={},y=t.layers,m=0;m<y.length;m++)for(var _=y[m].tiles,g=m,v=0,b=_;v<b.length;v++){var w=b[v],C=Math.floor(w.index.y),T=Math.floor(w.index.x);(E=cc.v2(41*g,-41*g)).x=E.y=0,8!=m&&3!=m||(E.x=41*this.zoom,E.y=-82*this.zoom*.5),(j=this.getTilePos(C,T,E)).x>s&&(s=j.x),j.y>c&&(c=j.y),j.x<i&&(i=j.x),j.y<r&&(r=j.y)}var O=Math.max(s-i,c-r);for(cc.log(s-i,c-r),this.zoom=Math.max(1,640/O),this.zoom=Math.min(this.zoom,1.25),c-r>660?(this.targetNode.getComponent(cc.Widget).bottom=380,this.node_item.getComponent(cc.Widget).bottom=158):(this.targetNode.getComponent(cc.Widget).bottom=410,this.node_item.getComponent(cc.Widget).bottom=188),this.targetNode.getComponent(cc.Widget).updateAlignment(),this.node_item.getComponent(cc.Widget).updateAlignment(),i=999999,r=999999,s=-99999,c=-99999,m=0;m<y.length;m++){_=y[m].tiles,g=m;for(var P=function(t){var l=Math.floor(t.index.y),d=Math.floor(t.index.x),f=g+"_"+l+"_"+d,y=u.Core.pool.get("Tile"),_=y.node;_.parent=I.tileContainer,y.setZoom(I.zoom,I.zoom),_.scale=1,y.joinType=h[f]?h[f]:0,I.tileList.push(y);var v=cc.v2(41*I.zoom*g,-41*g);v.x=v.y=0,8!=m&&3!=m||(v.x=41*I.zoom,v.y=-82*I.zoom*.5),y.layer=g,y.row=l,y.col=d,y.node.zIndex=I.getZindex(l,d,y.layer);var b=I.getTilePos(l,d,v);_.position=b,y.type=o[n],_.off(cc.Node.EventType.TOUCH_START),_.on(cc.Node.EventType.TOUCH_START,function(){if(!e.lock&&!y.dark){if(0==y.joinType)e.addToMatchList(y);else if(e.matchList.length<=5){var t=e.getTileByJoinType(y.joinType,y.layer,y.row,y.col);y.joinType=0,t.joinType=0,e.addToMatchList(y),e.addToMatchList(t)}else a.default.show("\u041d\u0435\u0442 \u043b\u0438\u0448\u043d\u0435\u0433\u043e \u043c\u0435\u0441\u0442\u0430");u.Core.soundManager.playSFX("clickcube"),1==u.Core.soundManager.vibrate&&p.default.vibrateShort()}}),_.x>s&&(s=_.x),_.y>c&&(c=_.y),_.x<i&&(i=_.x),_.y<r&&(r=_.y),n++},I=this,R=0,M=_;R<M.length;R++)P(w=M[R])}var L=s-i,A=c-r;this.tileContainer.x=.5*-L-i,this.tileContainer.y=(A>>1)-c+200,this.checkAllBlock();for(var x=0,S=this.tileContainer.children;x<S.length;x++){var B=S[x],k=B.getComponent(f.default),E=(m=k.layer,cc.v2(41*this.zoom*m,-82*this.zoom*.5*m));E=cc.v2(0,0),8!=m&&3!=m||(E.x=41*this.zoom,E.y=-82*this.zoom*.5);var j=this.getTilePos(k.row,k.col,E);B.position=j}},e.prototype.getZindex=function(t,e,o){return 20*t+e+100*o},e.prototype.checkAllBlock=function(t){void 0===t&&(t=!1);for(var e=0,o=this.tileList;e<o.length;e++){var n=o[e];if(this.hasBlock(n))n.setDark(!0,t);else if(n.joinType>0){var i=this.getTileByJoinType(n.joinType,n.layer,n.row,n.col);this.hasBlock(i)?n.setDark(!0,t):n.setDark(!1,t)}else n.setDark(!1,t)}},e.prototype.getTileByJoinType=function(t,e,o,n){var i="";1==t?i=e+"_"+o+"_"+(n-1):2==t?i=e+"_"+o+"_"+(n+1):3==t?i=e+"_"+(o-1)+"_"+n:4==t&&(i=e+"_"+(o+1)+"_"+n);for(var r=0,s=this.tileList;r<s.length;r++){var c=s[r];if(c.layer+"_"+c.row+"_"+c.col==i)return c}return null},e.prototype.hasBlock=function(t){for(var e=t.node.getBoundingBox(),o=0,n=this.tileList;o<n.length;o++){var i=n[o];if(i!=t&&i.layer>t.layer&&i.node.getBoundingBox().intersects(e))return!0}return!1},e.prototype.getTilePos=function(t,e,o){return cc.v3(82*e*this.zoom+o.x,82*-t*this.zoom+o.y,0)},e.prototype.addToMatchList=function(t){if(this.matchList.length<7){if(-1!=this.matchList.indexOf(t))return;t.setDark(!1,!1),t.setZoom(1,1),d.default.removeElementFromArray(t,this.tileList),this.recordList.push(t),t.node.zIndex=999;for(var e=!1,o=this.matchList.length-1;o>=0;o--)if(this.matchList[o].type==t.type){e=!0,this.matchList.splice(o+1,0,t);break}e||this.matchList.push(t),this.setMatchDepth(),this.moveToRightPos(),this.checkRemove(),this.checkAllBlock(!0),this.checkWarning(),this.checkGameResult()}},e.prototype.setMatchDepth=function(){for(var t=this.matchList.length-1;t>=0;t--)this.matchList[t].node.zIndex=t+999},e.prototype.moveToRightPos=function(){for(var t=this,e=0;e<this.matchList.length;e++){var o=d.default.convetOtherNodeSpaceAR(this.targetNode,this.tileContainer),n=82*e+o.x-252,i=o.y;cc.Tween.stopAllByTarget(this.matchList[e].node),cc.tween(this.matchList[e].node).to(.3,{x:n,y:i},{easing:"sineOut"}).call(function(e){var o=e.getComponent(f.default);o.remove&&(o.recycle(!0),t.moveToRightPos(),t.checkGameResult(),u.Core.soundManager.playSFX("tileclean"))}).start()}},e.prototype.checkRemove=function(){for(var t={},e=0,o=this.matchList;e<o.length;e++)t[(r=o[e]).type]=t[r.type]||0,t[r.type]++;for(var n in t)if(t[n]>=3){for(var i=0;i<this.matchList.length;i++){var r;(r=this.matchList[i]).type==Number(n)&&(d.default.removeElementFromArray(r,this.recordList),r.remove=!0,this.matchList.splice(i,1),i--)}break}},e.prototype.searchRemoveable=function(){for(var t=[],e={},o=this.tileList.length-1;o>=0;o--){var n=this.tileList[o];n.joinType>0||(e[n.type]=e[n.type]||[],e[n.type].push(n))}if(this.matchList.length>0){for(var i={},r=0,s=this.matchList;r<s.length;r++){var c=s[r];i[c.type]=i[c.type]||[],i[c.type].push(c)}var a=[];for(var l in i)a.push({type:Number(l),tiles:i[l],count:i[l].length});a.sort(function(t,e){return e.count-t.count});for(var u=0;u<a.length;){t=[];var h=3-(y=a[u]).count,p=y.type;for(o=this.tileList.length-1;o>=0;o--)if(this.tileList[o].type==p&&0==this.tileList[o].joinType&&(t.push(this.tileList[o]),0==--h))return t;u++}}var d=[];for(var l in e)d.push({type:Number(l),tiles:e[l],count:e[l].length});d.sort(function(t,e){return e.count-t.count});for(var f=0;f<d.length;){var y;for(t=[],p=(y=d[f]).type,o=this.tileList.length-1;o>=0;o--){var m=this.tileList[o];if(m.type==p&&0==m.joinType&&(t.push(m),3==t.length))return t}f++}return t.length<3?[]:t},e.prototype.checkGameResult=function(){var t=this;if(this.matchList.length>=7)this.lock=!0,u.Core.win.open(s.default.winPath.LoseWin,{callback:function(e){1==e?(t.lock=!1,t.undo(),t.undo(),t.undo(),t.moveToRightPos()):t.replay()}});else if(0==this.tileList.length){this.lock=!0;var e=!1;if(h.default.game.selectedLevel==h.default.game.level){h.default.game.level%5==0&&(e=!0),h.default.game.level++,h.default.save();var o=l.default.collection.checkNewTheme(h.default.game.level);if(o)return void u.Core.win.open(s.default.winPath.ThemeLockWin,o)}u.Core.win.open(s.default.winPath.PassWin,{callback:function(){e&&u.Core.win.open(s.default.winPath.AwardWin,{callback:function(){t.updateItemView()}})}})}},e.prototype.playFailAni=function(t){for(var e=0,o=this.tileList;e<o.length;e++){var n=o[e],i=.05*n.row+.05*n.col;cc.tween(n.node).delay(i).by(.5,{y:-1400},{easing:"backInOut"}).start()}this.scheduleOnce(function(){t&&t()},1)},e.prototype.checkWarning=function(){this.matchList.length<6?(cc.Tween.stopAllByTarget(this.node_warning),this.node_warning.active=!1):(this.node_warning.active=!0,cc.Tween.stopAllByTarget(this.node_warning),cc.tween(this.node_warning).to(1,{opacity:0}).to(1,{opacity:255}).call(function(){1==u.Core.soundManager.vibrate&&p.default.vibrateShort()}).union().repeatForever().start())},e.prototype.click_pause=function(){var t=this;u.Core.win.open(s.default.winPath.PauseWin,{callback:function(){t.replay()}})},e.prototype.click_prev=function(){},e.prototype.click_shuffle=function(){var t=this;if(h.default.game.itemShuffle>0){if(this.usedCounts[2]>2)return void a.default.show("\u041c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c 3 \u0440\u0430\u0437\u0430!");h.default.game.itemShuffle--,h.default.save(),this.updateItemView(),this.shuffle(),this.usedCounts[2]++}else this.lock=!0,p.default.showVideo(function(e){0==e&&(h.default.game.itemShuffle++,h.default.save(),t.updateItemView(),t.lock=!1)})},e.prototype.shuffle=function(){for(var t=this,e=0;e<500;e++){var o=Math.floor(Math.random()*this.tileList.length),n=Math.floor(Math.random()*this.tileList.length);if(o!=n){var i=this.tileList[o],r=this.tileList[n];if(i.joinType>0||r.joinType>0)continue;this.swapTile(i,r)}}for(var s=0,c=this.tileList;s<c.length;s++){var a=c[s],l=cc.v2(82*a.layer*this.zoom*.5,82*-a.layer*this.zoom*.5),u=this.getTilePos(a.row,a.col,l);cc.Tween.stopAllByTarget(a.node),cc.tween(a.node).to(.25,{position:u}).call(function(){t.checkAllBlock(!0)}).start()}},e.prototype.swapTile=function(t,e){var o=t.row;t.row=e.row,e.row=o;var n=t.col;t.col=e.col,e.col=n;var i=t.layer;t.layer=e.layer,e.layer=i;var r=t.node.zIndex;t.node.zIndex=e.node.zIndex,e.node.zIndex=r},e.prototype.click_undo=function(){var t=this;0!=this.recordList.length?h.default.game.itemUndo>0?(this.usedCounts[0],h.default.game.itemUndo--,h.default.save(),this.updateItemView(),this.undo(),this.usedCounts[0]++):(this.lock=!0,p.default.showVideo(function(e){0==e&&(h.default.game.itemUndo++,h.default.save(),t.updateItemView()),t.lock=!1})):a.default.show("\u041d\u0435\u0447\u0435\u0433\u043e \u043e\u0442\u043c\u0435\u043d\u044f\u0442\u044c")},e.prototype.undo=function(){var t=this;if(this.recordList.length>0){var e=this.recordList.pop(),o=cc.v2(82*e.layer*this.zoom*.5,82*-e.layer*this.zoom*.5),n=this.getTilePos(e.row,e.col,o);e.node.zIndex=this.getZindex(e.row,e.col,e.layer),d.default.removeElementFromArray(e,this.matchList),this.tileList.push(e),e.setZoom(this.zoom,this.zoom),cc.tween(e.node).to(.25,{position:n},{easing:"sineOut"}).call(function(){t.checkAllBlock(!0),t.moveToRightPos(),t.checkWarning()}).start()}},e.prototype.click_hint=function(){var t=this;if(h.default.game.itemHint>0){var e=this.searchRemoveable();if(e.length>0){if(this.usedCounts[1]>2)return void a.default.show("\u041c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c 3 \u0440\u0430\u0437\u0430!");for(var o=0,n=e;o<n.length;o++){var i=n[o];this.addToMatchList(i)}h.default.game.itemHint--,h.default.save(),this.updateItemView(),this.usedCounts[1]++}else a.default.show("\u041d\u0435\u0442 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439!")}else cc.log("\u6570\u91cf\u4e0d\u8db3\uff0c\u5f39\u51fa\u8d2d\u4e70"),this.lock=!0,p.default.showVideo(function(e){0==e&&(h.default.game.itemHint++,h.default.save(),t.updateItemView()),t.lock=!1})},e.prototype.click_help=function(){u.Core.win.open(s.default.winPath.HelpWin)},e.prototype.updateItemView=function(){this.txt_hint.string=0==h.default.game.itemHint?"Ad":h.default.game.itemHint+"",this.txt_shuffle.string=0==h.default.game.itemShuffle?"Ad":h.default.game.itemShuffle+"",this.txt_undo.string=0==h.default.game.itemUndo?"Ad":h.default.game.itemUndo+""},e.prototype.close=function(){t.prototype.close.call(this),this.recycle()},e.prototype.panelDataUpdate=function(){this.replay()},e.prototype.onBtnClicked=function(t,e){switch(u.Core.soundManager.playSFX("clickbtn"),e){case"btn_shuffle":this.click_shuffle();break;case"btn_undo":this.click_undo();break;case"btn_hint":this.click_hint();break;case"btn_set":this.click_pause();break;case"btn_help":this.click_help()}},r([_(cc.Node)],e.prototype,"tileContainer",void 0),r([_(cc.Node)],e.prototype,"targetNode",void 0),r([_(cc.Prefab)],e.prototype,"tilePrefab",void 0),r([m],e)}(c.default);o.default=g,cc._RF.pop()},{"../../ccstudio/Core":"Core","../../ccstudio/common/GameConst":"GameConst","../../ccstudio/component/BasePanel":"BasePanel","../../ccstudio/component/MsgHints":"MsgHints","../../ccstudio/config/Config":"Config","../../ccstudio/data/Model":"Model","../../ccstudio/manager/WXTTUtils":"WXTTUtils","../../ccstudio/utils/Utils":"Utils","./Tile":"Tile"}],GameEntry:[function(t,e,o){"use strict";cc._RF.push(e,"85b45/oJnpCr5ygrf6ykZvO","GameEntry");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},s=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function s(t){try{a(n.next(t))}catch(e){r(e)}}function c(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(s,c)}a((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../ccstudio/common/GameConst"),l=t("../ccstudio/Core"),u=t("./common/AdsController"),h=cc._decorator,p=h.ccclass,d=h.property;cc.dynamicAtlasManager.enabled=!0,cc.macro.CLEANUP_IMAGE_CACHE=!1;var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.container=null,e}return i(e,t),e.prototype.onLoad=function(){return s(this,void 0,void 0,function(){return c(this,function(){return this.checkDevice(),this.initListeners(),[2]})})},e.prototype.initListeners=function(){cc.game.on(cc.game.EVENT_SHOW,function(){u.default.isAdsActive()&&setTimeout(function(){return cc.game.pause()},10)})},e.prototype.checkDevice=function(){cc.sys.isMobile?(this.node.getComponent(cc.Canvas).fitHeight=!1,this.node.getComponent(cc.Canvas).fitWidth=!0):(this.node.getComponent(cc.Canvas).fitHeight=!0,this.node.getComponent(cc.Canvas).fitWidth=!1)},e.prototype.start=function(){return s(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,u.default.init()];case 1:return t.sent(),[4,u.default.loadPlayerData()];case 2:return t.sent(),u.default.showStickyBanner(),l.Core.init(this.container),l.Core.win.open(a.default.winPath.LoadingWin,null,!1,!1),console.log("enter game"),[2]}})})},r([d(cc.Node)],e.prototype,"container",void 0),r([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../ccstudio/Core":"Core","../ccstudio/common/GameConst":"GameConst","./common/AdsController":"AdsController"}],GameModel:[function(t,e,o){"use strict";cc._RF.push(e,"612a1i6Jw9L/rhFZuXluOH3","GameModel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../config/Config"),c=t("./ModelBase"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.level=1,e.selectedLevel=1,e.selectedTheme=0,e.selectedThemeSub=0,e.nightmode=!1,e.levelstar={},e.money=0,e.itemAdd=1,e.itemUndo=1,e.itemHint=1,e.guide=1,e.curTubeType=8,e.curBallType=16,e.curThemeType=1,e.unlockTubes=[8],e.unlockBalls=[16],e.unlockThemes=[1],e}return i(e,t),e.prototype.setDefault=function(){},e.prototype.setData=function(e){t.prototype.setData.call(this,e),this.selectedLevel=this.level;var o=s.default.collection.checkSelectInfo(this.level);o&&(this.selectedTheme=o.main,this.selectedThemeSub=o.sub)},e.prototype.unLockTheme=function(t){this.unlockThemes.push(t)},e.prototype.unLockBall=function(t){this.unlockBalls.push(t)},e.prototype.unLockTube=function(t){this.unlockTubes.push(t)},e.prototype.checkThemeIsUnLock=function(t){return-1!=this.unlockThemes.indexOf(t)},e.prototype.checkBallIsUnLock=function(t){return-1!=this.unlockBalls.indexOf(t)},e.prototype.checkTubeIsUnLock=function(t){return-1!=this.unlockTubes.indexOf(t)},r([c.save],e.prototype,"level",void 0),r([c.save],e.prototype,"nightmode",void 0),r([c.save],e.prototype,"levelstar",void 0),r([c.save],e.prototype,"money",void 0),r([c.save],e.prototype,"itemAdd",void 0),r([c.save],e.prototype,"itemUndo",void 0),r([c.save],e.prototype,"itemHint",void 0),r([c.save],e.prototype,"guide",void 0),r([c.save],e.prototype,"curTubeType",void 0),r([c.save],e.prototype,"curBallType",void 0),r([c.save],e.prototype,"curThemeType",void 0),r([c.save],e.prototype,"unlockTubes",void 0),r([c.save],e.prototype,"unlockBalls",void 0),r([c.save],e.prototype,"unlockThemes",void 0),e}(c.default);o.default=a,cc._RF.pop()},{"../config/Config":"Config","./ModelBase":"ModelBase"}],GameWin:[function(t,e,o){"use strict";cc._RF.push(e,"4a837l9myxGlqWqBKH+5fSM","GameWin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/common/GameConst"),c=t("../../ccstudio/component/BasePanel"),a=t("../../ccstudio/component/MsgHints"),l=t("../../ccstudio/config/Config"),u=t("../../ccstudio/Core"),h=t("../../ccstudio/data/Model"),p=t("../../ccstudio/manager/WXTTUtils"),d=t("../../ccstudio/utils/Utils"),f=t("../common/AdsController"),y=t("./Tubes"),m=cc._decorator,_=m.ccclass,g=m.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Tubes=null,e.tubes=[],e.selectedTubeIdx=-1,e}return i(e,t),e.prototype.start=function(){u.Core.soundManager.playBGM("music_game_hall"),this.replay()},e.prototype.replay=function(){this.removeAll(),this.selectedTubeIdx=-1,this.tubes=[],this.recordList=[],this.useCounts=[0,0,0],this.loadLevels()},e.prototype.loadLevels=function(){this.level=l.default.level.getLevelData(h.default.game.selectedLevel),this.txt_lv.string=h.default.game.selectedLevel+"",this.txt_level_show.string="\u0423\u0440\u043e\u0432\u0435\u043d\u044c "+h.default.game.selectedLevel,this.node_item.active=this.node_top.active=!0,this.showStartAni(),this.createTubes(),this.updateItemView(),this.showTutorial()},e.prototype.showTutorial=function(){this.node_tutorial1.active=this.node_tutorial2.active=!1,1==h.default.game.level?(this.node_item.active=this.node_top.active=!1,this.node_tutorial1.active=!0,cc.tween(this.node_finger).to(.5,{scale:1.1}).to(.5,{scale:1}).union().repeatForever().start(),this.node_finger.position=this.tubes[0].node.position.sub(cc.v2(80,0))):2==h.default.game.level&&(this.node_item.active=this.node_top.active=!1,this.node_tutorial2.active=!0)},e.prototype.showStartAni=function(){var t=this;h.default.game.level<=2||(this.node_start.active=!0,this.node_level_show.x=-700,this.txt_level_show.node.x=700,cc.tween(this.node_level_show).to(.5,{x:0},{easing:"backOut"}).delay(1).call(function(){cc.tween(t.node_level_show).to(.5,{x:700},{easing:"backIn"}).call(function(){}).start()}).start(),cc.tween(this.txt_level_show.node).to(.5,{x:0},{easing:"backOut"}).delay(1).call(function(){cc.tween(t.txt_level_show.node).to(.5,{x:-700},{easing:"backIn"}).call(function(){t.node_start.active=!1}).start()}).start())},e.prototype.createTubes=function(){for(var t=this,e=l.default.level.getLayoutInfo(this.level.cupCount),o=0,n=function(n){var r=cc.instantiate(i.Tubes);r.parent=i.node_container;var s=r.getComponent(y.default);s.initData(i.level.layout[n],function(){t.doMoveBall(n)}),o=s.getHeight(),r.x=n%e.rowCount*e.colDis,r.y=-Math.floor(n/e.rowCount)*(e.rowDis+o*e.s),i.tubes.push(s),r.setScale(e.s)},i=this,r=0;r<this.level.cupCount;r++)n(r);var s=(Math.ceil(this.level.cupCount/e.rowCount)-1)*(e.rowDis+o*e.s),c=(Math.min(e.rowCount,this.level.cupCount)-1)*e.colDis;this.node_container.x=-c>>1,this.node_container.y=.5*(s-o*e.s)},e.prototype.addTube=function(){var t=this,e=cc.instantiate(this.Tubes);e.parent=this.node_container;var o=e.getComponent(y.default),n=[this.tubes.length,this.level.ballCount,1];o.initData(n,function(){t.doMoveBall(t.tubes.length-1)}),this.tubes.push(o),this.relayoutTubes()},e.prototype.relayoutTubes=function(){for(var t=l.default.level.getLayoutInfo(this.tubes.length),e=0,o=0;o<this.tubes.length;o++){var n=this.tubes[o];e=n.getHeight(),n.node.x=o%t.rowCount*t.colDis,n.node.y=-Math.floor(o/t.rowCount)*(t.rowDis+e*t.s),n.node.setScale(t.s)}var i=(Math.ceil(this.level.cupCount/t.rowCount)-1)*(t.rowDis+e*t.s),r=(Math.min(t.rowCount,this.level.cupCount)-1)*t.colDis;this.node_container.x=-r>>1,this.node_container.y=.5*(i-e*t.s)},e.prototype.doMoveBall=function(t){if(this.selectedTubeIdx>=0&&t!=this.selectedTubeIdx&&1==this.tubes[t].tip)return this.moveToIdx(this.selectedTubeIdx,t),this.hideAllTip(),void(this.selectedTubeIdx=-1);if(!this.tubes[t].checkIsEmpty()){if(this.tubes[t].state==s.default.TUBE_STATE.Select)return this.tubes[t].backRightPos(),void this.hideAllTip();for(var e=0,o=this.tubes;e<o.length;e++){var n=o[e];if(n.state==s.default.TUBE_STATE.Select){n.backRightPos(),this.hideAllTip();break}}var i=this.getValidTubeIdx(t);if(0==i.length)a.default.show("\u041d\u0435\u0442 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0435\u0439 \u043a\u043e\u043b\u0431\u044b "),this.selectedTubeIdx=t,this.tubes[t].moveToTop(),p.default.vibrateShort();else if(1==i.length)this.moveToIdx(t,i[0]);else{this.selectedTubeIdx=t,this.tubes[t].moveToTop();for(var r={},c=0;c<this.tubes.length;c++)r[c]=!1;for(var l=0,u=i;l<u.length;l++){var h=u[l];this.tubes[h].showTip(1),r[h]=!0}for(var d in r)0==r[d]&&Number(d)!=t&&this.tubes[d].showTip(2)}}},e.prototype.moveToIdx=function(t,e){var o=this.tubes[t].removeTopBall(),n=d.default.convetOtherNodeSpaceAR(o.ball.node,this.tubes[e].node);this.tubes[e].addBall(o.ball,n,o.offsetTop),this.checkGameResult(),this.recordList.push({from:t,to:e})},e.prototype.getValidTubeIdx=function(t){for(var e=this.tubes[t].getTopBallType(),o=0;o<this.tubes.length;o++)if(o!=t&&!this.tubes[o].checkIsFull()&&this.tubes[o].checkAllIsType(e))return[o];var n=[],i=!1;for(o=0;o<this.tubes.length;o++)if(o!=t&&!this.tubes[o].checkIsFull()){var r=this.tubes[o].getTopBallType();-1!=r&&e!=r||(this.tubes[o].checkIsEmpty()?i||(i=!0,n.push(o)):n.push(o))}return n},e.prototype.hideAllTip=function(){for(var t=0,e=this.tubes;t<e.length;t++)e[t].showTip(0)},e.prototype.updateItemView=function(){this.txt_hint.string=h.default.game.itemHint+"",this.txt_add.string=h.default.game.itemAdd+"",this.txt_undo.string=h.default.game.itemUndo+"",this.btn_undo.node.getChildByName("add").active=0==h.default.game.itemUndo,this.btn_add.node.getChildByName("add").active=0==h.default.game.itemAdd,this.btn_hint.node.getChildByName("add").active=0==h.default.game.itemHint,this.btn_undo.node.getChildByName("circle").active=h.default.game.itemUndo>0,this.btn_add.node.getChildByName("circle").active=h.default.game.itemAdd>0,this.btn_hint.node.getChildByName("circle").active=h.default.game.itemHint>0},e.prototype.checkGameResult=function(){for(var t=this,e=!0,o=0,n=this.tubes;o<n.length;o++)if(0==n[o].checkIsOk()){e=!1;break}e&&(cc.log("\u6e38\u620f\u80dc\u5229"),this.change10FirstLevels(),h.default.save(),this.scheduleOnce(function(){h.default.game.level>2?u.Core.win.open(s.default.winPath.PassWin,{}):(h.default.game.selectedLevel=h.default.game.level,t.replay())},1))},e.prototype.change10FirstLevels=function(){h.default.game.level<3||h.default.game.level>=10?h.default.game.level++:this.redefineLevels()},e.prototype.redefineLevels=function(){3===h.default.game.level?h.default.game.level=5:5===h.default.game.level?h.default.game.level=4:4===h.default.game.level?h.default.game.level=8:8===h.default.game.level?h.default.game.level=6:6===h.default.game.level?h.default.game.level=9:9===h.default.game.level?h.default.game.level=7:7===h.default.game.level&&(h.default.game.level=10)},e.prototype.undo=function(){var t=this.recordList.pop();this.moveToIdx(t.to,t.from)},e.prototype.clickUndo=function(){var t=this;if(0!=this.recordList.length)if(h.default.game.itemUndo>0){if(this.useCounts[0]>0)return void a.default.show("\u041c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043e\u0434\u0438\u043d \u0440\u0430\u0437");h.default.game.itemUndo--,this.useCounts[0]++,h.default.save(),this.updateItemView(),this.undo()}else p.default.showVideo(function(e){0==e&&(h.default.game.itemUndo++,h.default.save(),t.updateItemView(),f.default.showRewarded())});else a.default.show("\u041d\u0435\u0447\u0435\u0433\u043e \u043e\u0442\u043c\u0435\u043d\u044f\u0442\u044c")},e.prototype.clickHint=function(){var t=this;if(h.default.game.itemHint>0){if(this.useCounts[1]>0)return void a.default.show("\u041c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043e\u0434\u0438\u043d \u0440\u0430\u0437");h.default.game.itemHint--,this.useCounts[1]++,h.default.save(),this.updateItemView(),this.hint()}else p.default.showVideo(function(e){0==e&&(h.default.game.itemHint++,h.default.save(),t.updateItemView(),f.default.showRewarded())})},e.prototype.hint=function(){for(var t=0;t<this.tubes.length;t++){var e=this.getValidTubeIdx(t);if(e.length>0){this.moveToIdx(t,e[0]);break}}},e.prototype.clickAdd=function(){var t=this;if(h.default.game.itemAdd>0){if(this.useCounts[2]>0)return void a.default.show("\u041c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043e\u0434\u0438\u043d \u0440\u0430\u0437");h.default.game.itemAdd--,this.useCounts[2]++,h.default.save(),this.updateItemView(),this.addTube()}else p.default.showVideo(function(e){0==e&&(h.default.game.itemAdd++,h.default.save(),t.updateItemView(),f.default.showRewarded())})},e.prototype.close=function(){t.prototype.close.call(this),this.recycle()},e.prototype.removeAll=function(){for(var t=0,e=this.tubes;t<e.length;t++)e[t].removeAll()},e.prototype.panelDataUpdate=function(){this.replay()},e.prototype.onBtnClicked=function(t,e){switch(u.Core.soundManager.playSFX("clickbtn"),e){case"btn_retry":this.replay();break;case"btn_undo":this.clickUndo();break;case"btn_hint":this.clickHint();break;case"btn_add":this.clickAdd();break;case"btn_set":u.Core.win.open(s.default.winPath.SettingWin);break;case"btn_shop":u.Core.win.open(s.default.winPath.ShopWin)}},r([g(cc.Prefab)],e.prototype,"Tubes",void 0),r([_],e)}(c.default);o.default=v,cc._RF.pop()},{"../../ccstudio/Core":"Core","../../ccstudio/common/GameConst":"GameConst","../../ccstudio/component/BasePanel":"BasePanel","../../ccstudio/component/MsgHints":"MsgHints","../../ccstudio/config/Config":"Config","../../ccstudio/data/Model":"Model","../../ccstudio/manager/WXTTUtils":"WXTTUtils","../../ccstudio/utils/Utils":"Utils","../common/AdsController":"AdsController","./Tubes":"Tubes"}],GuideWin:[function(t,e,o){"use strict";cc._RF.push(e,"6115eGn309GmYiS4WYDA0Ui","GuideWin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},r([a(cc.Label)],e.prototype,"label",void 0),r([a],e.prototype,"text",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],HTTP:[function(t,e,o){"use strict";cc._RF.push(e,"003df4prMVOaqxLMpS4l3cV","HTTP"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../manager/BusyLoadingManager"),i=cc._decorator,r=(i.ccclass,i.property,function(){function t(){}return t.sendRequest=function(e,o,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var s=new XMLHttpRequest,c="?rnd="+Math.random();for(var a in o)"?"!=c&&(c+="&"),c+=a+"="+o[a];null==i&&(i=t.url);var l=i+e;return o&&(l+=encodeURI(c)),console.log(l),s.open("GET",l,!0),s.timeout=1e4,s.onload=function(){if(s.status>=200&&s.status<300||304==s.status){var t=JSON.parse(s.responseText);n&&n(t)}else s.abort()},s.ontimeout=function(t){cc.log(t),r&&r()},s.onabort=function(t){cc.log(t),r&&r()},s.onerror=function(t){cc.log(t),r&&r()},s.send(),s},t.post=function(e,o,i,r,s){void 0===r&&(r=null),void 0===s&&(s=null);var c=new XMLHttpRequest;null==r&&(r=t.url);var a=r+e;return c.open("POST",a),console.log(o),c.timeout=1e4,c.setRequestHeader("Access-Control-Allow-Origin","*"),c.setRequestHeader("Access-Control-Allow-Methods","GET, POST"),c.setRequestHeader("Access-Control-Allow-Headers","x-requested-with,content-type"),c.setRequestHeader("Content-Type","application/json"),c.onload=function(){if(c.status>=200&&c.status<300||304==c.status){console.log(c.responseText);var t=JSON.parse(c.responseText);i&&i(t)}else c.abort()},c.ontimeout=function(t){cc.log(t),n.default.ins.removeBusy(n.BUSY_TYPE.RES),s&&s()},c.onabort=function(t){cc.log(t),s&&s()},c.onerror=function(t){cc.log(t),n.default.ins.removeBusy(n.BUSY_TYPE.RES),s&&s()},c.send(JSON.stringify(o)),c},t.url="https://www.mfxczz.cn/api/user/",t}());o.default=r,cc._RF.pop()},{"../manager/BusyLoadingManager":"BusyLoadingManager"}],HelpWin:[function(t,e,o){"use strict";cc._RF.push(e,"a3ac3OZhSNGmYUjTB+CwAEg","HelpWin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/common/GameConst"),c=t("../../ccstudio/component/BasePanel"),a=t("../../ccstudio/component/LinkPrefab"),l=t("../../ccstudio/Core"),u=t("../../ccstudio/utils/Utils"),h=t("./Tile"),p=cc._decorator,d=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showTiles=[],e.oldPos=[],e.step=1,e}return i(e,t),e.prototype.start=function(){this.playStep1()},e.prototype.playHand=function(){cc.Tween.stopAllByTarget(this.node_arrow),this.node_hand.active=!0,cc.tween(this.node_arrow).to(.5,{y:20}).to(.5,{y:0}).union().repeatForever().start()},e.prototype.playStep1=function(){var t=this;this.playHand();for(var e=u.default.convetOtherNodeSpaceAR(this.node_box,this.node_step1),o=function(o){var i=n.getTile(n.node_step1,o);i.setZoom(1.4,1.4),i.type=1,i.tileBg.on(cc.Node.EventType.TOUCH_START,function(){if(t.step==o){t.step++;var n=120*(o-1)+e.x-240,r=e.y+5;cc.tween(i.node.parent).to(.3,{x:n,y:r},{easing:"sineOut"}).call(function(){if(3==o)for(var e=function(e){var o=t.getTile(t.node_step1,e);cc.tween(o.node).delay(.06).to(.2,{scale:0}).call(function(){3==e&&t.playStep2()}).start()},n=1;n<=3;n++)e(n)}).start(),t.step<=3?(t.node_hand.x=t.node_step1.getChildByName("link_tile"+t.step).x+40,t.node_hand.y=t.node_step1.getChildByName("link_tile"+t.step).y-60):t.node_hand.active=!1}})},n=this,i=1;i<=3;i++)o(i);this.node_hand.x=this.node_step1.getChildByName("link_tile1").x+40,this.node_hand.y=this.node_step1.getChildByName("link_tile1").y-60},e.prototype.playStep2=function(){var t=this;this.step=14;var e=u.default.convetOtherNodeSpaceAR(this.node_box,this.node_step2);this.node_step1.destroyAllChildren(),this.txt_title.string="\u89e3\u9501\u4e0b\u5c42",this.txt_desc.string="\u7684\u65b9\u5757",this.node_step2.active=!0,this.playHand();for(var o=[0,1,2,3,4,5,6,7,8,9,0,1,10,10,10],n=function(n){var r=i.getTile(i.node_step2,n);r.setZoom(1.4,1.4),r.type=o[n],14!=n?r.setDark(!0,!1):(i.node_hand.x=r.node.parent.x+40,i.node_hand.y=r.node.parent.y-60),12!=n&&13!=n&&14!=n||r.tileBg.on(cc.Node.EventType.TOUCH_START,function(){if(n==t.step){r.node.parent.zIndex=100-n;var o=120*(14-t.step)+e.x-240,i=e.y+5;cc.tween(r.node.parent).to(.3,{x:o,y:i},{easing:"sineOut"}).call(function(){if(12==n)for(var e=function(e){var o=t.getTile(t.node_step2,e);cc.tween(o.node).delay(.06).to(.2,{scale:0}).call(function(){14==e&&t.playStep3()}).start()},o=12;o<=14;o++)e(o)}).start(),14==t.step?(t.getTile(t.node_step2,13).setDark(!1),t.getTile(t.node_step2,12).setDark(!1),t.getTile(t.node_step2,11).setDark(!1),t.getTile(t.node_step2,10).setDark(!1),t.node_hand.x=t.node_step2.getChildByName("link_tile13").x+40,t.node_hand.y=t.node_step2.getChildByName("link_tile13").y-60):13==t.step?(t.getTile(t.node_step2,9).setDark(!1),t.node_hand.x=t.node_step2.getChildByName("link_tile12").x+40,t.node_hand.y=t.node_step2.getChildByName("link_tile12").y-60):12==t.step&&(t.getTile(t.node_step2,8).setDark(!1),t.getTile(t.node_step2,7).setDark(!1),t.node_hand.active=!1),t.step--}})},i=this,r=1;r<=14;r++)n(r)},e.prototype.playStep3=function(){l.Core.win.open(s.default.winPath.TutorialCompleteWin)},e.prototype.getTile=function(t,e){return t.getChildByName("link_tile"+e).getComponent(a.default).getPrefabComponect(h.default)},e.prototype.playHelp=function(){var t=this;this.showTiles[0].scale=.55,this.showTiles[1].scale=.55,this.showTiles[2].scale=.55,this.showTiles[0].position=this.oldPos[0],this.showTiles[1].position=this.oldPos[1],this.showTiles[2].position=this.oldPos[2],cc.tween(this.showTiles[0]).delay(.9).to(.5,{x:-140,y:-162}).start(),cc.tween(this.showTiles[1]).delay(1.3).to(.5,{x:-92,y:-162}).start(),cc.tween(this.showTiles[2]).delay(1.7).to(.5,{x:-44,y:-162}).delay(.1).call(function(){cc.tween(t.showTiles[0]).to(.2,{scale:0}).start(),cc.tween(t.showTiles[1]).to(.2,{scale:0}).start(),cc.tween(t.showTiles[2]).to(.2,{scale:0}).delay(.8).call(function(){t.playHelp()}).start()}).start()},e.prototype.close=function(){for(var e=0,o=this.node_box.children;e<o.length;e++){var n=o[e].getComponent(h.default);n&&n.recycle()}t.prototype.close.call(this)},e.prototype.onBtnClicked=function(t,e){"btn_close"==e&&l.Core.win.open(s.default.winPath.CollectionMainWin,null,!0)},r([d],e)}(c.default));o.default=f,cc._RF.pop()},{"../../ccstudio/Core":"Core","../../ccstudio/common/GameConst":"GameConst","../../ccstudio/component/BasePanel":"BasePanel","../../ccstudio/component/LinkPrefab":"LinkPrefab","../../ccstudio/utils/Utils":"Utils","./Tile":"Tile"}],ImageQueueLoader:[function(t,e,o){"use strict";cc._RF.push(e,"507ffLR20VDNaCF3T3vZ5ns","ImageQueueLoader"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Utils"),i=function(){function t(){this.arr=[],this.resList=[]}return t.prototype.load=function(t,e){this.arr=t,this.callback=e,this.doNextLoad()},t.prototype.doNextLoad=function(){var t=this;if(this.arr.length>0){var e=this.arr.shift();n.default.loadRes(e.path,e.bundle,cc.Texture2D,function(e,o){t.resList.push(new cc.SpriteFrame(o)),t.doNextLoad()})}else this.callback(this.resList)},t}();o.default=i,cc._RF.pop()},{"./Utils":"Utils"}],LayerManager:[function(t,e,o){"use strict";cc._RF.push(e,"747a5oMzyhNuLj8Vql+cF2P","LayerManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.init=function(t){this.container=t,this.sceneLayer=t.getChildByName("layer_scene"),this.uiLayer=t.getChildByName("layer_ui"),this.windowLayer=t.getChildByName("layer_win"),this.alertLayer=t.getChildByName("layer_alert")},t.prototype.getNode=function(){var t=new cc.Node,e=t.addComponent(cc.Widget);return e.top=e.left=e.bottom=e.right=0,e.updateAlignment(),t},t}();o.default=n,cc._RF.pop()},{}],LevelCfgParser:[function(t,e,o){"use strict";cc._RF.push(e,"522a17d7OBP+7xaxQFt2mUF","LevelCfgParser"),Object.defineProperty(o,"__esModule",{value:!0}),o.LevelCO=void 0;var n=function(){};o.LevelCO=n;var i=function(){function t(){}return t.prototype.setup=function(t){this.levels={};for(var e=0,o=t;e<o.length;e++){var i=o[e],r=Number(i.id),s=i.data.split("|"),c=new n;c.cupCount=Number(s[0]),c.layout=[];for(var a=1;a<=c.cupCount;a++){var l=s[a].split(",");c.layout.push(l)}c.ballCount=Number(c.layout[0][1]),c.step=Number(s[c.cupCount+1]),c.seq=s[c.cupCount+2].split(","),this.levels[r]=c}cc.log("-------------------load level")},t.prototype.getLevelData=function(t){return this.levels[t]},t.prototype.getLayoutInfo=function(t){return 5==t?{rowCount:5,rowDis:30,s:.8,colDis:130}:6==t?{rowCount:3,rowDis:80,s:.8,colDis:130}:7==t||8==t?{rowCount:4,rowDis:80,s:.8,colDis:130}:9==t||10==t?{rowCount:5,rowDis:80,s:.8,colDis:130}:11==t||12==t?{rowCount:6,rowDis:80,s:.7,colDis:100}:13==t||14==t?{rowCount:7,rowDis:80,s:.7,colDis:90}:15==t||16==t?{rowCount:8,rowDis:80,s:.65,colDis:80}:17==t||18==t?{rowCount:9,rowDis:80,s:.56,colDis:70}:19==t||20==t?{rowCount:10,rowDis:80,s:.52,colDis:63}:21==t||22==t?{rowCount:11,rowDis:80,s:.48,colDis:56}:{rowCount:5,rowDis:30,s:1,colDis:180}},t}();o.default=i,cc._RF.pop()},{}],LevelWin:[function(t,e,o){"use strict";cc._RF.push(e,"2fc78l5JgtLEq2r4UWA8rAB","LevelWin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/common/GameConst"),c=t("../../ccstudio/component/BasePanel"),a=t("../../ccstudio/Core"),l=t("../../ccstudio/data/Model"),u=cc._decorator,h=u.ccclass,p=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.levelCell=null,e.pageinfo=[{tile:"\u590f\u5b63\u65f6\u5149",desc:"\u590f\u5b63\u4e50\u8da3\u65e0\u7a77",count:15,name:"summer"},{tile:"\u51ac\u5929",desc:"\u4eab\u53d7\u767d\u96ea\u7691\u7691\u7684\u6c14\u6c1b",count:30,name:"winter"},{tile:"\u6c34\u679c",desc:"\u7855\u679c\u7d2f\u7d2f\u7684\u4e1b\u6797\u8c1c\u9898",count:60,name:"fruits"},{tile:"\u82b1\u6735",desc:"\u611f\u53d7\u82b1\u513f\u5e26\u6765\u7684\u60ec\u610f",count:120,name:"flowers"},{tile:"\u6a31\u82b1",desc:"\u4e1c\u65b9 \u6625\u5929",count:220,name:"sakura"}],e.txt_tile=null,e.txt_desc=null,e.node_up_left=null,e.node_up_right=null,e.pageview=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this.GetGameObject("content");this.pageview=this.GetGameObject("PageView").getComponent(cc.PageView);for(var e=t.children[0],o=1;o<this.pageinfo.length;++o){var n=cc.instantiate(e);this.pageview.addPage(n)}var i=0,r=1;for(o=0;o<t.childrenCount;++o)for(var s=this.pageinfo[o],c=t.children[o],a=this.GetGameObject("content",c),u=0;u<s.count;++u){var h=cc.instantiate(this.levelCell);h.name="btn_item",h.lv=r,a.addChild(h),r==l.default.game.level&&(i=o),this.refreshCell(h,r++)}this.pageview.scrollToPage(i,0),this.autoMapping(this.node),this.onPageChange()},e.prototype.onPageChange=function(){var t=this.pageinfo[this.pageview.getCurrentPageIndex()];this.txt_tile.string=t.tile,this.txt_desc.string=t.desc;for(var e=0;e<this.node_up_left.childrenCount;++e)(o=this.node_up_left.children[e]).active=o.name==t.name+"_up_left";for(e=0;e<this.node_up_right.childrenCount;++e){var o;(o=this.node_up_right.children[e]).active=o.name==t.name+"_up_right"}},e.prototype.refreshCell=function(t,e){var o=t.getChildByName("node_lock");o.active=e>l.default.game.level;var n=t.getChildByName("node_normal");n.active=e<=l.default.game.level,n.getChildByName("ic_level_completed").active=e<l.default.game.level,o.getChildByName("ic_level_locked_small").active=e>l.default.game.level,t.getChildByName("txt_lv").getComponent(cc.Label).string=e+"",t.getChildByName("txt_lv").color=e>l.default.game.level?cc.Color.GRAY:cc.Color.BLACK},e.prototype.onBtnClicked=function(t,e){switch(a.Core.soundManager.playSFX("clickbtn"),e){case"btn_close":this.close();break;case"btn_set":a.Core.win.open(s.default.winPath.SettingWin);break;case"btn_item":console.log("\u9009\u5173\u5361\uff1a",t.target.lv),l.default.game.selectedLevel=t.target.lv,this.close(),a.Core.win.open(s.default.winPath.GameWin,null,!0)}},r([p({type:cc.Prefab})],e.prototype,"levelCell",void 0),r([h],e)}(c.default);o.default=d,cc._RF.pop()},{"../../ccstudio/Core":"Core","../../ccstudio/common/GameConst":"GameConst","../../ccstudio/component/BasePanel":"BasePanel","../../ccstudio/data/Model":"Model"}],LinkPrefab:[function(t,e,o){"use strict";cc._RF.push(e,"bfc54kpI8JOI6yHYbZgXsaU","LinkPrefab");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.executeInEditMode,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._prefabNode=null,e._prefab=null,e}return i(e,t),Object.defineProperty(e.prototype,"prefab",{get:function(){return this._prefab},set:function(t){this._onPrefabChanged(this._prefab,t)},enumerable:!1,configurable:!0}),e.prototype._onPrefabChanged=function(t,e){if(this._prefabNode&&(this._prefabNode.destroy(),this._prefabNode=null),this._prefab=e,e){var o=cc.instantiate(e);o&&(this._prefabNode=o,o._objFlags|=cc.Object.Flags.DontSave|cc.Object.Flags.LockedInEditor|cc.Object.Flags.HideInHierarchy,o.x=0,o.y=0,this.node.addChild(o,-1),o.name="prefabNode",this.node.setContentSize(o.getContentSize()))}},e.prototype.getPefabNode=function(){return this._initPrefab(),this._prefabNode},e.prototype.getPrefabComponect=function(t){var e=this._prefabNode;return e?e.getComponent(t):null},e.prototype.onLoad=function(){this._initPrefab()},e.prototype._initPrefab=function(){if(this._prefab&&!this._prefabNode){var t=this.node.getChildByName("prefabNode");if(t)this._prefabNode=t;else{var e=cc.instantiate(this._prefab);e&&(this._prefabNode=e,this.node.addChild(e,-1),e.name="prefabNode",e.x=0,e.y=0,this.node.setContentSize(e.getContentSize()))}}},r([l],e.prototype,"_prefab",void 0),r([l({type:cc.Prefab,visible:!0,displayName:"\u9884\u5236\u4f53"})],e.prototype,"prefab",null),r([c,a],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],ListItem:[function(t,e,o){"use strict";cc._RF.push(e,"a921eazcm1OZLr+tI/s0otL","ListItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s,c=cc._decorator,a=c.ccclass,l=c.property,u=c.disallowMultiple,h=c.menu,p=c.executionOrder;(function(t){t[t.NONE=0]="NONE",t[t.TOGGLE=1]="TOGGLE",t[t.SWITCH=2]="SWITCH"})(s||(s={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.title=null,e.selectedMode=s.NONE,e.selectedFlag=null,e.selectedSpriteFrame=null,e._unselectedSpriteFrame=null,e._selected=!1,e._eventReg=!1,e}return i(e,t),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(t){if(this._selected=t,this.selectedFlag)switch(this.selectedMode){case s.TOGGLE:this.selectedFlag.active=t;break;case s.SWITCH:var e=this.selectedFlag.getComponent(cc.Sprite);e&&(e.spriteFrame=t?this.selectedSpriteFrame:this._unselectedSpriteFrame)}},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){if(this._btnCom=this.node.getComponent(cc.Button),this._btnCom||(this.selectedMode,s.NONE),this.selectedMode==s.SWITCH){var t=this.selectedFlag.getComponent(cc.Sprite);this._unselectedSpriteFrame=t.spriteFrame}},e.prototype._registerEvent=function(){if(this._btnCom&&this.list.selectedMode>0&&!this._eventReg){var t=new cc.Component.EventHandler;t.target=this.node,t.component="ListItem",t.handler="onClickThis",this._btnCom.clickEvents.unshift(t),this._eventReg=!0}},e.prototype.showAni=function(t,e,o){var n,i=this;switch(t){case 0:n=[cc.scaleTo(.2,.7),cc.moveBy(.3,0,2*this.node.height)];break;case 1:n=[cc.scaleTo(.2,.7),cc.moveBy(.3,2*this.node.width,0)];break;case 2:n=[cc.scaleTo(.2,.7),cc.moveBy(.3,0,-2*this.node.height)];break;case 3:n=[cc.scaleTo(.2,.7),cc.moveBy(.3,-2*this.node.width,0)];break;default:n=[cc.scaleTo(.3,.1)]}(e||o)&&n.push(cc.callFunc(function(){if(o){i.list._delSingleItem(i.node);for(var t=i.list.displayData.length-1;t>=0;t--)if(i.list.displayData[t].id==i.listId){i.list.displayData.splice(t,1);break}}e()})),this.node.runAction(cc.sequence(n))},e.prototype.onClickThis=function(){this.list.selectedId=this.listId},r([l({type:cc.Sprite,tooltip:!1})],e.prototype,"icon",void 0),r([l({type:cc.Node,tooltip:!1})],e.prototype,"title",void 0),r([l({type:cc.Enum(s),tooltip:!1})],e.prototype,"selectedMode",void 0),r([l({type:cc.Node,tooltip:!1,visible:function(){return this.selectedMode>s.NONE}})],e.prototype,"selectedFlag",void 0),r([l({type:cc.SpriteFrame,tooltip:!1,visible:function(){return this.selectedMode==s.SWITCH}})],e.prototype,"selectedSpriteFrame",void 0),r([a,u(),h("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List Item"),p(-5001)],e)}(cc.Component);o.default=d,cc._RF.pop()},{}],ListView:[function(t,e,o){"use strict";cc._RF.push(e,"6588d+9bvVHEYPZtIuhfKIX","ListView");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.StartAxisType=o.ListType=void 0;var s,c,a=cc._decorator,l=a.ccclass,u=a.property,h=a.menu;(function(t){t[t.Horizontal=1]="Horizontal",t[t.Vertical=2]="Vertical",t[t.Grid=3]="Grid"})(s=o.ListType||(o.ListType={})),function(t){t[t.Horizontal=1]="Horizontal",t[t.Vertical=2]="Vertical"}(c=o.StartAxisType||(o.StartAxisType={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemRender=null,e.aim=!0,e.frameCreate=!0,e.type=s.Vertical,e.startAxis=c.Horizontal,e.spaceX=0,e.spaceY=0,e.top=0,e.bottom=0,e.left=0,e._padding=0,e.right=0,e.scrollView=null,e.content=null,e.itemDataList=[],e.spawnCount=0,e.itemList=[],e.itemHeight=0,e.itemWidth=0,e.itemPool=[],e.halfScrollView=0,e.lastContentPosX=0,e.lastContentPosY=0,e.gridRow=0,e.gridCol=0,e.updateTimer=0,e.updateInterval=.1,e.bScrolling=!1,e.updateFun=function(){},e.itemUpdateFunc=null,e}return i(e,t),e.prototype.onLoad=function(){this.itemHeight=this.itemRender.data.height,this.itemWidth=this.itemRender.data.width,this.scrollView=this.node.getComponent(cc.ScrollView),this.content=this.scrollView.content,this.content.anchorX=0,this.content.anchorY=1,this.content.removeAllChildren(),this.scrollView.node.on("scrolling",this.onScrolling,this)},e.prototype.setData=function(t,e,o){void 0===e&&(e=null),void 0===o&&(o=!0),o&&this.clean(),this.itemDataList=t.slice(),this.itemUpdateFunc=e,this.updateContent()},e.prototype.countListParam=function(){var t=this.itemDataList.length;this.type==s.Vertical?(this.scrollView.horizontal=!1,this.scrollView.vertical=!0,this.content.width=this.content.parent.width,this.content.height=t*this.itemHeight+(t-1)*this.spaceY+this.top+this.bottom,this.spawnCount=Math.ceil(this.scrollView.node.height/(this.itemHeight+this.spaceY))+1,this.halfScrollView=this.scrollView.node.height/2+this.itemHeight/2+this.spaceY,this.updateFun=this.updateV):this.type==s.Horizontal?(this.scrollView.horizontal=!0,this.scrollView.vertical=!1,this.content.width=t*this.itemWidth+(t-1)*this.spaceX+this.left+this.right,this.content.height=this.content.parent.height,this.spawnCount=Math.round(this.scrollView.node.width/(this.itemWidth+this.spaceX))+2,this.halfScrollView=this.scrollView.node.width/2+this.itemWidth/2+this.spaceX,this.updateFun=this.udpateH):this.type==s.Grid&&(this.startAxis==c.Vertical?(this.scrollView.horizontal=!1,this.scrollView.vertical=!0,this.content.width=this.content.parent.width,this.left+this.right+this.itemWidth+this.spaceX>this.content.width&&(this.left=0,this.right=0,console.error("left\u6216right\u8fc7\u5927")),this.gridCol=Math.floor((this.content.width-this.left-this.right)/(this.itemWidth+this.spaceX)),this.gridRow=Math.ceil(t/this.gridCol),this.content.height=this.gridRow*this.itemHeight+(this.gridRow-1)*this.spaceY+this.top+this.bottom,this.spawnCount=Math.ceil(this.scrollView.node.height/(this.itemHeight+this.spaceY))*this.gridCol+this.gridCol,this.halfScrollView=this.scrollView.node.height/2+this.itemHeight/2+this.spaceY,this.updateFun=this.updateGrid_V):this.startAxis==c.Horizontal&&(this.scrollView.horizontal=!0,this.scrollView.vertical=!1,this.content.height=this.content.parent.height,this.top+this.bottom+this.itemHeight+this.spaceY>this.content.height&&(this.top=0,this.bottom=0,console.error("top\u6216bottom\u8fc7\u5927")),this.gridRow=Math.floor((this.content.height-this.top-this.bottom)/(this.itemHeight+this.spaceY)),this.gridCol=Math.ceil(t/this.gridRow),this.content.width=this.gridCol*this.itemWidth+(this.gridCol-1)*this.spaceX+this.left+this.right,this.spawnCount=Math.round(this.scrollView.node.width/(this.itemWidth+this.spaceX))*this.gridRow+2*this.gridRow,this.halfScrollView=this.scrollView.node.width/2+this.itemWidth/2+this.spaceX,this.updateFun=this.updateGrid_H))},e.prototype.createList=function(t,e){var o=this;this.itemDataList.length>this.spawnCount&&t+this.spawnCount-1>=this.itemDataList.length?(t=this.itemDataList.length-this.spawnCount,e=this.scrollView.getMaxScrollOffset()):this.itemDataList.length<=this.spawnCount&&(t=0);var n=0,i=function(){if(n>=o.spawnCount)o.scrollView.unschedule(i);else{var e,r=!1;if(n+t<o.itemDataList.length){if(null==o.itemList[n]){var a=o.getItem();e=a.item,r=a.new,o.itemList.push(e),e.parent=o.content}else e=o.itemList[n];var l=e.getComponent(o.itemRender.name);if(l.itemIndex=n+t,!o.itemUpdateFunc&&l.updateView(o.itemDataList[n+t]),o.itemUpdateFunc&&o.itemUpdateFunc(e,o.itemDataList[n+t],n+t),o.type==s.Vertical)e.setPosition(o.content.width/2,-e.height*(.5+n+t)-o.spaceY*(n+t)-o.top);else if(o.type==s.Horizontal)e.setPosition(e.width*(.5+n+t)+o.spaceX*(n+t)+o.left,-o.content.height/2);else if(o.type==s.Grid)if(o.startAxis==c.Vertical){var u=Math.floor((n+t)/o.gridCol),h=(n+t)%o.gridCol;e.setPosition(e.width*(.5+h)+o.spaceX*h+o.left,-e.height*(.5+u)-o.spaceY*u-o.top),e.active=!0}else o.startAxis==c.Horizontal&&(u=(n+t)%o.gridRow,h=Math.floor((n+t)/o.gridRow),e.setPosition(e.width*(.5+h)+o.spaceX*h+o.left,-e.height*(.5+u)-o.spaceY*u-o.top),e.active=!1);o.aim&&r&&o.playItemInAnima(e,.1*n),n++}else o.itemList.length>o.itemDataList.length-t&&((e=o.itemList.pop()).removeFromParent(),o.itemPool.push(e))}};if(this.frameCreate)this.scrollView.schedule(i);else for(var r=0;r<this.spawnCount;r++)i();this.scrollView.scrollToOffset(e)},e.prototype.getItem=function(){return 0==this.itemPool.length?{item:cc.instantiate(this.itemRender),new:!0}:{item:this.itemPool.pop(),new:!1}},e.prototype.update=function(){0!=this.bScrolling&&(this.updateTimer=0,this.bScrolling=!1,this.updateFun())},e.prototype.onScrolling=function(){this.bScrolling=!0},e.prototype.updateV=function(){for(var t,e=this.itemList,o=this.halfScrollView,n=this.scrollView.content.y>this.lastContentPosY,i=(this.itemHeight+this.spaceY)*e.length,r=0;r<e.length;r++){t=e[r];var s=this.getPositionInView(t);if(n){if(s.y>o&&t.y-i-this.bottom>-this.content.height){var c=(a=t.getComponent(this.itemRender.name)).itemIndex+e.length;a.itemIndex=c,a.updateView(this.itemDataList[c]),this.itemUpdateFunc&&this.itemUpdateFunc(t,this.itemDataList[c],c),t.y=t.y-i}}else if(s.y<-o&&t.y+i+this.top<0){var a;c=(a=t.getComponent(this.itemRender.name)).itemIndex-e.length,a.itemIndex=c,a.updateView(this.itemDataList[c]),this.itemUpdateFunc&&this.itemUpdateFunc(t,this.itemDataList[c],c),t.y=t.y+i}}this.lastContentPosY=this.scrollView.content.y},e.prototype.udpateH=function(){for(var t,e=this.itemList,o=this.halfScrollView,n=this.scrollView.content.x>this.lastContentPosX,i=(this.itemWidth+this.spaceX)*e.length,r=0;r<e.length;r++){t=e[r];var s=this.getPositionInView(t);if(n){if(s.x>o&&t.x-i-this.left>0){var c=(a=t.getComponent(this.itemRender.name)).itemIndex-e.length;a.itemIndex=c,a.updateView(this.itemDataList[c]),this.itemUpdateFunc&&this.itemUpdateFunc(t,this.itemDataList[c],c),t.x=t.x-i}}else if(s.x<-o&&t.x+i+this.right<this.content.width){var a;c=(a=t.getComponent(this.itemRender.name)).itemIndex+e.length,a.itemIndex=c,a.updateView(this.itemDataList[c]),this.itemUpdateFunc&&this.itemUpdateFunc(t,this.itemDataList[c],c),t.x=t.x+i}}this.lastContentPosX=this.scrollView.content.x},e.prototype.updateGrid_V=function(){for(var t,e=this.itemList,o=this.halfScrollView,n=this.scrollView.content.y>this.lastContentPosY,i=(this.itemHeight+this.spaceY)*(this.spawnCount/this.gridCol),r=0;r<e.length;r++){t=e[r];var s=this.getPositionInView(t);if(n){if(s.y>o&&t.y-i-this.bottom>-this.content.height){var c=(a=t.getComponent(this.itemRender.name)).itemIndex+this.spawnCount/this.gridCol*this.gridCol;null!=this.itemDataList[c]?(t.y=t.y-i,a.itemIndex=c,!this.itemUpdateFunc&&a.updateView(this.itemDataList[c]),this.itemUpdateFunc&&this.itemUpdateFunc(t,this.itemDataList[c],c),t.active=!0):(t.y=t.y-i,a.itemIndex=c,t.active=!1)}}else if(s.y<-o&&t.y+i+this.top<0){var a;c=(a=t.getComponent(this.itemRender.name)).itemIndex-this.spawnCount/this.gridCol*this.gridCol,null!=this.itemDataList[c]?(t.y=t.y+i,a.itemIndex=c,!this.itemUpdateFunc&&a.updateView(this.itemDataList[c]),this.itemUpdateFunc&&this.itemUpdateFunc(t,this.itemDataList[c],c),t.active=!0):(t.y=t.y+i,a.itemIndex=c,t.active=!1)}}this.lastContentPosY=this.scrollView.content.y},e.prototype.updateGrid_H=function(){for(var t,e=this.itemList,o=this.halfScrollView,n=this.scrollView.content.x>this.lastContentPosX,i=(this.itemWidth+this.spaceX)*(this.spawnCount/this.gridRow),r=0;r<e.length;r++){t=e[r];var s=this.getPositionInView(t);if(n){if(s.x>o&&t.x-i-this.left>0){var c=(a=t.getComponent(this.itemRender.name)).itemIndex-this.spawnCount/this.gridRow*this.gridRow;null!=this.itemDataList[c]?(t.x=t.x-i,a.itemIndex=c,!this.itemUpdateFunc&&a.updateView(this.itemDataList[c]),this.itemUpdateFunc&&this.itemUpdateFunc(t,this.itemDataList[c],c),t.active=!0):(t.x=t.x-i,a.itemIndex=c,t.active=!1)}}else if(s.x<-o&&t.x+i+this.right<this.content.width){var a;c=(a=t.getComponent(this.itemRender.name)).itemIndex+this.spawnCount/this.gridRow*this.gridRow,null!=this.itemDataList[c]?(t.x=t.x+i,a.itemIndex=c,!this.itemUpdateFunc&&a.updateView(this.itemDataList[c]),this.itemUpdateFunc&&this.itemUpdateFunc(t,this.itemDataList[c],c),t.active=!0):(t.x=t.x+i,a.itemIndex=c,t.active=!1)}}this.lastContentPosX=this.scrollView.content.x},e.prototype.getPositionInView=function(t){var e=t.parent.convertToWorldSpaceAR(t.position);return this.scrollView.node.convertToNodeSpaceAR(e)},e.prototype.getListData=function(){return this.itemDataList},e.prototype.addItem=function(t){this.itemDataList.push(t),this.updateContent()},e.prototype.addItemAt=function(t,e){null==this.itemDataList[t]&&this.itemDataList.length!=t||(this.itemDataList.splice(t,1,e),this.updateContent())},e.prototype.deleteItem=function(t){null!=this.itemDataList[t]&&(this.itemDataList.splice(t,1),this.updateContent())},e.prototype.changeItem=function(t,e){null!=this.itemDataList[t]&&(this.itemDataList[t]=e,this.updateContent())},e.prototype.updateContent=function(){if(0==this.itemList.length)this.countListParam(),this.createList(0,new cc.Vec2(0,0));else{this.type==s.Vertical?this.itemList.sort(function(t,e){return e.y-t.y}):this.type==s.Horizontal?this.itemList.sort(function(t,e){return t.x-e.x}):this.type==s.Grid&&(this.startAxis==c.Vertical?(this.itemList.sort(function(t,e){return t.x-e.x}),this.itemList.sort(function(t,e){return e.y-t.y})):this.startAxis==c.Horizontal&&(this.itemList.sort(function(t,e){return e.y-t.y}),this.itemList.sort(function(t,e){return t.x-e.x}))),this.countListParam();var t=this.itemList[0].getComponent(this.itemRender.name).itemIndex;this.type==s.Grid&&this.startAxis==c.Vertical?t+=(t+this.spawnCount)%this.gridCol:this.type==s.Grid&&this.startAxis==c.Horizontal&&(t+=(t+this.spawnCount)%this.gridRow);var e=this.scrollView.getScrollOffset();e.x=-e.x,this.createList(t,e)}},e.prototype.playItemInAnima=function(t,e){switch(void 0===e&&(e=.1),this.type){case s.Vertical:case s.Horizontal:case s.Grid:}},e.prototype.onDestroy=function(){this.clean()},e.prototype.clean=function(){this.scrollView.stopAutoScroll(),this.scrollView.unscheduleAllCallbacks();for(var t=this.itemList.length,e=0;e<t;e++)cc.isValid(this.itemList[e],!0)&&this.itemList[e].destroy();for(this.itemList.length=0,t=this.itemPool.length,e=0;e<t;e++)cc.isValid(this.itemPool[e],!0)&&this.itemPool[e].destroy();this.itemPool.length=0,this.itemDataList.length=0},e.prototype.getData=function(){return this.itemDataList},r([u({type:cc.Prefab,tooltip:"\u5217\u8868\u9879"})],e.prototype,"itemRender",void 0),r([u({tooltip:"\u64ad\u653e\u52a8\u753b",visible:!0})],e.prototype,"aim",void 0),r([u({tooltip:"\u5206\u5e27\u521b\u5efa",visible:!0})],e.prototype,"frameCreate",void 0),r([u({type:cc.Enum(s),tooltip:"\u6392\u5217\u65b9\u5f0f"})],e.prototype,"type",void 0),r([u({type:cc.Enum(c),tooltip:"\u7f51\u683c\u5e03\u5c40\u4e2d\u7684\u65b9\u5411",visible:function(){return this.type==s.Grid}})],e.prototype,"startAxis",void 0),r([u({type:cc.Integer,tooltip:"\u5217\u8868\u9879X\u95f4\u9694",visible:function(){return this.type==s.Horizontal||this.type==s.Grid}})],e.prototype,"spaceX",void 0),r([u({type:cc.Integer,tooltip:"\u5217\u8868\u9879Y\u95f4\u9694",visible:function(){return this.type==s.Vertical||this.type==s.Grid}})],e.prototype,"spaceY",void 0),r([u({type:cc.Integer,tooltip:"\u4e0a\u95f4\u8ddd",visible:function(){return this.type==s.Vertical||this.type==s.Grid}})],e.prototype,"top",void 0),r([u({type:cc.Integer,tooltip:"\u4e0b\u95f4\u8ddd",visible:function(){return this.type==s.Vertical||this.type==s.Grid}})],e.prototype,"bottom",void 0),r([u({type:cc.Integer,tooltip:"\u5de6\u95f4\u8ddd",visible:function(){return this.type==s.Horizontal||this.type==s.Grid}})],e.prototype,"left",void 0),r([u(cc.Integer)],e.prototype,"_padding",void 0),r([u({type:cc.Integer,tooltip:"\u53f3\u95f4\u8ddd",visible:function(){return this.type==s.Horizontal||this.type==s.Grid}})],e.prototype,"right",void 0),r([l,h("\u516c\u7528\u7ec4\u4ef6/List")],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],List:[function(t,e,o){"use strict";cc._RF.push(e,"8e8e3kOJ/JH2qHONJXzBUNL","List");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s,c,a,l=cc._decorator,u=l.ccclass,h=l.property,p=l.disallowMultiple,d=l.menu,f=l.executionOrder,y=t("./ListItem");(function(t){t[t.NODE=1]="NODE",t[t.PREFAB=2]="PREFAB"})(s||(s={})),function(t){t[t.NORMAL=1]="NORMAL",t[t.ADHERING=2]="ADHERING",t[t.PAGE=3]="PAGE"}(c||(c={})),function(t){t[t.NONE=0]="NONE",t[t.SINGLE=1]="SINGLE",t[t.MULT=2]="MULT"}(a||(a={}));var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateType=s.NODE,e.tmpNode=null,e.tmpPrefab=null,e._slideMode=c.NORMAL,e.pageDistance=.3,e.pageChangeEvent=new cc.Component.EventHandler,e._virtual=!0,e.lackCenter=!1,e._updateRate=2,e.frameByFrameRenderNum=0,e.renderEvent=new cc.Component.EventHandler,e.selectedMode=a.NONE,e.selectedEvent=null,e._selectedId=-1,e._forceUpdate=!1,e._updateDone=!0,e._numItems=0,e._inited=!1,e._aniDelRuning=!1,e._doneAfterUpdate=!1,e.adhering=!1,e._adheringBarrier=!1,e.curPageNum=0,e}return i(e,t),Object.defineProperty(e.prototype,"slideModel",{get:function(){return this._slideMode},set:function(t){this._slideMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"virtual",{get:function(){return this._virtual},set:function(t){null!=t&&(this._virtual=t),0!=this._numItems&&this._onScrolling(null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateRate",{get:function(){return this._updateRate},set:function(t){t>=0&&t<=6&&(this._updateRate=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedId",{get:function(){return this._selectedId},set:function(t){var e,o=this;if(o.selectedMode!=a.SINGLE||t!=o._selectedId)switch(o.selectedMode){case a.SINGLE:if(t==o._selectedId)return;if(!(e=o.getItemByListId(t))&&t>=0)return;var n=void 0;if(o._selectedId>=0?o._lastSelectedId=o._selectedId:o._lastSelectedId=null,o._selectedId=t,e&&((n=e.getComponent(y.default)).selected=!0),o._lastSelectedId>=0){var i=o.getItemByListId(o._lastSelectedId);i&&(i.getComponent(y.default).selected=!1)}o.selectedEvent&&cc.Component.EventHandler.emitEvents([o.selectedEvent],e,t,o._lastSelectedId);break;case a.MULT:if(!(e=o.getItemByListId(t)))return;n=e.getComponent(y.default),o._selectedId>=0&&(o._lastSelectedId=o._selectedId),o._selectedId=t;var r=!n.selected;n.selected=r;var s=o.multSelected.indexOf(t);r&&s<0?o.multSelected.push(t):!r&&s>=0&&o.multSelected.splice(s,1),o.selectedEvent&&cc.Component.EventHandler.emitEvents([o.selectedEvent],e,t,o._lastSelectedId,r)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numItems",{get:function(){return this._numItems},set:function(t){var e=this;if(e.checkInited(!1))if(null==t||t<0)cc.error("numItems set the wrong::",t);else if(e._numItems=t,e._forceUpdate=!0,e._virtual)e._resizeContent(),e._onScrolling(null);else{var o=e.content.getComponent(cc.Layout);if(o&&(o.enabled=!0),e._delRedundantItem(),e.firstListId=0,e.frameByFrameRenderNum>0){for(var n=e.frameByFrameRenderNum>e._numItems?e._numItems:e.frameByFrameRenderNum,i=0;i<n;i++)e._createOrUpdateItem2(i);e.frameByFrameRenderNum<e._numItems&&(e._updateCounter=e.frameByFrameRenderNum,e._updateDone=!1)}else{for(i=0;i<t;i++)e._createOrUpdateItem2(i);e.actualNumItems=t}}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollView",{get:function(){return this._scrollView},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._init()},e.prototype.start=function(){this._init()},e.prototype.onEnable=function(){this._registerEvent(),this._init()},e.prototype.onDisable=function(){this._unregisterEvent()},e.prototype._registerEvent=function(){var t=this;t.node.on("touch-up",t._onScrollTouchUp,t),t.node.on("scroll-began",t._onScrollBegan,t,!0),t.node.on("scroll-ended",t._onScrollEnded,t,!0),t.node.on("scrolling",t._onScrolling,t,!0)},e.prototype._unregisterEvent=function(){var t=this;t.node.off("touch-up",t._onScrollTouchUp,t),t.node.off("scroll-began",t._onScrollBegan,t,!0),t.node.off("scroll-ended",t._onScrollEnded,t,!0),t.node.off("scrolling",t._onScrolling,t,!0)},e.prototype._init=function(){var t=this;if(!t._inited)if(t._scrollView=t.node.getComponent(cc.ScrollView),t._scrollView)if(t.content=t._scrollView.content,t.content){switch(t._layout=t.content.getComponent(cc.Layout),t._align=t._layout.type,t._resizeMode=t._layout.resizeMode,t._startAxis=t._layout.startAxis,t._topGap=t._layout.paddingTop,t._rightGap=t._layout.paddingRight,t._bottomGap=t._layout.paddingBottom,t._leftGap=t._layout.paddingLeft,t._columnGap=t._layout.spacingX,t._lineGap=t._layout.spacingY,t._colLineNum,t._verticalDir=t._layout.verticalDirection,t._horizontalDir=t._layout.horizontalDirection,t.setTemplateItem(t.templateType==s.PREFAB?t.tmpPrefab.data:t.tmpNode),t._slideMode!=c.ADHERING&&t._slideMode!=c.PAGE||(t._scrollView.inertia=!1),t.virtual||(t.lackCenter=!1),t._lastDisplayData=[],t.displayData=[],t._pool=new cc.NodePool,t._forceUpdate=!1,t._updateCounter=0,t._updateDone=!0,t._align){case cc.Layout.Type.HORIZONTAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}break;case cc.Layout.Type.VERTICAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.Type.GRID:switch(t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.AxisDirection.VERTICAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}}}t.content.removeAllChildren(),t._inited=!0}else cc.error(t.node.name+"'s cc.ScrollView unset content!");else cc.error(t.node.name+" no assembly cc.ScrollView!")},e.prototype.setTemplateItem=function(t){if(t){var e=this;switch(e._itemTmp=t,e._resizeMode==cc.Layout.ResizeMode.CHILDREN?e._itemSize=e._layout.cellSize:e._itemSize=cc.size(e._itemTmp.width,e._itemTmp.height),e.selectedMode==a.MULT&&(e.multSelected=[]),e._align){case cc.Layout.Type.HORIZONTAL:e._colLineNum=1,e._sizeType=!1;break;case cc.Layout.Type.VERTICAL:e._colLineNum=1,e._sizeType=!0;break;case cc.Layout.Type.GRID:switch(e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var o=e.content.width-e._leftGap-e._rightGap;for(e._colLineNum=1;;){if(o-(e._colLineNum*e._itemSize.width+(e._colLineNum-1)*e._columnGap)<0){e._colLineNum--;break}e._colLineNum++}e._sizeType=!0;break;case cc.Layout.AxisDirection.VERTICAL:var n=e.content.height-e._topGap-e._bottomGap;for(e._colLineNum=1;;){if(n-(e._colLineNum*e._itemSize.height+(e._colLineNum-1)*e._lineGap)<0){e._colLineNum--;break}e._colLineNum++}e._sizeType=!1}}}},e.prototype.checkInited=function(t){var e=t||!0;return!!this._inited||(e&&cc.error("List initialization not completed!"),!1)},e.prototype._resizeContent=function(){var t,e=this;switch(e._align){case cc.Layout.Type.HORIZONTAL:if(e.customSize){var o=e._getFixedSize(null);t=e._leftGap+o.val+e._itemSize.width*(e._numItems-o.count)+e._columnGap*(e._numItems-1)+e._rightGap}else t=e._leftGap+e._itemSize.width*e._numItems+e._columnGap*(e._numItems-1)+e._rightGap;break;case cc.Layout.Type.VERTICAL:e.customSize?(o=e._getFixedSize(null),t=e._topGap+o.val+e._itemSize.height*(e._numItems-o.count)+e._lineGap*(e._numItems-1)+e._bottomGap):t=e._topGap+e._itemSize.height*e._numItems+e._lineGap*(e._numItems-1)+e._bottomGap;break;case cc.Layout.Type.GRID:switch(e.lackCenter&&(e.lackCenter=!1),e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var n=Math.ceil(e._numItems/e._colLineNum);t=e._topGap+e._itemSize.height*n+e._lineGap*(n-1)+e._bottomGap;break;case cc.Layout.AxisDirection.VERTICAL:var i=Math.ceil(e._numItems/e._colLineNum);t=e._leftGap+e._itemSize.width*i+e._columnGap*(i-1)+e._rightGap}}var r,s=e.content.getComponent(cc.Layout);s&&(s.enabled=!1),e._allItemSize=t,e._sizeType?((r=t<e.node.height?e.node.height-.1:t)<0&&(r=0),e._lackSize=e.lackCenter?r:null,e._allItemSizeNoBorder=e._allItemSize-e._topGap-e._bottomGap,e.content.height=r):((r=t<e.node.width?e.node.width-.1:t)<0&&(r=0),e._lackSize=e.lackCenter?r:null,e._allItemSizeNoBorder=e._allItemSize-e._leftGap-e._rightGap,e.content.width=r)},e.prototype._onScrolling=function(t){if(null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&t&&"scroll-ended"!=t.type&&this.frameCount>0)this.frameCount--;else if(this.frameCount=this._updateRate,!this._aniDelRuning&&(this._calcViewPos(),this._virtual)){this.displayData=[];var e=void 0,o=0,n=this._numItems-1;if(this.customSize)for(var i=!1;o<=n&&!i;o++)switch(e=this._calcItemPos(o),this._align){case cc.Layout.Type.HORIZONTAL:e.right>=this.viewLeft&&e.left<=this.viewRight?this.displayData.push(e):0!=o&&this.displayData.length>0&&(i=!0);break;case cc.Layout.Type.VERTICAL:e.bottom<=this.viewTop&&e.top>=this.viewBottom?this.displayData.push(e):0!=o&&this.displayData.length>0&&(i=!0);break;case cc.Layout.Type.GRID:switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:e.bottom<=this.viewTop&&e.top>=this.viewBottom?this.displayData.push(e):0!=o&&this.displayData.length>0&&(i=!0);break;case cc.Layout.AxisDirection.VERTICAL:e.right>=this.viewLeft&&e.left<=this.viewRight?this.displayData.push(e):0!=o&&this.displayData.length>0&&(i=!0)}}else{var r=this._itemSize.width+this._columnGap,s=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:o=(this.viewLeft+this._leftGap)/r,n=(this.viewRight+this._rightGap)/r;break;case 2:o=(-this.viewRight-this._rightGap)/r,n=(-this.viewLeft-this._leftGap)/r;break;case 3:o=(-this.viewTop-this._topGap)/s,n=(-this.viewBottom-this._bottomGap)/s;break;case 4:o=(this.viewBottom+this._bottomGap)/s,n=(this.viewTop+this._topGap)/s}for(o=Math.floor(o)*this._colLineNum,n=Math.ceil(n)*this._colLineNum,o<0&&(o=0),--n>=this._numItems&&(n=this._numItems-1);o<=n;o++)this.displayData.push(this._calcItemPos(o))}if(this.displayData.length<=0||!this._numItems)return void this._delRedundantItem();this.firstListId=this.displayData[0].id,this.actualNumItems=this.displayData.length;var c=this._lastDisplayData.length;if(this._forceUpdate||this.actualNumItems!=c||this.firstListId!=this._lastDisplayData[0]||this.displayData[this.actualNumItems-1].id!=this._lastDisplayData[c-1])if(this._lastDisplayData=[],this.frameByFrameRenderNum>0)this._numItems>0?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._delRedundantItem(),this._updateCounter=0,this._updateDone=!0);else{for(var a=0;a<this.actualNumItems;a++)this._createOrUpdateItem(this.displayData[a]);this._delRedundantItem(),this._forceUpdate=!1}this._calcNearestItem()}},e.prototype._calcViewPos=function(){var t=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=t.x>0?t.x:0,this.viewLeft=(t.x<0?-t.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this.node.width,this.elasticRight=this.viewRight>this.content.width?Math.abs(this.viewRight-this.content.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=t.x<0?-t.x:0,this.viewRight=(t.x>0?-t.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this.node.width,this.elasticLeft=this.viewLeft<-this.content.width?Math.abs(this.viewLeft+this.content.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=t.y<0?Math.abs(t.y):0,this.viewTop=(t.y>0?-t.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this.node.height,this.elasticBottom=this.viewBottom<-this.content.height?Math.abs(this.viewBottom+this.content.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=t.y>0?Math.abs(t.y):0,this.viewBottom=(t.y<0?-t.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this.node.height,this.elasticTop=this.viewTop>this.content.height?Math.abs(this.viewTop-this.content.height):0,this.viewTop-=this.elasticTop}},e.prototype._calcItemPos=function(t){var e,o,n,i,r,s,c,a;switch(this._align){case cc.Layout.Type.HORIZONTAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:if(this.customSize){var l=this._getFixedSize(t);r=this._leftGap+(this._itemSize.width+this._columnGap)*(t-l.count)+(l.val+this._columnGap*l.count),e=(u=this.customSize[t])>0?u:this._itemSize.width}else r=this._leftGap+(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;return s=r+e,this.lackCenter&&this._lackSize>=0&&(r+=h=this.content.width/2-this._allItemSizeNoBorder/2,s+=h),{id:t,left:r,right:s,x:r+this._itemTmp.anchorX*e,y:this._itemTmp.y};case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:return this.customSize?(l=this._getFixedSize(t),s=-this._rightGap-(this._itemSize.width+this._columnGap)*(t-l.count)-(l.val+this._columnGap*l.count),e=(u=this.customSize[t])>0?u:this._itemSize.width):(s=-this._rightGap-(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width),r=s-e,this.lackCenter&&this._lackSize>=0&&(r-=h=this.content.width/2-this._allItemSizeNoBorder/2,s-=h),{id:t,right:s,left:r,x:r+this._itemTmp.anchorX*e,y:this._itemTmp.y}}break;case cc.Layout.Type.VERTICAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:return this.customSize?(l=this._getFixedSize(t),n=-this._topGap-(this._itemSize.height+this._lineGap)*(t-l.count)-(l.val+this._lineGap*l.count),o=(u=this.customSize[t])>0?u:this._itemSize.height):(n=-this._topGap-(this._itemSize.height+this._lineGap)*t,o=this._itemSize.height),i=n-o,this.lackCenter&&this._lackSize>=0&&(n-=h=this.content.height/2-this._allItemSizeNoBorder/2,i-=h),{id:t,top:n,bottom:i,x:this._itemTmp.x,y:i+this._itemTmp.anchorY*o};case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:var u,h;if(this.customSize)l=this._getFixedSize(t),i=this._bottomGap+(this._itemSize.height+this._lineGap)*(t-l.count)+(l.val+this._lineGap*l.count),o=(u=this.customSize[t])>0?u:this._itemSize.height;else i=this._bottomGap+(this._itemSize.height+this._lineGap)*t,o=this._itemSize.height;return n=i+o,this.lackCenter&&this._lackSize>=0&&(n+=h=this.content.height/2-this._allItemSizeNoBorder/2,i+=h),{id:t,top:n,bottom:i,x:this._itemTmp.x,y:i+this._itemTmp.anchorY*o}}case cc.Layout.Type.GRID:var p=Math.floor(t/this._colLineNum);switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:a=(i=(n=-this._topGap-(this._itemSize.height+this._lineGap)*p)-this._itemSize.height)+this._itemTmp.anchorY*this._itemSize.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:n=(i=this._bottomGap+(this._itemSize.height+this._lineGap)*p)+this._itemSize.height,a=i+this._itemTmp.anchorY*this._itemSize.height}switch(c=this._leftGap+t%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:c+=this._itemTmp.anchorX*this._itemSize.width,c-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:c+=(1-this._itemTmp.anchorX)*this._itemSize.width,c-=(1-this.content.anchorX)*this.content.width,c*=-1}return{id:t,top:n,bottom:i,x:c,y:a};case cc.Layout.AxisDirection.VERTICAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:s=(r=this._leftGap+(this._itemSize.width+this._columnGap)*p)+this._itemSize.width,c=r+this._itemTmp.anchorX*this._itemSize.width,c-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:c=(r=(s=-this._rightGap-(this._itemSize.width+this._columnGap)*p)-this._itemSize.width)+this._itemTmp.anchorX*this._itemSize.width,c+=(1-this.content.anchorX)*this.content.width}switch(a=-this._topGap-t%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:a-=(1-this._itemTmp.anchorY)*this._itemSize.height,a+=(1-this.content.anchorY)*this.content.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:a-=this._itemTmp.anchorY*this._itemSize.height,a+=this.content.anchorY*this.content.height,a*=-1}return{id:t,left:r,right:s,x:c,y:a}}}},e.prototype._getFixedSize=function(t){if(!this.customSize)return null;null==t&&(t=this._numItems);var e=0,o=0;for(var n in this.customSize)parseInt(n)<t&&(e+=this.customSize[n],o++);return{val:e,count:o}},e.prototype._onScrollBegan=function(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft},e.prototype._onScrollEnded=function(){var t=this;if(null!=t.scrollToListId){var e=t.getItemByListId(t.scrollToListId);t.scrollToListId=null,e&&e.runAction(cc.sequence(cc.scaleTo(.1,1.06),cc.scaleTo(.1,1)))}t._onScrolling(null),t._slideMode!=c.ADHERING||t.adhering?t._slideMode==c.PAGE&&(null!=t._beganPos?this._pageAdhere():t.adhere()):t.adhere()},e.prototype._onScrollTouchUp=function(){var t=this;t._scrollPos=null,t._slideMode==c.ADHERING?(this.adhering&&(this._adheringBarrier=!0),t.adhere()):t._slideMode==c.PAGE&&(null!=t._beganPos?this._pageAdhere():t.adhere())},e.prototype._pageAdhere=function(){var t=this;if(!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){var e=t._sizeType?t.viewTop:t.viewLeft,o=(t._sizeType?t.node.height:t.node.width)*t.pageDistance;if(Math.abs(t._beganPos-e)>o)switch(t._alignCalcType){case 1:case 4:t._beganPos>e?t.prePage(.5):t.nextPage(.5);break;case 2:case 3:t._beganPos<e?t.prePage(.5):t.nextPage(.5)}else t.elasticTop<=0&&t.elasticRight<=0&&t.elasticBottom<=0&&t.elasticLeft<=0&&t.adhere();t._beganPos=null}},e.prototype.adhere=function(){var t=this;if(!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){t.adhering=!0,t._calcNearestItem();var e=(t._sizeType?t._topGap:t._leftGap)/(t._sizeType?t.node.height:t.node.width);t.scrollTo(t.nearestListId,.7,e)}},e.prototype.update=function(){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){for(var t=this._updateCounter+this.frameByFrameRenderNum>this.actualNumItems?this.actualNumItems:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++){var o=this.displayData[e];o&&this._createOrUpdateItem(o)}this._updateCounter>=this.actualNumItems-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._scrollView.isScrolling()||(this._doneAfterUpdate=!1)):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem()):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){for(t=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++)this._createOrUpdateItem2(e);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem()},e.prototype._createOrUpdateItem=function(t){var e,o=this.getItemByListId(t.id);o?this._forceUpdate&&this.renderEvent&&(o.setPosition(cc.v2(t.x,t.y)),this._resetItemSize(o),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],o,t.id)):((o=this._pool.size()?this._pool.get():cc.instantiate(this._itemTmp)).setPosition(cc.v2(t.x,t.y)),this._resetItemSize(o),this.content.addChild(o),o.setSiblingIndex(this.content.childrenCount-1),(e=o.getComponent(y.default)).listId=t.id,e.list=this,e._registerEvent(),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],o,t.id)),this._resetItemSize(o),this._updateListItem(e),this._lastDisplayData.indexOf(t.id)<0&&this._lastDisplayData.push(t.id)},e.prototype._createOrUpdateItem2=function(t){var e,o=this.content.children[t];o?this._forceUpdate&&this.renderEvent&&((e=o.getComponent(y.default)).listId=t,this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],o,t)):(o=cc.instantiate(this._itemTmp),this.content.addChild(o),(e=o.getComponent(y.default)).listId=t,e.list=this,e._registerEvent(),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],o,t)),this._updateListItem(e),this._lastDisplayData.indexOf(t)<0&&this._lastDisplayData.push(t)},e.prototype._updateListItem=function(t){if(t&&this.selectedMode>a.NONE)switch(this.selectedMode){case a.SINGLE:t.selected=this.selectedId==t.listId;break;case a.MULT:t.selected=this.multSelected.indexOf(t.listId)>=0}},e.prototype._resetItemSize=function(t){var e=t.getComponent(y.default);if(this.customSize&&this.customSize[e.listId]){var o=this.customSize[e.listId];this._align==cc.Layout.Type.HORIZONTAL?t.width=o:this._align==cc.Layout.Type.VERTICAL&&(t.height=o)}else t.setContentSize(this._itemSize)},e.prototype.setMultSelected=function(t,e){var o=this;if(Array.isArray(t)||(t=[t]),null==e)o.multSelected=null,o.multSelected=t;else{var n=void 0,i=void 0;if(e)for(var r=t.length-1;r>=0;r--)n=t[r],(i=o.multSelected.indexOf(n))<0&&o.multSelected.push(n);else for(r=t.length-1;r>=0;r--)n=t[r],(i=o.multSelected.indexOf(n))>=0&&o.multSelected.splice(i,1)}o._forceUpdate=!0,o._onScrolling(null)},e.prototype.updateAppointed=function(t){Array.isArray(t)||(t=[t]);for(var e=t.length,o=0;o<e;o++){var n=t[o],i=this.getItemByListId(n);i&&cc.Component.EventHandler.emitEvents([this.renderEvent],i,n)}},e.prototype.getItemByListId=function(t){for(var e=this.content.childrenCount-1;e>=0;e--)if(this.content.children[e].getComponent(y.default).listId==t)return this.content.children[e];return null},e.prototype._getOutsideItem=function(){for(var t,e,o=[],n=this.content.childrenCount-1;n>=0;n--){if(t=this.content.children[n],e=!0)for(var i=this.actualNumItems-1;i>=0;i--)if(this.displayData[i]){var r=this.displayData[i].id;if(t.getComponent(y.default).listId==r){e=!1;break}}e&&o.push(t)}return o},e.prototype._delRedundantItem=function(){if(this._virtual)for(var t=this._getOutsideItem(),e=t.length-1;e>=0;e--)this._pool.put(t[e]);else for(;this.content.childrenCount>this._numItems;)this._delSingleItem(this.content.children[this.content.childrenCount-1])},e.prototype._delSingleItem=function(t){t.removeFromParent(),t.destroy&&t.destroy(),t=null},e.prototype.aniDelItem=function(t,e,o){var n,i=this,r=i.getItemByListId(t);if(!i._aniDelRuning&&i._virtual)if(r){n=r.getComponent(y.default),i._aniDelRuning=!0;var s=i.displayData[i.displayData.length-1].id,c=n.selected;n.showAni(o,function(){var o,n,l;if(s<i._numItems-2&&(o=s+1),null!=o){var u=i._calcItemPos(o);i.displayData.push(u),i._virtual?i._createOrUpdateItem(u):i._createOrUpdateItem2(o)}else i._numItems--;if(i.selectedMode==a.SINGLE)c?i._selectedId=-1:i._selectedId-1>=0&&i._selectedId--;else if(i.selectedMode==a.MULT&&i.multSelected.length){var h=i.multSelected.indexOf(t);h>=0&&i.multSelected.splice(h,1);for(var p=i.multSelected.length-1;p>=0;p--)(y=i.multSelected[p])>=t&&i.multSelected[p]--}if(i.customSize){i.customSize[t]&&delete i.customSize[t];var d={},f=void 0;for(var y in i.customSize){f=i.customSize[y];var m=parseInt(y);d[m-(m>=t?1:0)]=f}i.customSize=d}for(p=null!=o?o:s;p>=t+1;p--)if(r=i.getItemByListId(p)){var _=i._calcItemPos(p-1);n=[cc.moveTo(.2333,cc.v2(_.x,_.y))],p<=t+1&&(l=!0,n.push(cc.callFunc(function(){i._aniDelRuning=!1,e(t)}))),n.length>1?r.runAction(cc.sequence(n)):r.runAction(n[0])}l||(i._aniDelRuning=!1,e(t))},!0)}else e(t)},e.prototype.scrollTo=function(t,e,o,n){void 0===e&&(e=.5),void 0===o&&(o=null),void 0===n&&(n=!1);var i=this;if(i.checkInited(!1)){i._scrollView.stopAutoScroll(),null==e?e=.5:e<0&&(e=0),t<0?t=0:t>=i._numItems&&(t=i._numItems-1);var r,s,c=i._calcItemPos(t);switch(i._alignCalcType){case 1:r=c.left,r-=null!=o?i.node.width*o:i._leftGap,c=cc.v2(r,0);break;case 2:r=c.right-i.node.width,r+=null!=o?i.node.width*o:i._rightGap,c=cc.v2(r+i.content.width,0);break;case 3:s=c.top,s+=null!=o?i.node.height*o:i._topGap,c=cc.v2(0,-s);break;case 4:s=c.bottom+i.node.height,s-=null!=o?i.node.height*o:i._bottomGap,c=cc.v2(0,-s+i.content.height)}var a=i.content.getPosition();a=Math.abs(i._sizeType?a.y:a.x);var l=i._sizeType?c.y:c.x,u=Math.abs((null!=i._scrollPos?i._scrollPos:a)-l)>.5;i._scrollView.stopAutoScroll(),u&&(i._scrollView.scrollToOffset(c,e),i.scheduleOnce(function(){if(i._adheringBarrier||(i.adhering=i._adheringBarrier=!1),n){var e=i.getItemByListId(t);e&&e.runAction(cc.sequence(cc.scaleTo(.1,1.05),cc.scaleTo(.1,1)))}},e+.1),e<=0&&i._onScrolling(null))}},e.prototype._calcNearestItem=function(){var t,e;this.nearestListId=null,this._virtual&&this._calcViewPos();for(var o=!1,n=0;n<this.content.childrenCount&&!o;n+=this._colLineNum)switch(t=this._virtual?this.displayData[n]:this._calcExistItemPos(n),e=this._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,this._alignCalcType){case 1:t.right>=this.viewLeft&&(this.nearestListId=t.id,this.viewLeft>e&&(this.nearestListId+=this._colLineNum),o=!0);break;case 2:t.left<=this.viewRight&&(this.nearestListId=t.id,this.viewRight<e&&(this.nearestListId+=this._colLineNum),o=!0);break;case 3:t.bottom<=this.viewTop&&(this.nearestListId=t.id,this.viewTop<e&&(this.nearestListId+=this._colLineNum),o=!0);break;case 4:t.top>=this.viewBottom&&(this.nearestListId=t.id,this.viewBottom>e&&(this.nearestListId+=this._colLineNum),o=!0)}if((t=this._virtual?this.displayData[this.actualNumItems-1]:this._calcExistItemPos(this._numItems-1))&&t.id==this._numItems-1)switch(e=this._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,this._alignCalcType){case 1:this.viewRight>e&&(this.nearestListId=t.id);break;case 2:this.viewLeft<e&&(this.nearestListId=t.id);break;case 3:this.viewBottom<e&&(this.nearestListId=t.id);break;case 4:this.viewTop>e&&(this.nearestListId=t.id)}},e.prototype._calcExistItemPos=function(t){var e=this.getItemByListId(t);if(!e)return null;var o={id:t,x:e.x,y:e.y};return this._sizeType?(o.top=e.y+e.height*(1-e.anchorY),o.bottom=e.y-e.height*e.anchorY):(o.left=e.x-e.width*e.anchorX,o.right=e.x+e.width*(1-e.anchorX)),o},e.prototype.prePage=function(t){void 0===t&&(t=.5),this.skipPage(this.curPageNum-1,t)},e.prototype.nextPage=function(t){void 0===t&&(t=.5),this.skipPage(this.curPageNum+1,t)},e.prototype.skipPage=function(t,e){var o=this;if(o._slideMode!=c.PAGE)return cc.error("This function is not allowed to be called, Must SlideMode = PAGE!");t<0||t>=o._numItems||o.curPageNum!=t&&(o.curPageNum=t,o.pageChangeEvent&&cc.Component.EventHandler.emitEvents([o.pageChangeEvent],t),o.scrollTo(t,e))},e.prototype.calcCustomSize=function(t){var e=this;if(!e._itemTmp)return cc.error("Unset template item!");if(!e.renderEvent)return cc.error("Unset Render-Event!");e.customSize={};var o=cc.instantiate(e._itemTmp);e.content.addChild(o);for(var n=0;n<t;n++)cc.Component.EventHandler.emitEvents([e.renderEvent],o,n),o.height==e._itemSize.height&&o.width==e._itemSize.width||(e.customSize[n]=e._sizeType?o.height:o.width);return Object.keys(e.customSize).length||(e.customSize=null),o.removeFromParent(),o.destroy&&o.destroy(),e.customSize},r([h({type:cc.Enum(s),tooltip:!1})],e.prototype,"templateType",void 0),r([h({type:cc.Node,tooltip:!1,visible:function(){return this.templateType==s.NODE}})],e.prototype,"tmpNode",void 0),r([h({type:cc.Prefab,tooltip:!1,visible:function(){return this.templateType==s.PREFAB}})],e.prototype,"tmpPrefab",void 0),r([h()],e.prototype,"_slideMode",void 0),r([h({type:cc.Enum(c),tooltip:!1})],e.prototype,"slideModel",null),r([h({type:cc.Float,range:[0,1,.1],tooltip:!1,slide:!0,visible:function(){return this._slideMode==c.PAGE}})],e.prototype,"pageDistance",void 0),r([h({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this._slideMode==c.PAGE}})],e.prototype,"pageChangeEvent",void 0),r([h()],e.prototype,"_virtual",void 0),r([h({type:cc.Boolean,tooltip:!1})],e.prototype,"virtual",null),r([h({tooltip:!1,visible:function(){return this.virtual}})],e.prototype,"lackCenter",void 0),r([h({type:cc.Integer})],e.prototype,"_updateRate",void 0),r([h({type:cc.Integer,range:[0,6,1],tooltip:!1,slide:!0})],e.prototype,"updateRate",null),r([h({type:cc.Integer,range:[0,12,1],tooltip:!1,slide:!0})],e.prototype,"frameByFrameRenderNum",void 0),r([h({type:cc.Component.EventHandler,tooltip:!1})],e.prototype,"renderEvent",void 0),r([h({type:cc.Enum(a),tooltip:!1})],e.prototype,"selectedMode",void 0),r([h({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this.selectedMode>a.NONE}})],e.prototype,"selectedEvent",void 0),r([h({serializable:!1})],e.prototype,"_numItems",void 0),r([u,p(),d("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List"),f(-5e3)],e)}(cc.Component);o.default=m,cc._RF.pop()},{"./ListItem":"ListItem"}],LoadingWin:[function(t,e,o){"use strict";cc._RF.push(e,"daa8bDgoEJAJr1iBPo++VNp","LoadingWin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/common/GameConst"),c=t("../../ccstudio/component/BasePanel"),a=t("../../ccstudio/config/Config"),l=t("../../ccstudio/Core"),u=t("../../ccstudio/data/Model"),h=cc._decorator,p=h.ccclass,d=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.count=2,e.total=2,e}return i(e,t),e.prototype.start=function(){this.node_progress.scaleX=0,1==u.default.game.guide?(this.loadSubpackage("texture",this.loadcomplete.bind(this)),this.loadSubpackage("prefabs",this.loadcomplete.bind(this)),this.loadSubpackage("sounds",null),this.count=this.total=2):(this.loadSubpackage("texture",this.loadcomplete.bind(this)),this.loadSubpackage("prefabs",this.loadcomplete.bind(this)),this.loadSubpackage("sounds",null),this.count=this.total=3)},e.prototype.loadcomplete=function(){var t=this;this.count--,cc.Tween.stopAllByTarget(this.node_progress);var e=Math.min(1,(this.total-this.count)/this.total);cc.tween(this.node_progress).to(.5,{scaleX:e}).call(function(){t.count>0||a.default.load(function(){u.default.loadData(),l.Core.pool.init(function(){l.Core.win.open(s.default.winPath.GameWin,null,!0)})})}).start()},e.prototype.loadSubpackage=function(t,e){cc.assetManager.loadBundle(t,function(){e&&e()})},r([p],e)}(c.default));o.default=d,cc._RF.pop()},{"../../ccstudio/Core":"Core","../../ccstudio/common/GameConst":"GameConst","../../ccstudio/component/BasePanel":"BasePanel","../../ccstudio/config/Config":"Config","../../ccstudio/data/Model":"Model"}],LongTouchComponent:[function(t,e,o){"use strict";cc._RF.push(e,"514d9juoBpLZKrQNVCHKgb4","LongTouchComponent");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.touchInterval=.1,e.enableMultiTouching=!1,e.longTouchEvents=[],e._touchCounter=0,e._isTouching=!1,e}return i(e,t),e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_START,this._onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancel,this)},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this._onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancel,this),this.unschedule(this._touchCounterCallback)},e.prototype.clear=function(){this._isTouching=!1,this.unschedule(this._touchCounterCallback)},e.prototype._onTouchStart=function(t){var e=this;if(!this.enableMultiTouching){if(this._isTouching)return;this.node.getBoundingBoxToWorld().contains(t.getLocation())?this._isTouching=!0:this._isTouching=!1,this._isTouching&&(this.publishOneTouch(),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){e._isTouching&&(e.unschedule(e._touchCounterCallback),e.schedule(e._touchCounterCallback,e.touchInterval))}))))}},e.prototype._onTouchEnd=function(){this._isTouching=!1,this._touchCounter=0,this.unschedule(this._touchCounterCallback)},e.prototype._onTouchCancel=function(){this._isTouching=!1,this._touchCounter=0,this.unschedule(this._touchCounterCallback)},e.prototype._touchCounterCallback=function(){this._isTouching?this.publishOneTouch():this.unschedule(this._touchCounterCallback)},e.prototype.publishOneTouch=function(){var t=this;this._isTouching&&(this.node.runAction(cc.sequence(cc.scaleTo(this.touchInterval/2,.8),cc.scaleTo(this.touchInterval/2,1))),this._touchCounter++,this.longTouchEvents.forEach(function(e){e.emit([t.node])}))},r([a({tooltip:"\u89e6\u6478\u56de\u8c03\u95f4\u9694\uff08\u79d2\uff09\u3002\u5047\u5982\u4e3a0.1\uff0c\u90a3\u4e481\u79d2\u5185\u4f1a\u56de\u8c0310\u6b21 ${longTouchEvents} \u4e8b\u4ef6\u6570\u7ec4"})],e.prototype,"touchInterval",void 0),r([a({readonly:!0,tooltip:"\u662f\u5426\u652f\u6301\u591a\u70b9\u89e6\u63a7\uff08\u5f53\u524d\u8fd8\u4e0d\u652f\u6301\uff09"})],e.prototype,"enableMultiTouching",void 0),r([a({type:[cc.Component.EventHandler],tooltip:"\u56de\u8c03\u4e8b\u4ef6\u6570\u7ec4\uff0c\u6bcf\u95f4\u9694 ${toucheInterval}s \u56de\u8c03\u4e00\u6b21"})],e.prototype,"longTouchEvents",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],LoseWin:[function(t,e,o){"use strict";cc._RF.push(e,"271c56CKTZEwaTu6rUHZ0dq","LoseWin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/component/BasePanel"),c=t("../../ccstudio/Core"),a=t("../../ccstudio/manager/WXTTUtils"),l=cc._decorator,u=l.ccclass,h=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){a.default.showInterstitialAd(),this.node_ui.x=600,cc.tween(this.node_ui).to(.25,{x:0},{easing:"backOut"}).start(),c.Core.soundManager.playSFX("failed")},e.prototype.click_buy=function(){},e.prototype.click_video=function(){var t=this;a.default.showVideo(function(e){0==e&&(t.data.callback(1),t.close())})},e.prototype.click_restart=function(){this.data.callback(0),this.close()},e.prototype.onBtnClicked=function(t,e){switch(c.Core.soundManager.playSFX("clickbtn"),e){case"btn_video":this.click_video();break;case"btn_retry":this.click_restart()}},r([u],e)}(s.default));o.default=h,cc._RF.pop()},{"../../ccstudio/Core":"Core","../../ccstudio/component/BasePanel":"BasePanel","../../ccstudio/manager/WXTTUtils":"WXTTUtils"}],MenuWin:[function(t,e,o){"use strict";cc._RF.push(e,"6d05dOthMlDp57BBfEryW6L","MenuWin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/common/GameConst"),c=t("../../ccstudio/component/BasePanel"),a=t("../../ccstudio/Core"),l=cc._decorator,u=l.ccclass,h=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},e.prototype.click_play=function(){a.Core.win.open(s.default.winPath.GameWin,null,!0)},e.prototype.click_challenge=function(){a.Core.win.open(s.default.winPath.DailyChallengeWin)},r([h(cc.Label)],e.prototype,"label",void 0),r([h],e.prototype,"text",void 0),r([u],e)}(c.default);o.default=p,cc._RF.pop()},{"../../ccstudio/Core":"Core","../../ccstudio/common/GameConst":"GameConst","../../ccstudio/component/BasePanel":"BasePanel"}],ModelBase:[function(t,e,o){"use strict";cc._RF.push(e,"03c53y3PGJEYLnUg9XjV4aZ","ModelBase"),Object.defineProperty(o,"__esModule",{value:!0}),o.save=void 0,o.save=function(t,e){var o=n.classMap.get(t.constructor);void 0===o&&(o=[],n.classMap.set(t.constructor,o)),o.push(e)};var n=function(){function t(){}return t.prototype.getData=function(){for(var e={},o=t.classMap.get(this.constructor),n=0;n<o.length;++n)e[o[n]]=this[o[n]];return e},t.prototype.setData=function(e){if(e)for(var o=t.classMap.get(this.constructor),n=0;n<o.length;++n){var i=e[o[n]];if(null!=i||null!=i)if("[object Object]"==Object.prototype.toString.call(i))for(var r in i)this[o[n]][r]=i[r];else this[o[n]]=i}},t.classMap=new Map,t}();o.default=n,cc._RF.pop()},{}],Model:[function(t,e,o){"use strict";cc._RF.push(e,"f5deeTYQSFOLJ9zqKiEa8Fi","Model"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../modules/common/AdsController"),i=t("../utils/AudioMgr"),r=t("./GameModel"),s=function(){function t(){}return t.save=function(e){void 0===e&&(e=!1);var o={};o.game=t.game.getData(),t.savedata(o,e)},t.getGameData=function(){return n.default.getPlayerData("playerstate")},t.loadData=function(){var e=n.default.getPlayerData("playerstate");e?(e=JSON.parse(e),console.log("\u672c\u5730\u6570\u636e",e),t.game.setData(e.game),t.setDefaultVolume()):(t.setDefaultVolume(),t.game.setDefault(),console.log("DEFAULT"))},t.setDefaultVolume=function(){cc.sys.localStorage.setItem("bgmVolume",i.default.DEFAULT_VOLUME),cc.sys.localStorage.setItem("sfxVolume",i.default.DEFAULT_VOLUME),i.default.Instance().sfxVolume=i.default.DEFAULT_VOLUME,i.default.Instance().bgmVolume=i.default.DEFAULT_VOLUME},t.savedata=function(t,e){void 0===e&&(e=!1);var o=JSON.stringify(t);n.default.setPlayerData("playerstate",o),t.game={}},t.game=new r.default,t}();o.default=s,cc._RF.pop()},{"../../modules/common/AdsController":"AdsController","../utils/AudioMgr":"AudioMgr","./GameModel":"GameModel"}],MsgBox:[function(t,e,o){"use strict";cc._RF.push(e,"b0102An76xOWKehJ7nB4wMl","MsgBox");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},s=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function s(t){try{a(n.next(t))}catch(e){r(e)}}function c(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(s,c)}a((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../utils/Utils"),l=t("../utils/AudioMgr"),u=t("./BaseUI"),h=cc._decorator,p=h.ccclass,d=(h.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return i(e,t),o=e,e.init=function(){null==o._instance&&cc.director.getScene().getChildByName("Canvas").addComponent("MsgBox")},e.findMsgBoxByName=function(t){return cc.director.getScene().getChildByName("Canvas").getChildByName(t)},e.showOnly=function(t,e,n,i,r){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=!1),void 0===i&&(i=!1),void 0===r&&(r=3),o.findMsgBoxByName(t)||o.show(t,e,n,i,r,null,!1,t)},e.show=function(t,e,n,i,r,l,u,h){return void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=!1),void 0===i&&(i=!1),void 0===r&&(r=3),void 0===l&&(l=null),void 0===u&&(u=!1),void 0===h&&(h=""),s(this,void 0,void 0,function(){var s,p,d,f,y,m;return c(this,function(c){switch(c.label){case 0:return null==o._instance&&cc.director.getScene().getChildByName("Canvas").addComponent("MsgBox"),null==l&&(l="prefab:common/alertWnd"),[4,a.default.loadRes(l,cc.Prefab)];case 1:return s=c.sent(),p=cc.instantiate(s),h&&(p.name=h),p.parent=cc.director.getScene().getChildByName("Canvas"),cc.find("main/bg/tips",p).getComponent(cc.Label).string=t,d=cc.find("btns/btn_ok1",p),f=cc.find("btns/btn_ok2",p),y=cc.find("btns/btn_cancel",p),m=cc.find("main/btn_close",p),d.active=!1,f.active=!1,y.active=!1,m&&(m.active=!1),d.callback=e,f.callback=e,y.callback=e,n?(f.active=!0,y.active=!0):d.active=!0,m&&(m.active=u),a.default.addClickEvent(d,o._instance.node,"MsgBox","onBtnClicked",d),a.default.addClickEvent(f,o._instance.node,"MsgBox","onBtnClicked",f),a.default.addClickEvent(y,o._instance.node,"MsgBox","onBtnClicked",y),m&&a.default.addClickEvent(m,o._instance.node,"MsgBox","onBtnClicked",m),i&&p.runAction(cc.sequence(cc.delayTime(r||2),cc.callFunc(function(){cc.isValid(p)&&(e&&e(o.Status.OK),p.destroy())}))),[2]}})})},e.prototype.onLoad=function(){o._instance=this,cc.resources.load("prefab:common/alertWnd")},e.prototype.onDestroy=function(){o._instance=null},e.prototype.onBtnClicked=function(t,e){l.default.Instance().playSFX("sfx_UI_click"),e.callback&&("btn_ok1"==t.target.name||"btn_ok2"==t.target.name?e.callback(o.Status.OK):e.callback(o.Status.CANCLE)),cc.isValid(e)&&(e.parent.parent.stopAllActions(),e.parent.parent.destroy())},e.Status=cc.Enum({OK:0,CANCLE:1}),e._instance=null,o=r([p],e)}(u.default));o.default=d,cc._RF.pop()},{"../utils/AudioMgr":"AudioMgr","../utils/Utils":"Utils","./BaseUI":"BaseUI"}],MsgHints:[function(t,e,o){"use strict";cc._RF.push(e,"147d9kVQGxGY66KgQWlHrUv","MsgHints");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../utils/Utils"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return i(e,t),o=e,e.prototype.setMsg=function(t){this.node.getComponentInChildren(cc.Label).string=t,this.node.setScale(cc.v3(0,0,0)),cc.tween(this.node).to(.1,{scale:1.1}).to(.1,{scale:.9}).to(.1,{scale:1}).delay(.5).by(.5,{position:cc.v2(0,100)}).removeSelf().start()},e.show=function(t){s.default.loadRes("common/MsgHints","prefabs",cc.Prefab,function(e,n){var i=cc.instantiate(n);i.parent=cc.find("Canvas"),i.y=150,i.getComponent(o).setMsg(t)})},o=r([a],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../utils/Utils":"Utils"}],PassWin:[function(t,e,o){"use strict";cc._RF.push(e,"b9194avLRVAJb5X08SQ/FMX","PassWin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/common/GameConst"),c=t("../../ccstudio/component/BasePanel"),a=t("../../ccstudio/Core"),l=t("../../ccstudio/data/Model"),u=t("../../ccstudio/manager/WXTTUtils"),h=t("../common/AdsController"),p=cc._decorator,d=p.ccclass,f=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){u.default.showInterstitialAd(),this.node_ui.x=600,cc.tween(this.node_ui).to(.25,{x:0},{easing:"backOut"}).start(),a.Core.soundManager.playSFX("victory")},e.prototype.click_next=function(){h.default.showInterstitial(),l.default.game.selectedLevel++,a.Core.win.open(s.default.winPath.GameWin,null,!0),this.data.callback&&this.data.callback(),this.close()},e.prototype.click_home=function(){a.Core.win.open(s.default.winPath.MenuWin,null,!0)},e.prototype.onBtnClicked=function(t,e){switch(a.Core.soundManager.playSFX("clickbtn"),e){case"btn_next":this.click_next();break;case"btn_back":this.click_home()}},r([d],e)}(c.default));o.default=f,cc._RF.pop()},{"../../ccstudio/Core":"Core","../../ccstudio/common/GameConst":"GameConst","../../ccstudio/component/BasePanel":"BasePanel","../../ccstudio/data/Model":"Model","../../ccstudio/manager/WXTTUtils":"WXTTUtils","../common/AdsController":"AdsController"}],PauseWin:[function(t,e,o){"use strict";cc._RF.push(e,"79c3a5es6hGoau/iK9DmLqI","PauseWin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/common/GameConst"),c=t("../../ccstudio/component/BasePanel"),a=t("../../ccstudio/Core"),l=t("../../ccstudio/manager/WXTTUtils"),u=t("../../ccstudio/utils/AudioMgr"),h=cc._decorator,p=h.ccclass,d=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_sound=null,e.btn_vibrate=null,e}return i(e,t),e.prototype.start=function(){this.refreshBtns(),l.default.showInterstitialAd(),this.node_ui.scale=.6,this.node_ui.opacity=0,cc.tween(this.node_ui).to(.25,{scale:1,opacity:255},{easing:"sineOut"}).start()},e.prototype.refreshBtns=function(){},e.prototype.onBtnClicked=function(t,e){switch(a.Core.soundManager.playSFX("clickbtn"),e){case"btn_sound":var o=a.Core.soundManager.sfxVolume;a.Core.soundManager.setBGMVolume(0==o?u.default.DEFAULT_VOLUME:0),a.Core.soundManager.setSFXVolume(0==o?u.default.DEFAULT_VOLUME:0),this.refreshBtns();break;case"btn_vibrate":var n=a.Core.soundManager.vibrate;a.Core.soundManager.setVibrate(0==n?1:0),this.refreshBtns();break;case"btn_restart":a.Core.win.open(s.default.winPath.GameWin),this.close();break;case"btn_level":this.close(),a.Core.win.open(s.default.winPath.CollectionListWin,null,!0);break;case"btn_close":this.close()}},r([p],e)}(c.default));o.default=d,cc._RF.pop()},{"../../ccstudio/Core":"Core","../../ccstudio/common/GameConst":"GameConst","../../ccstudio/component/BasePanel":"BasePanel","../../ccstudio/manager/WXTTUtils":"WXTTUtils","../../ccstudio/utils/AudioMgr":"AudioMgr"}],PoolManager:[function(t,e,o){"use strict";cc._RF.push(e,"1b8d9V5lIJG0YlCK4FGlhfv","PoolManager");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../utils/Utils"),r=cc._decorator,s=r.ccclass,c=(r.property,function(){function t(){this.pools={},this.resKey={}}return t.prototype.init=function(t){var e=this;i.default.loadRes("game/Ball","prefabs",cc.Prefab,function(o,n){e.resKey.Ball=n;for(var i=0;i<100;i++){var r=cc.instantiate(n);e.recover("Ball",r)}t&&t()})},t.prototype.get=function(t){if(null==this.pools[t]&&(this.pools[t]=new cc.NodePool),this.pools[t].size()>0){var e=this.pools[t].get();return e.getComponent(e.name)}var o=cc.instantiate(this.resKey[t]);return o.getComponent(o.name)},t.prototype.recover=function(t,e){null==this.pools[t]&&(this.pools[t]=new cc.NodePool),this.pools[t].put(e)},n([s],t)}());o.default=c,cc._RF.pop()},{"../utils/Utils":"Utils"}],SettingWin:[function(t,e,o){"use strict";cc._RF.push(e,"8a53bRIN/xPoaCaACnZVooQ","SettingWin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/common/GameConst"),c=t("../../ccstudio/component/BasePanel"),a=t("../../ccstudio/Core"),l=t("../../ccstudio/data/Model"),u=t("../../ccstudio/manager/WXTTUtils"),h=t("../../ccstudio/utils/AudioMgr"),p=t("../common/AdsController"),d=t("./SwitchButton"),f=cc._decorator,y=f.ccclass,m=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_sound=null,e.btn_vibrate=null,e}return i(e,t),e.prototype.start=function(){this.refreshBtns(),u.default.showInterstitialAd(),u.default.showBanner(),this.node_ui.scale=.6,this.node_ui.opacity=0,cc.tween(this.node_ui).to(.25,{scale:1,opacity:255},{easing:"sineOut"}).start()},e.prototype.refreshBtns=function(){this.btn_sound.getComponent(d.default).on=0!=a.Core.soundManager.sfxVolume,this.btn_vibrate.getComponent(d.default).on=0!=a.Core.soundManager.vibrate},e.prototype.onBtnClicked=function(t,e){switch(a.Core.soundManager.playSFX("clickbtn"),e){case"btn_sound":var o=a.Core.soundManager.sfxVolume;a.Core.soundManager.setBGMVolume(0==o?h.default.DEFAULT_VOLUME:0),a.Core.soundManager.setSFXVolume(0==o?h.default.DEFAULT_VOLUME:0),this.refreshBtns();break;case"btn_vibrate":var n=a.Core.soundManager.vibrate;a.Core.soundManager.setVibrate(0==n?1:0),this.refreshBtns();break;case"btn_nightmode":l.default.game.nightmode=!l.default.game.nightmode,a.Core.dispather.execute("nightModeChange");break;case"btn_restart":a.Core.win.open(s.default.winPath.GameWin),this.close();break;case"btn_level":this.close(),a.Core.win.open(s.default.winPath.LevelWin);break;case"btn_close":this.close()}},e.prototype.close=function(){l.default.save(),t.prototype.close.call(this),u.default.destroyBanner()},e.prototype.onFriendsButtonClick=function(){p.default.inviteFriends()},r([y],e)}(c.default));o.default=m,cc._RF.pop()},{"../../ccstudio/Core":"Core","../../ccstudio/common/GameConst":"GameConst","../../ccstudio/component/BasePanel":"BasePanel","../../ccstudio/data/Model":"Model","../../ccstudio/manager/WXTTUtils":"WXTTUtils","../../ccstudio/utils/AudioMgr":"AudioMgr","../common/AdsController":"AdsController","./SwitchButton":"SwitchButton"}],Shake:[function(t,e,o){"use strict";cc._RF.push(e,"495e6IO9O5JwJjnOXCd6/hL","Shake");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.Shake=void 0;var s=cc._decorator,c=s.ccclass,a=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._initial_x=0,e._initial_y=0,e._strength_x=0,e._strength_y=0,e}var o;return i(e,t),o=e,e.create=function(t,e,n){var i=new o;return i.initWithDuration(t,e,n),i},e.prototype.initWithDuration=function(t,e,o){return cc.ActionInterval.prototype.initWithDuration.apply(this,arguments),this._strength_x=e,this._strength_y=o,!0},e.prototype.fgRangeRand=function(t,e){return Math.random()*(e-t)+t},e.prototype.update=function(){var t=this.fgRangeRand(-this._strength_x,this._strength_x),e=this.fgRangeRand(-this._strength_y,this._strength_y);this.getTarget().setPosition(t+this._initial_x,e+this._initial_y)},e.prototype.startWithTarget=function(t){cc.ActionInterval.prototype.startWithTarget.apply(this,arguments),this._initial_x=t.x,this._initial_y=t.y},e.prototype.stop=function(){this.getTarget().setPosition(new cc.Vec2(this._initial_x,this._initial_y)),cc.ActionInterval.prototype.stop.apply(this)},o=r([c],e)}(cc.ActionInterval));o.Shake=a,cc._RF.pop()},{}],ShopBallItem:[function(t,e,o){"use strict";cc._RF.push(e,"0bb981HrNZDPZ3jIID9jfWI","ShopBallItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/common/GameConst"),c=t("../../ccstudio/component/BaseUI"),a=t("../../ccstudio/component/MsgHints"),l=t("../../ccstudio/data/Model"),u=t("../../ccstudio/manager/WXTTUtils"),h=t("../../ccstudio/utils/Utils"),p=t("../common/AdsController"),d=cc._decorator,f=d.ccclass,y=(d.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){cc.director.on(s.default.EventType.ChangeBall,this.updateBtns,this)},e.prototype.onDestroy=function(){cc.director.targetOff(this)},e.prototype.updateView=function(t){this.data=t;for(var e="fieldssets/set_"+(1==t.id?"default":t.id-1)+"/field_",o=0,n=0,i=this.node_box.children;n<i.length;n++){var r=i[n].getComponent(cc.Sprite);h.default.setSpriteFrame(r,e+o,"texture"),o++}this.updateBtns()},e.prototype.updateBtns=function(){this.btn_video.node.active=0==l.default.game.checkBallIsUnLock(this.data.id),this.btn_select.node.opacity=l.default.game.curBallType==this.data.id?255:0},e.prototype.onBtnClicked=function(t,e){var o=this;"btn_video"==e?u.default.showVideo(function(t){0==t&&(l.default.game.unLockBall(o.data.id),l.default.save(),o.updateBtns(),p.default.showRewarded())}):"btn_select"==e&&(l.default.game.checkBallIsUnLock(this.data.id)?(l.default.game.curBallType=this.data.id,cc.director.emit(s.default.EventType.ChangeBall,this.data.id),this.updateBtns(),l.default.save()):a.default.show("\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043e\u0442\u043a\u0440\u043e\u0439\u0442\u0435!"))},r([f],e)}(c.default));o.default=y,cc._RF.pop()},{"../../ccstudio/common/GameConst":"GameConst","../../ccstudio/component/BaseUI":"BaseUI","../../ccstudio/component/MsgHints":"MsgHints","../../ccstudio/data/Model":"Model","../../ccstudio/manager/WXTTUtils":"WXTTUtils","../../ccstudio/utils/Utils":"Utils","../common/AdsController":"AdsController"}],ShopThemeItem:[function(t,e,o){"use strict";cc._RF.push(e,"1d8519sPTlEoYN6TcBUh4zz","ShopThemeItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/common/GameConst"),c=t("../../ccstudio/component/BaseUI"),a=t("../../ccstudio/component/MsgHints"),l=t("../../ccstudio/data/Model"),u=t("../../ccstudio/manager/WXTTUtils"),h=t("../../ccstudio/utils/Utils"),p=t("../common/AdsController"),d=cc._decorator,f=d.ccclass,y=(d.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){cc.director.on(s.default.EventType.ChangeTheme,this.updateBtns,this)},e.prototype.onDestroy=function(){cc.director.targetOff(this)},e.prototype.updateView=function(t){this.data=t,h.default.setSpriteFrame(this.sp_icon,"ui/store/preview_bkg_"+(t.id%4+1),"texture"),this.sp_icon.node.setScale(1),this.txt_title.string=s.default.THEME_NAME[t.id-1],this.node_bg.color=s.default.THEME_COLOR[t.id-1],this.node_top.color=s.default.THEME_COLOR2[t.id-1],this.updateBtns()},e.prototype.updateBtns=function(){this.btn_video.node.active=0==l.default.game.checkThemeIsUnLock(this.data.id),this.btn_select.node.opacity=l.default.game.curThemeType==this.data.id?255:0},e.prototype.onBtnClicked=function(t,e){var o=this;"btn_video"==e?u.default.showVideo(function(t){0==t&&(l.default.game.unLockTheme(o.data.id),l.default.save(),o.updateBtns(),p.default.showRewarded())}):"btn_select"==e&&(l.default.game.checkThemeIsUnLock(this.data.id)?(l.default.game.curThemeType=this.data.id,l.default.save(),cc.director.emit(s.default.EventType.ChangeTheme,this.data.id)):a.default.show("\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043e\u0442\u043a\u0440\u043e\u0439\u0442\u0435!"))},r([f],e)}(c.default));o.default=y,cc._RF.pop()},{"../../ccstudio/common/GameConst":"GameConst","../../ccstudio/component/BaseUI":"BaseUI","../../ccstudio/component/MsgHints":"MsgHints","../../ccstudio/data/Model":"Model","../../ccstudio/manager/WXTTUtils":"WXTTUtils","../../ccstudio/utils/Utils":"Utils","../common/AdsController":"AdsController"}],ShopTubeItem:[function(t,e,o){"use strict";cc._RF.push(e,"7bfa1oltelFOpwY0SeS+5xx","ShopTubeItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/common/GameConst"),c=t("../../ccstudio/component/BaseUI"),a=t("../../ccstudio/component/MsgHints"),l=t("../../ccstudio/data/Model"),u=t("../../ccstudio/manager/WXTTUtils"),h=t("../../ccstudio/utils/Utils"),p=t("../common/AdsController"),d=cc._decorator,f=d.ccclass,y=(d.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){cc.director.on(s.default.EventType.ChangeTube,this.updateBtns,this)},e.prototype.onDestroy=function(){cc.director.targetOff(this)},e.prototype.updateView=function(t){this.data=t,this.sp_icon.node.setScale(.7),h.default.setSpriteFrame(this.sp_icon,"tubes/3/tube_"+t.id,"texture"),this.updateBtns()},e.prototype.updateBtns=function(){this.btn_select.node.opacity=l.default.game.curTubeType==this.data.id?255:0,this.btn_video.node.active=0==l.default.game.checkTubeIsUnLock(this.data.id)},e.prototype.onBtnClicked=function(t,e){var o=this;"btn_video"==e?u.default.showVideo(function(t){0==t&&(l.default.game.unLockTube(o.data.id),l.default.save(),o.updateBtns(),p.default.showRewarded())}):"btn_select"==e&&(l.default.game.checkTubeIsUnLock(this.data.id)?(l.default.game.curTubeType=this.data.id,this.updateBtns(),l.default.save(),cc.director.emit(s.default.EventType.ChangeTube,this.data.id)):a.default.show("\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043e\u0442\u043a\u0440\u043e\u0439\u0442\u0435!"))},r([f],e)}(c.default));o.default=y,cc._RF.pop()},{"../../ccstudio/common/GameConst":"GameConst","../../ccstudio/component/BaseUI":"BaseUI","../../ccstudio/component/MsgHints":"MsgHints","../../ccstudio/data/Model":"Model","../../ccstudio/manager/WXTTUtils":"WXTTUtils","../../ccstudio/utils/Utils":"Utils","../common/AdsController":"AdsController"}],ShopWin:[function(t,e,o){"use strict";cc._RF.push(e,"79091wTAllILKYNSiZ7WvEn","ShopWin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/common/GameConst"),c=t("../../ccstudio/component/BasePanel"),a=t("../../ccstudio/manager/WXTTUtils"),l=cc._decorator,u=l.ccclass,h=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.titles=["\u041a\u043e\u043b\u0431\u044b","\u0428\u0430\u0440\u0438\u043a\u0438","\u0424\u043e\u043d\u044b"],e._tabIndex=-1,e}return i(e,t),e.prototype.start=function(){this.loaded=[!1,!1,!1],this.tabs=[this.btn_tubes,this.btn_balls,this.btn_theme],this.views=[this.node_view1,this.node_view2,this.node_view3],this.tabIndex=0,this.doAni(),a.default.showInterstitialAd(),a.default.showBanner()},e.prototype.doAni=function(){this.node_tabs.x-=200,cc.tween(this.node_tabs).to(.25,{x:0},{easing:"backOut"}).start(),this.node_top.x+=200,cc.tween(this.node_top).to(.25,{x:0},{easing:"backOut"}).start()},e.prototype.onBtnClicked=function(t,e){"btn_tubes"==e?this.tabIndex=0:"btn_balls"==e?this.tabIndex=1:"btn_theme"==e&&(this.tabIndex=2)},Object.defineProperty(e.prototype,"tabIndex",{get:function(){return this._tabIndex},set:function(t){this._tabIndex=t;for(var e=0;e<this.tabs.length;e++){var o=this.tabs[e];o.interactable=!0,o.node.getChildByName("tab_active").active=!1,this.views[e].active=!1}this.tabs[t].interactable=!1,this.tabs[t].node.getChildByName("tab_active").active=!0,this.views[t].active=!0,this.txt_title.string=this.titles[t],this.loaded[t]||(this.loaded[t]=!0,this.updateList(t))},enumerable:!1,configurable:!0}),e.prototype.updateList=function(t){if(0==t){for(var e=[],o=1;o<=14;o++)e.push({id:o});this.list_view1.setData(e)}else if(1==t){for(e=[],o=1;o<=18;o++)e.push({id:o});this.list_view2.setData(e)}else if(2==t){for(e=[],o=1;o<=s.default.THEME_COLOR.length;o++)e.push({id:o});this.list_view3.setData(e)}},e.prototype.close=function(){t.prototype.close.call(this),a.default.destroyBanner()},r([u],e)}(c.default));o.default=h,cc._RF.pop()},{"../../ccstudio/common/GameConst":"GameConst","../../ccstudio/component/BasePanel":"BasePanel","../../ccstudio/manager/WXTTUtils":"WXTTUtils"}],Singleton:[function(t,e,o){"use strict";cc._RF.push(e,"442d19g/N9CUrVmBGOjEo45","Singleton"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.Instance=function(){return this.instance||(this.instance=new this),this.instance},t}();o.default=n,cc._RF.pop()},{}],StringUtil:[function(t,e,o){"use strict";cc._RF.push(e,"59779K17vJKd7R/mEYBRdp7","StringUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.trim=function(t){t=(t=t.replace(/^\s*/g,"")).replace(/\s*$/g,"")},t.format=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];for(var n=0;n<e.length;n++)t=t.replace(new RegExp("\\{"+n+"\\}","gm"),e[n]);return t},t}();o.default=n,cc._RF.pop()},{}],SwitchButton:[function(t,e,o){"use strict";cc._RF.push(e,"00a27QpekdMM5W6ONb3STSK","SwitchButton");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._on=!0,e.icon=null,e}return i(e,t),Object.defineProperty(e.prototype,"on",{get:function(){return this._on},set:function(t){this._on=t,this.refreshicon()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.icon=this.node.children[0],this.refreshicon()},e.prototype.refreshicon=function(){this.icon&&(this.icon.getChildByName("on").active=this._on,this.icon.getChildByName("off").active=!this._on,this.icon.stopAllActions(),this.icon.runAction(cc.moveTo(.2,this._on?this.node.width/4:-this.node.width/4,0)))},e.prototype.onclick=function(){this.on=!this.on},r([a({type:cc.Boolean})],e.prototype,"_on",void 0),r([a({type:cc.Boolean})],e.prototype,"on",null),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ThemeLockWin:[function(t,e,o){"use strict";cc._RF.push(e,"40e37xqnolEk7EtIEXgqP3+","ThemeLockWin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/common/GameConst"),c=t("../../ccstudio/component/BasePanel"),a=t("../../ccstudio/Core"),l=t("../../ccstudio/data/Model"),u=t("../../ccstudio/utils/Utils"),h=cc._decorator,p=h.ccclass,d=(h.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){this.node_ui.scale=.6,this.node_ui.opacity=0,cc.tween(this.node_ui).to(.25,{scale:1,opacity:255},{easing:"sineOut"}).start(),this.txt_title.string="\u65b0\u7684"+this.data.name+"\u4e3b\u9898\u5df2\u7ecf\u89e3\u9501!",u.default.setSpriteFrame(this.sp_bg,"bg/"+this.data.tile+"_theme_cover","texture")},e.prototype.onBtnClicked=function(t,e){switch(a.Core.soundManager.playSFX("clickbtn"),e){case"btn_close":l.default.game.selectedTheme=this.data.main,a.Core.win.open(s.default.winPath.CollectionSubWin,null,!1)}},r([p],e)}(c.default));o.default=d,cc._RF.pop()},{"../../ccstudio/Core":"Core","../../ccstudio/common/GameConst":"GameConst","../../ccstudio/component/BasePanel":"BasePanel","../../ccstudio/data/Model":"Model","../../ccstudio/utils/Utils":"Utils"}],Tile:[function(t,e,o){"use strict";cc._RF.push(e,"53038wIE8ZAMYd0wDY8L7YN","Tile");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/component/BaseUI"),c=t("../../ccstudio/config/Config"),a=t("../../ccstudio/Core"),l=t("../../ccstudio/data/Model"),u=t("../../ccstudio/utils/Utils"),h=cc._decorator,p=h.ccclass,d=h.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sp_icon=null,e.normal_tile=null,e.join_tile=null,e.node_bg=null,e.node_lock_h=null,e.node_lock_v=null,e.remove=!1,e.aniObj={c:0},e._dark=!1,e}return i(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){var e=this;this._type=t;var o=c.default.collection.cfg[l.default.game.selectedTheme].sub[l.default.game.selectedThemeSub].tile;"sweets"==o?u.default.loadRes(o+"/"+(t+1),"texture",cc.Texture2D,function(t,o){var n=new cc.SpriteFrame(o);e.sp_icon.spriteFrame=n}):u.default.loadRes(o+"/"+(t+1),"tile",cc.Texture2D,function(t,o){var n=new cc.SpriteFrame(o);e.sp_icon.spriteFrame=n})},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.tileBgMat=this.node_bg.getComponent(cc.Sprite).getMaterial(0),this.iconMat=this.sp_icon.getMaterial(0)},e.prototype.setZoom=function(t){this.node_bg.setScale(.52*t),this.node.setContentSize(80*t,80*t)},Object.defineProperty(e.prototype,"joinType",{get:function(){return this._joinType},set:function(t){this._joinType=t,0!=t?(this.node_bg.getComponent(cc.Sprite).spriteFrame=this.join_tile,this.node_lock_h.active=1==t,this.node_lock_v.active=3==t):(this.node_bg.getComponent(cc.Sprite).spriteFrame=this.normal_tile,this.node_lock_h.active=!1,this.node_lock_v.active=!1)},enumerable:!1,configurable:!0}),e.prototype.start=function(){},Object.defineProperty(e.prototype,"dark",{get:function(){return this._dark},set:function(t){this._dark=t},enumerable:!1,configurable:!0}),e.prototype.setDark=function(t,e){var o=this;if(void 0===e&&(e=!1),this._dark!=t)if(this._dark=t,e){var n=.2,i=1;t&&(n=1,i=.2),this.aniObj.c=n,cc.Tween.stopAllByTarget(this.aniObj),cc.tween(this.aniObj).to(.5,{c:i},{progress:function(t,e,n,i){var r=t+(e-t)*i;o.iconMat.setProperty("lerpValue",r),o.tileBgMat.setProperty("lerpValue",r)}}).start()}else this.iconMat.setProperty("lerpValue",t?.2:1),this.tileBgMat.setProperty("lerpValue",t?.2:1)},e.prototype.recycle=function(t){var e=this;void 0===t&&(t=!1),this.remove=!1,this._dark=!1,this._joinType=0,this.setZoom(1,1),this.node_bg.getComponent(cc.Sprite).spriteFrame=this.normal_tile,cc.Tween.stopAllByTarget(this.aniObj),cc.Tween.stopAllByTarget(this.node),this.iconMat.setProperty("lerpValue",1),this.tileBgMat.setProperty("lerpValue",1),this.node_lock_h.active=!1,this.node_lock_v.active=!1,t?cc.tween(this.node).delay(.06).to(.2,{scale:0}).call(function(){a.Core.pool.recover("Tile",e.node)}).start():a.Core.pool.recover("Tile",this.node)},r([d(cc.SpriteFrame)],e.prototype,"normal_tile",void 0),r([d(cc.SpriteFrame)],e.prototype,"join_tile",void 0),r([p],e)}(s.default);o.default=f,cc._RF.pop()},{"../../ccstudio/Core":"Core","../../ccstudio/component/BaseUI":"BaseUI","../../ccstudio/config/Config":"Config","../../ccstudio/data/Model":"Model","../../ccstudio/utils/Utils":"Utils"}],Timer:[function(t,e,o){"use strict";cc._RF.push(e,"7bddddFsYtAeI0QEs8TlpI2","Timer"),Object.defineProperty(o,"__esModule",{value:!0}),o.TimerUnit=void 0;var n=function(){this.repeatCount=-1,this.currentCount=0,this.time=0};o.TimerUnit=n;var i=function(){function t(){this.timerList=[],this._pause=!1}return t.prototype.initSchedule=function(t){t.schedule(this.update.bind(this))},t.prototype.register=function(t,e,o,i){void 0===i&&(i=-1);for(var r=[],s=4;s<arguments.length;s++)r[s-4]=arguments[s];var c=new n;c.interval=t,c.caller=e,c.method=o,c.repeatCount=i,c.params=r,c.currentCount=0,this.timerList.push(c)},t.prototype.clear=function(t,e){for(var o=0;o<this.timerList.length;o++){var n=this.timerList[o];if(n.caller==t&&n.method==e){this.timerList.splice(o,1);break}}},t.prototype.clearAll=function(t){for(var e=0;e<this.timerList.length;e++)this.timerList[e].caller==t&&(this.timerList.splice(e,1),e--)},t.prototype.update=function(t){if(!this._pause)for(var e=0;e<this.timerList.length;e++){var o=this.timerList[e];o.time+=t,o.time>=o.interval&&(o.time-=o.interval,o.currentCount++,o.method&&o.method.apply(o.caller,o.params),o.currentCount>=o.repeatCount&&o.repeatCount>0&&(this.timerList.splice(e,1),e--))}},t.prototype.pause=function(){this._pause=!0},t.prototype.resume=function(){this._pause=!1},t}();o.default=i,cc._RF.pop()},{}],Tubes:[function(t,e,o){"use strict";cc._RF.push(e,"2e59ehRzIxNI4DWvoppXonF","Tubes");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/common/GameConst"),c=t("../../ccstudio/component/BaseUI"),a=t("../../ccstudio/Core"),l=t("../../ccstudio/data/Model"),u=t("../../ccstudio/utils/BezierUtil"),h=t("../../ccstudio/utils/Utils"),p=cc._decorator,d=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state=0,e.tip=0,e}return i(e,t),e.prototype.start=function(){cc.director.on(s.default.EventType.ChangeTube,this.changeTube,this)},e.prototype.onDestroy=function(){cc.director.targetOff(this)},e.prototype.changeTube=function(){this.relayout(),h.default.setSpriteFrame(this.sp_icon,"tubes/"+this.count+"/tube_"+l.default.game.curTubeType,"texture")},e.prototype.initData=function(t,e){if(void 0===e&&(e=null),this.clickBack=e,this.balls=[],this.count=Number(t[1]),h.default.setSpriteFrame(this.sp_icon,"tubes/"+this.count+"/tube_"+l.default.game.curTubeType,"texture"),0==Number(t[2]))for(var o=0,n=3;n<t.length;n++)if(Number(t[n])>=0){var i=a.Core.pool.get("Ball");i.node.parent=this.node_box,i.type=Number(t[n]);var r=this.getPos(o);o++,this.balls.push(i),i.node.y=r+800,i.node.x=-1e3,cc.tween(i.node).delay(.1*o).set({x:0}).to(1,{y:r},{easing:"bounceOut"}).start()}},e.prototype.relayout=function(){for(var t=0;t<this.balls.length;t++){var e=this.getPos(t);this.balls[t].node.x=0,this.balls[t].node.y=e}},e.prototype.getTopBallType=function(){return this.balls.length>0?this.balls[this.balls.length-1].type:-1},e.prototype.addBall=function(t,e,o){var n=this;a.Core.soundManager.playSFX("sound_ball_move"),e=cc.v2(Math.floor(e.x),Math.floor(e.y)),t.node.parent=this.node_box,t.node.position=e;var i=cc.v2(0,this.getPos(this.balls.length));this.balls.push(t);var r=this.checkComplete();t.playEff=r;for(var s=cc.v2(e.x,e.y+o),c=cc.v2(0,this.getTopPos()),l=[e,s,cc.v2(Math.floor((s.x+c.x)/2),Math.max(s.y,c.y)+100),c,i],h=0;h<l.length-2;h++)(l[h].x==l[h+1].x&&l[h+1].x==l[h+2].x||l[h].y==l[h+1].y&&l[h+1].y==l[h+2].y)&&(l.splice(h,1),h--);if(l.length>2){for(var p=[],d=0;d<l.length-2;d++)for(var f=0==d?new cc.Vec2(l[0].x,l[0].y):new cc.Vec2((l[d].x+l[d+1].x)/2,(l[d].y+l[d+1].y)/2),y=new cc.Vec2(l[d+1].x,l[d+1].y),m=d<=l.length-4?new cc.Vec2((l[d+1].x+l[d+2].x)/2,(l[d+1].y+l[d+2].y)/2):new cc.Vec2(l[d+2].x,l[d+2].y),_=u.default.init(f,y,m,15),g=1;g<=_;++g){var v=u.default.getAnchorPoint(g);p.push(v)}cc.Tween.stopAllByTarget(t.node);var b=cc.tween(t.node),w=.5/p.length;for(h=0;h<p.length;h++)p.length,b.to(w,{x:p[h][0],y:p[h][1]});b.call(function(){t.playEff&&n.playEff()}).start()}else{cc.Tween.stopAllByTarget(t.node),b=cc.tween(t.node),l=[s,i];var C=t.node.position;for(h=0;h<l.length;h++)w=l[h].sub(C).mag()/1400,b.to(w,{x:l[h].x,y:l[h].y}),C=l[h].clone();b.call(function(){t.playEff&&n.playEff()}).start()}},e.prototype.getPos=function(t){return 6==l.default.game.curTubeType?82*t+49:7==l.default.game.curTubeType?82*t+60:8==l.default.game.curTubeType?82*t+67:82*t+46},e.prototype.removeTopBall=function(){if(this.balls.length>0){var t=this.getTopPos(),e=this.getPos(this.balls.length-1);return e=Math.max(e,this.balls[this.balls.length-1].node.y),{ball:this.balls.pop(),offsetTop:t-e}}return null},e.prototype.moveToTop=function(){if(0==this.state){this.state=1;var t=this.balls[this.balls.length-1];cc.Tween.stopAllByTarget(t.node),cc.tween(t.node).to(.25,{x:0,y:this.getTopPos()}).start(),a.Core.soundManager.playSFX("sound_ball_move")}},e.prototype.backRightPos=function(){if(1==this.state){this.state=0;var t=cc.v2(0,this.getPos(this.balls.length-1)),e=this.balls[this.balls.length-1];cc.Tween.stopAllByTarget(e.node),cc.tween(e.node).to(.25,{y:t.y}).start(),a.Core.soundManager.playSFX("sound_ball_move")}},e.prototype.checkComplete=function(){for(var t=!0,e=0,o=this.balls;e<o.length;e++)if(o[e].type!=this.balls[0].type){t=!1;break}return!(!t||this.balls.length!=this.count||(cc.log("complete"),this.state=s.default.TUBE_STATE.Complete,0))},e.prototype.playEff=function(){var t=this;this.node_particle.active=!0,this.node_particle.getComponent(cc.ParticleSystem).resetSystem(),cc.tween(this.node_particle).to(.5,{y:this.getTopPos()+120}).call(function(){t.node_particle.active=!1}).start(),a.Core.soundManager.playSFX("sound_tube_full")},e.prototype.showTip=function(t){this.tip=t,this.node_right.active=1==t,this.node_wrong.active=2==t,this.node_right.y=this.node_wrong.y=this.getTopPos()},e.prototype.getTopPos=function(){return 82*this.count+80},e.prototype.getHeight=function(){return 82*this.count+32},e.prototype.checkIsEmpty=function(){return 0==this.balls.length},e.prototype.checkIsOk=function(){if(0==this.balls.length)return!0;for(var t=!0,e=0,o=this.balls;e<o.length;e++)if(o[e].type!=this.balls[0].type){t=!1;break}return!(!t||this.balls.length!=this.count)},e.prototype.checkIsFull=function(){return this.balls.length==this.count},e.prototype.checkAllIsType=function(t){if(0==this.balls.length)return!1;for(var e=!0,o=0,n=this.balls;o<n.length;o++)if(n[o].type!=t){e=!1;break}return e},e.prototype.onClick=function(){this.state!=s.default.TUBE_STATE.Complete&&this.clickBack&&this.clickBack()},e.prototype.removeAll=function(){for(var t=0,e=this.balls;t<e.length;t++){var o=e[t];a.Core.pool.recover("Ball",o.node)}this.node.destroy()},r([d],e)}(c.default));o.default=f,cc._RF.pop()},{"../../ccstudio/Core":"Core","../../ccstudio/common/GameConst":"GameConst","../../ccstudio/component/BaseUI":"BaseUI","../../ccstudio/data/Model":"Model","../../ccstudio/utils/BezierUtil":"BezierUtil","../../ccstudio/utils/Utils":"Utils"}],TutorialCompleteWin:[function(t,e,o){"use strict";cc._RF.push(e,"657e2qyuaZCopj8DJJzKs0n","TutorialCompleteWin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ccstudio/common/GameConst"),c=t("../../ccstudio/component/BasePanel"),a=t("../../ccstudio/Core"),l=cc._decorator,u=l.ccclass,h=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){this.node_ui.x=600,cc.tween(this.node_ui).to(.25,{x:0},{easing:"backOut"}).start(),a.Core.soundManager.playSFX("victory")},e.prototype.click_next=function(){a.Core.win.open(s.default.winPath.CollectionMainWin,null,!0)},e.prototype.click_home=function(){a.Core.win.open(s.default.winPath.MenuWin,null,!0)},e.prototype.onBtnClicked=function(t,e){switch(a.Core.soundManager.playSFX("clickbtn"),e){case"btn_next":this.click_next();break;case"btn_back":this.click_home()}},r([u],e)}(c.default));o.default=h,cc._RF.pop()},{"../../ccstudio/Core":"Core","../../ccstudio/common/GameConst":"GameConst","../../ccstudio/component/BasePanel":"BasePanel"}],Utils:[function(t,e,o){"use strict";cc._RF.push(e,"faf67C/UKVCf4AP9VPq9Wpk","Utils"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./BigNumber"),i=t("./Shake"),r=window.wx||window.tt,s=function(){function t(){}return t.randomItem=function(t){return t&&t.length>0?t[this.getRandomInt(0,t.length-1)]:null},t.checkIsToDay=function(e){var o=new Date(e),n=new Date(t.getServerTime()),i=!1;return o.getFullYear()==n.getFullYear()&&o.getMonth()==n.getMonth()&&o.getDate()==n.getDate()&&(i=!0),i},t.Object2Array=function(t){var e=[];for(var o in t)e.push(t[o]);return e},t.getRandom=function(t,e){return Math.random()*(e-t)+t},t.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t))+t},t.seedRandom=function(){return t.getRandom(0,1)},t.seedRandomInt=function(e,o){return t.getRandomInt(e,o)},t.rnd=function(t){return(t=(9301*t+49297)%233280)/233280},t.formatNumber=function(t,e){return void 0===e&&(e=1),t=Math.floor(t),n.default.getLargeString(t)},t.getPowNum=function(t){return Math.pow(10,t)},t.setServerTime=function(e){t.timeOffset=e-(new Date).getTime(),cc.log("timeOffset:",t.timeOffset)},t.getServerTime=function(){return(new Date).getTime()+t.timeOffset},t.Shake=function(t,e,o){var n=cc.find("Canvas/Main Camera");n.x=0,n.y=0,n.stopAllActions(),n.runAction(i.Shake.create(t,e,o))},t.showTip=function(t){cc.sys.platform==cc.sys.WECHAT_GAME&&r.showToast({title:t,icon:"none",duration:1500})},t.formatDate=function(t){var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())+" "+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())},t.cloneObj=function(t){return t=JSON.stringify(t),JSON.parse(t)},t.getTimeStrByS=function(t){(t=Math.floor(t))<0&&(t=0);var e=Math.floor(t/3600/24);t-=86400*e;var o=Math.floor(t/3600);t-=3600*o;var n,i=Math.floor(t/60);n=i>9?""+i:"0"+i;var r;return r=(t-=60*i)>9?""+t:"0"+t,e>0?e+"\u5929"+o+"\u65f6"+i+"\u5206":o>0?(o>9?""+o:"0"+o)+":"+n:n+":"+r},t.getClockStrByS=function(t,e,o){void 0===e&&(e=!0),void 0===o&&(o=!0),(t=Math.floor(t))<0&&(t=0);var n=Math.floor(t/3600);t-=3600*n;var i=Math.floor(t/60);t-=60*i;var r="";return o&&(r+=n>9?""+n:"0"+n,r+=":"),r+=i>9?""+i:"0"+i,e&&(r+=":"+(t<10?"0":"")+t),r},t.checkObjEmpty=function(t){if(t){for(var e in t)return!1;return!0}return!0},t.checkOrderOver=function(e){var o=new Date(e),n=new Date(t.getServerTime());return o.getFullYear()!=n.getFullYear()||o.getMonth()!=n.getMonth()||o.getDate()!=n.getDate()},t.loadSpriteFrame=function(t,e,o){void 0===o&&(o=null),this.loadRes("tp/"+t,"texture",cc.SpriteAtlas,function(n,i){n?(console.log(t,e),cc.error(n)):o(i.getSpriteFrame(e))})},t.loadRes=function(t,e,o,n){void 0===n&&(n=null),cc.assetManager.loadBundle(e,function(e,i){e?cc.log(e):i.load(t,o,function(t,e){t?cc.log(t):n(t,e)})})},t.weight=function(t){for(var e=0,o=0;o<t.length;++o)e+=t[o];if(e<=0)return-1;var n=Math.round(Math.random()*Number.MAX_VALUE)%e;for(o=0;o<t.length;++o){if(n<t[o])return o;n-=t[o]}return-1},t.shuffle=function(t){for(var e=t.length-1;e>=0;e--){var o=Math.floor(Math.random()*(e+1)),n=t[o];t[o]=t[e],t[e]=n}return t},t.getDate=function(t){var e=new Date(t),o=e.getFullYear(),n=e.getMonth()+1,i=e.getDate();return o+"-"+(n<10?"0"+n:n)+"-"+(i<10?"0"+i:i)+" "+e.toTimeString().substr(0,8)},t.goldCrarryBit=function(t){for(var e=[[1e8,"N"],[1e7,"T"],[1e6,"G"],[1e5,"M"],[1e4,"K"],[1e3,"B"]],o=0;o<e.length;o++){var n=t/e[o][0];if(n>1)return""+n.toFixed(1)+e[o][1]}return t.toString()},t.fixFloat=function(t,e){void 0===e&&(e=2);var o=Math.pow(10,e);return Math.floor(t*o)/o},t.formatString=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];for(var n=0;n<e.length;n++){var i=new RegExp("\\{"+n+"\\}","gm");t=t.replace(i,e[n])}return t},t.count=function(t){if(!t)return 0;var e=0;for(var o in t)e++;return e},t.copy=function(t){var e=Object.create(t);return Object.assign(e,t),e},t.setGray=function(t,e){e?t.setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")):t.setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite"))},t.setSpriteFrame=function(t,e,o,n){void 0===o&&(o="resources"),void 0===n&&(n=null),cc.assetManager.getBundle(o).load(e,cc.Texture2D,function(o,i){o?cc.log("error",e):(t.spriteFrame=new cc.SpriteFrame(i),n&&n())})},t.initArray2=function(t,e,o){void 0===o&&(o=null);for(var n=[],i=0;i<t;i++){n[i]=[];for(var r=0;r<e;r++)n[i][r]=o}return n},t.localConvertWorldPointAR=function(t){return t?t.convertToWorldSpaceAR(cc.v2(0,0)):null},t.convetOtherNodeSpaceAR=function(e,o){if(!e||!o)return null;var n=t.localConvertWorldPointAR(e);return t.worldConvertLocalPointAR(o,n)},t.worldConvertLocalPointAR=function(t,e){return t?t.convertToNodeSpaceAR(e):null},t.getCross=function(t,e,o){return(e.x-t.x)*(o.y-t.y)-(o.x-t.x)*(e.y-t.y)},t.isPointInMatrix=function(e,o,n,i,r){return t.getCross(e,o,r)*t.getCross(n,i,r)>=0&&t.getCross(o,n,r)*t.getCross(i,e,r)>=0},t.randomArray=function(t){for(var e=[],o=t.length,n=0;n<o;n++){var i=Math.floor(Math.random()*t.length);e.push(t[i]),t.splice(i,1)}return e},t.removeElementFromArray=function(t,e){for(var o=e.length-1;o>=0;o--)if(e[o]==t){e.splice(o,1);break}},t.getDayCount=function(t,e){var o=!1;return(t%100!=0&&t%4==0||t%400==0)&&(o=!0),1==e||3==e||5==e||7==e||8==e||10==e||12==e?31:4==e||6==e||9==e||11==e?30:o?29:28},t.seed=5,t.timeOffset=0,t}();o.default=s,cc._RF.pop()},{"./BigNumber":"BigNumber","./Shake":"Shake"}],ViewGroupNesting:[function(t,e,o){"use strict";cc._RF.push(e,"4c971GuJIVBn55qyAoUzzPz","ViewGroupNesting");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.events=[],e}return i(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchHandle,this,!0),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchHandle,this,!0),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchHandle,this,!0),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchHandle,this,!0)},e.prototype.onTouchHandle=function(t){if(!t.sham&&!t.simulate&&t.target!==this.node){var e=new cc.Event.EventTouch(t.getTouches(),t.bubbles);e.type=t.type,e.touch=t.touch,e.sham=!0,this.events.push(e)}},e.prototype.update=function(){if(0!==this.events.length){for(var t=0;t<this.events.length;t++)this.node.dispatchEvent(this.events[t]);this.events.length=0}},r([c],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],WXTTUtils:[function(t,e,o){"use strict";cc._RF.push(e,"e0c5br/4VNIaqXVxlpLMr9M","WXTTUtils"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../utils/HTTP"),i=window.wx,r=function(){function t(){}return t.share=function(t){void 0===t&&(t=null),cc.sys.platform==cc.sys.WECHAT_GAME&&i.shareAppMessage({title:"\u7ecf\u5178\u65b9\u5757\u6d88\u9664\uff0c\u5feb\u6765\u4e00\u8d77\u8fdb\u5165\u795e\u79d8\u7684\u4e16\u754c\uff01",imageUrl:"icon.png",success:function(){t&&t()},fail:function(){}})},t.onShow=function(t){cc.sys.platform==cc.sys.WECHAT_GAME&&i.onShow(function(){t&&t()})},t.showShareMenu=function(){cc.sys.platform==cc.sys.WECHAT_GAME&&(i.showShareMenu({menus:["shareAppMessage","shareTimeline"],withShareTicket:!0}),i.onShareAppMessage(function(){return{title:"\u636e\u8bf4\u53ea\u67091%\u7684\u4eba\u80fd\u901a\u5173\uff01"}}))},t.jump=function(t){cc.sys.platform==cc.sys.WECHAT_GAME&&i.navigateToMiniProgram({appId:t,path:"",extraData:null,envVersion:"release",success:function(){console.log("\u8df3\u8f6c\u6210\u529f")}})},t.showTip=function(t){cc.sys.platform==cc.sys.WECHAT_GAME&&i.showToast({title:t,icon:"none",duration:1500})},t.destroyBanner=function(){null!=t.bannerAd&&(t.bannerAd.destroy(),t.bannerAd=null)},t.showBanner=function(){if(cc.sys.platform==cc.sys.WECHAT_GAME){var e=!1;i.getSystemInfo({success:function(t){-1!=t.model.search("iPhone X")&&(e=!0)}});var o=0;e&&(o=-30);var n=i.getSystemInfoSync(),r=i.createBannerAd({adUnitId:t.BANNER_ID,adIntervals:30,style:{left:n.windowWidth-300>>1,top:n.windowHeight-80+o,width:300}});t.bannerAd=r,t.bannerAd.show(),r.onResize(function(){r.style.top=n.windowHeight-r.style.realHeight+o}),r.onError(function(t){console.log("banner\u663e\u793a",t)})}},t.initInterstitialAd=function(){cc.sys.platform==cc.sys.WECHAT_GAME&&i.createInterstitialAd&&(t.interstitialAd=i.createInterstitialAd({adUnitId:t.CHAPIN_ID}),t.interstitialAd.onLoad(function(){console.log("\u63d2\u5c4f\u521d\u59cb\u5316\u6210\u529f"),t.showInterstitialAd()}),t.interstitialAd.onError(function(t){console.log("interstitialAd onError event emit",t)}),t.interstitialAd.onClose(function(t){console.log("interstitialAd onClose event emit",t)}))},t.showInterstitialAd=function(){t.interstitialAd&&(console.log("\u663e\u793a\u63d2\u5c4f\u5e7f\u544a"),t.interstitialAd.show().catch(function(t){console.error("\u63d2\u5c4f\u663e\u793a\u9519\u8bef",t)}))},t.initGridAd=function(){if(i&&i.createGridAd){var e=i.createCustomAd({adUnitId:t.GRID_ID,adIntervals:30,style:{top:300,left:0,width:750,fixed:!0}});e.onError(function(e){console.log("\u683c\u5b50\u5e7f\u544a\u521d\u59cb\u5316\u9519\u8bef",e),e.errCode>=1e3&&e.errCode<=1008&&(t.gridAdLoaded=!1)}),t.gridAd=e,this.showGridAd()}},t.showGridAd=function(){console.log("\u663e\u793a\u683c\u5b50",t.gridAd),t.gridAd&&t.gridAd.show().catch(function(t){console.error("\u683c\u5b50\u5e7f\u544a\u663e\u793a\u9519\u8bef",t)})},t.hideGrid=function(){null!=t.gridAd&&t.gridAd.hide()},t.showVideo=function(e){cc.sys.isBrowser?e(0):(t.videoCall=e,t.videoAd.show().catch(function(){t.videoAd.load().then(function(){return t.videoAd.show()}).catch(function(e){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u5931\u8d25",e),t.showTip("\u6682\u65e0\u89c6\u9891\u53ef\u7528\uff01"),t.videoCall&&t.videoCall(-1)})}))},t.initVideo=function(){if(cc.sys.platform==cc.sys.WECHAT_GAME){if(null!=t.videoAd)return;var e=i.createRewardedVideoAd({adUnitId:t.VIDEO_ID});t.videoAd=e,e.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),e.onError(function(e){console.log(e),t.videoCall&&t.videoCall(-1)}),e.onClose(function(e){e&&e.isEnded||void 0===e?t.videoCall&&t.videoCall(0):t.videoCall&&t.videoCall(1)})}},t.vibrateShort=function(){i&&i.vibrateShort()},t.getWxIdFromServer=function(e){n.default.sendRequest("",{},function(o){t.BANNER_ID=o.banner,t.VIDEO_ID=o.video,t.CHAPIN_ID=o.chapin,t.GRID_ID=o.grid,console.log(o),console.log("banner,video,inters,grid",t.BANNER_ID,t.VIDEO_ID,t.CHAPIN_ID,t.GRID_ID),e&&e()},"https://game-1253296427.cos.ap-chengdu.myqcloud.com/sortball/ad.json",function(){console.log("\u8bf7\u6c42\u9519\u8bef")})},t.bannerAd=null,t.videoAd=null,t.interstitialAd=null,t.gridAd=null,t.gridAdLoaded=!0,t.BANNER_ID="adunit-260ce7d091553c12",t.VIDEO_ID="adunit-a9887187a37f8b9d",t.CHAPIN_ID="adunit-d0bca4fe84d293b1",t.GRID_ID="adunit-1fb1bfbc41988c49",t.videoCall=null,t}();o.default=r,cc._RF.pop()},{"../utils/HTTP":"HTTP"}],WindowManager:[function(t,e,o){"use strict";cc._RF.push(e,"fea3aTpgkVOqYA14eo0CjpL","WindowManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../utils/Utils"),i=t("./BusyLoadingManager"),r=function(){function t(){this._windows={},this._showlist={}}return t.prototype.register=function(t){this._windowContainer=t},t.prototype.open=function(t,e,o,r){var s=this;if(void 0===e&&(e=null),void 0===o&&(o=!1),void 0===r&&(r=!0),this._showlist[t.name]){var c=this._windows[t.name];return c.node.active=!0,void c.panelDataUpdate(e)}cc.log("OPEN--------"+t.name),this._showlist[t.name]=!0,null==this._windows[t.name]?(r&&i.default.ins.addBusy(i.BUSY_TYPE.RES),n.default.loadRes(t.path+t.name,t.bundle,cc.Prefab,function(n,c){var a=cc.instantiate(c);a.parent=s._windowContainer;var l=a.getComponent(a.name);s._windows[t.name]=l,l.show(e),r&&i.default.ins.removeBusy(i.BUSY_TYPE.RES),o&&s.removeAll(t.name)})):this._windows[t.name].show(e)},t.prototype.removeWindow=function(t){if(!this._showlist[t])return null;this._showlist[t]=null,delete this._showlist[t];var e=this._windows[t];e.recycle(),e.node.destroy(),this._windows[t]=null,delete this._windows[t]},t.prototype.removeAll=function(t){for(var e in this._windows)e!=t&&this.removeWindow(e)},t.prototype.panelDataUpdate=function(t,e){void 0===e&&(e=null),this._windows[t]&&this._windows[t].panelDataUpdate(e)},t.prototype.isShow=function(t){return this._showlist[t]},t.prototype.getWin=function(t){return this._windows[t]?this._windows[t]:null},t.prototype.hide=function(t){this._showlist[t]&&(this._windows[t].node.active=!1)},t}();o.default=r,cc._RF.pop()},{"../utils/Utils":"Utils","./BusyLoadingManager":"BusyLoadingManager"}]},{},["Core","Astar","GameConst","BasePanel","BaseScene","BaseUI","FitUI","FrameAnimation","LinkPrefab","List","ListItem","ListView","MsgBox","MsgHints","CollectionCfgParser","Config","LevelCfgParser","GameModel","Model","ModelBase","BusyLoadingManager","ConfigManager","Dispatcher","LayerManager","PoolManager","Singleton","WXTTUtils","WindowManager","Adapt","AudioMgr","Base64","BezierUtil","BigNumber","DebugTools","HTTP","ImageQueueLoader","LongTouchComponent","Shake","StringUtil","Timer","Utils","GameEntry","CollectionListItem","CollectionListWin","CollectionMainItem","CollectionMainWin","CollectionSubItem","CollectionSubWin","AdsController","BusyLoading","DailyChallengeWin","AwardWin","Ball","BgLight","GameDailyWin","GameWin","GuideWin","HelpWin","LoseWin","PassWin","PauseWin","SettingWin","SwitchButton","ThemeLockWin","Tile","Tubes","TutorialCompleteWin","LevelWin","ViewGroupNesting","LoadingWin","MenuWin","ShopBallItem","ShopThemeItem","ShopTubeItem","ShopWin"]);